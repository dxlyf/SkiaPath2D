(function(m,Z){typeof exports=="object"&&typeof module<"u"?Z(exports):typeof define=="function"&&define.amd?define(["exports"],Z):(m=typeof globalThis<"u"?globalThis:m||self,Z(m.SkPath2d={}))})(this,function(m){"use strict";var Gr=Object.defineProperty;var tl=(m,Z,I)=>Z in m?Gr(m,Z,{enumerable:!0,configurable:!0,writable:!0,value:I}):m[Z]=I;var k=(m,Z,I)=>tl(m,typeof Z!="symbol"?Z+"":Z,I);const Z=1192092896e-16;class I{constructor(t){k(this,"value");this.value=t}static from(t){return new I(t)}swap(t){let e=this.value;this.value=t.value,t.value=e}}class L{constructor(t){k(this,"data",[]);k(this,"curIndex",0);this.data=t}static from(t){return new this(t)}get length(){return this.data.length}copy(t){return this.data=t.data,this.curIndex=t.curIndex,this}clone(){return new L(this.data).copy(this)}slice(t){const e=new L(this.data);return e.curIndex=t,e}get(t){return this.data[t+this.curIndex]}set(t,e){return this.data[t+this.curIndex]=e,this}set value(t){this.data[this.curIndex]=t}get value(){return this.data[this.curIndex]}move(t){return this.curIndex=t,this}next(t=1){return this.move(this.curIndex+t),this}prev(t=1){return this.move(this.curIndex-t),this}}class Dn{constructor(t,e=0,i=!1){k(this,"data");k(this,"size",0);k(this,"currentIndex",0);k(this,"increase",1);this.size=t,this.currentIndex=e%t,this.increase=i?t-1:1,this.data=new Array(t)}get current(){return this.data[this.currentIndex]}get next(){return this.currentIndex=(this.currentIndex+this.increase)%this.size,this.data[this.currentIndex]}}const Yn=(n,t)=>{let e=n.value;n.value=t.value,t.value=e};class T extends Float32Array{static make(t=4){return new T(t)}static fromXY(t,e){return new T(2).setElements([t,e])}static splat(t,e=2){return new T(e).setElements(new Array(e).fill(t))}static fromPoint(t){let e=new T(2);return e.set([t.x,t.y]),e}static fromPoints(t,e){let i=new T(e*2);for(let s=0;s<e;s++)i.elements[s*2]=t[s].x,i.elements[s*2+1]=t[s].y;return i}static fromArray(t,e=t.length){let i=new T(e);for(let s=0;s<e;s++)i.elements[s]=t[s];return i}constructor(t){super(t)}get x(){return this.elements[0]}set x(t){this.elements[0]=t}get y(){return this.elements[1]}set y(t){this.elements[1]=t}get z(){return this.elements[2]}set z(t){this.elements[2]=t}get w(){return this.elements[2]}set w(t){this.elements[2]=t}get h(){return this.elements[3]}set h(t){this.elements[3]=t}get elements(){return this}setElements(t){return this.set(t),this}storePoint(t){t.set(this.x,this.y)}store(t){for(let e=0;e<this.elements.length;e+=1)t[e]=this.elements[e]}storePoints(t){for(let e=0;e<this.elements.length;e+=2)t[e/2].set(this.elements[e],this.elements[e+1])}add(t){return this.setElements(this.elements.map((e,i)=>e+t.elements[i]))}sub(t){return this.setElements(this.elements.map((e,i)=>e-t.elements[i]))}mulScalar(t){return this.setElements(this.elements.map(e=>e*t))}min(t){return this.setElements(this.elements.map((e,i)=>Math.min(e,t.elements[i])))}max(t){return this.setElements(this.elements.map((e,i)=>Math.max(e,t.elements[i])))}mul(t){return this.setElements(this.elements.map((e,i)=>e*t.elements[i]))}div(t){return this.setElements(this.elements.map((e,i)=>e/t.elements[i]))}sqrt(){return this.setElements(this.elements.map(t=>Math.sqrt(t)))}inverse(){return this.setElements(this.elements.map(t=>1/t))}clone(){return new T(this.elements.length).setElements(this.elements)}copy(t){return this.elements.set(t.elements),this}xy(){return new T(2).setElements([this.x,this.y])}xyxy(){return new T(4).setElements([this.x,this.y,this.x,this.y])}xyz(){return new T(3).setElements([this.x,this.y,this.z])}equals(t){return this.elements.every((e,i)=>e==t.elements[i])}equalsWithTolerance(t,e=1e-4){return this.elements.every((i,s)=>Math.abs(i-t.elements[s])<e)}lerp(t,e,i){return this.setElements(this.elements.map((s,r)=>t.elements[r]+i.elements[r]*(e.elements[r]-t.elements[r])))}clmap(t,e){return this.setElements(this.elements.map((i,s)=>Math.max(t.elements[s],Math.min(e.elements[s],this.elements[s]))))}}function di(n){return Math.sqrt(n)}function zt(n,t){return n/t}function Xn(n,t){return Math.min(n,t)}function jn(n,t){return Math.max(n,t)}function yi(n){return Math.abs(n)}function D(n,t,e){return Math.min(Math.max(n,t),e)}function U(n,t,e){return n+(t-n)*e}function q(n){return n==0||yi(n)<Z}function ee(n,t){return n/t}function Zn(n){return n}function Un(n){return Number.isFinite(n)}function ki(n,t){return t===0?1/t===-1/0?-Math.abs(n):Math.abs(n):t<0?-Math.abs(n):Math.abs(n)}function bi(n){const t=new ArrayBuffer(8),e=new DataView(t);e.setFloat64(0,n,!0);const i=e.getUint32(0,!0),s=e.getUint32(4,!0);let r=BigInt(s)<<32n|BigInt(i);r&=0b0111111111110000000000000000000000000000000000000000000000000000n;const a=Number(r>>32n&0xffffffffn),o=Number(r&0xffffffffn);return e.setUint32(0,o,!0),e.setUint32(4,a,!0),e.getFloat64(0,!0)}function Kn(n){return Math.sign(n)*Math.pow(2,Math.floor(Math.log2(Math.abs(n))))}function pt(n,t,e=0){const i=Number.MIN_VALUE,s=Math.max(Math.max(bi(n),i),bi(t)),r=Number.EPSILON,l=s*(r*(e+1));return n===t||Math.abs(t-n)<l}class c{constructor(t){k(this,"elements",new Float32Array([0,0]));k(this,"isVector2",!0);this.elements.set(t)}static zero(){return this.create(0,0)}static default(){return this.zero()}static create(t,e){return new this([t,e])}static fromPoint(t){return this.create(t.x,t.y)}static fromRotation(t){return this.create(Math.cos(t),Math.sin(t))}static fromXY(t,e){return this.create(t,e)}static splat(t){return this.create(t,t)}static make(t){return Array.from({length:t},()=>this.default())}get x(){return this.elements[0]}set x(t){this.elements[0]=t}get y(){return this.elements[1]}set y(t){this.elements[1]=t}get halfX(){return this.elements[0]*.5}get halfY(){return this.elements[1]*.5}set(t,e){return(this.x!==t||this.y!==e)&&(this.elements[0]=t,this.elements[1]=e),this}clone(){return c.default().copy(this)}copy(t){return this.set(t.x,t.y)}add(t){return this.addVectors(this,t)}addVectors(t,e){return this.set(t.x+e.x,t.y+e.y)}subtractVectors(t,e){return this.set(t.x-e.x,t.y-e.y)}sub(t){return this.subtractVectors(this,t)}subtract(t){return this.subtractVectors(this,t)}negate(){return this.set(-this.x,-this.y)}inverse(){return this.set(1/this.x,1/this.y)}multiplyScalar(t){return this.multiplyVectorScalar(this,t)}multiplyVectorScalar(t,e){return this.set(t.x*e,t.y*e)}subtractMultiplyVectorScalar(t,e,i){return this.set(t.x-e.x*i,t.y-e.y*i)}addMultiplyVectorScalar(t,e,i){return this.set(t.x+e.x*i,t.y+e.y*i)}multiplySubtractVectors(t,e){return this.scale(t.x-e.x,t.y-e.y)}multiplyAddVectors(t,e){return this.scale(t.x+e.x,t.y+e.y)}multiplyVectors(t,e){return this.set(t.x*e.x,t.y*e.y)}multiply(t){return this.multiplyVectors(this,t)}divideVectors(t,e){return this.set(t.x/e.x,t.y/e.y)}divideScalar(t){return this.set(this.x/t,this.y/t)}divide(t){return this.divideVectors(this,t)}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}perp(){return this.set(-this.y,this.x)}rperp(){return this.set(this.y,-this.x)}canNormalize(){return this.isFinite()&&(this.x!==0||this.y!==0)}toNormalize(){return this.normalize(),this}normalize(){return this.setPointLength(this,this.x,this.y,1)}setNormalized(t){return this.setPointLength(this,t.x,t.y,1)}distanceToSquared(t){return(this.x-t.x)**2+(this.y-t.y)**2}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}lengthSquared(){return this.lengthSq()}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.lengthSq())}inverseLength(){return 1/this.length()}angle(){return Math.atan2(this.y,this.x)}angleTanTo(t){return Math.atan2(this.cross(t),this.dot(t))}angleTo(t){return Math.acos(this.dot(t)/(this.length()*t.length()))}projectLength(t){return this.dot(t)/t.length()}projectLengthNormalize(t){return this.dot(t)}projectRatio(t){return this.dot(t)/t.dot(t)}project(t){let i=this.projectLength(t)/t.length();return this.multiplyVectorScalar(t,i)}projectNormalize(t){let e=this.projectLengthNormalize(t);return this.multiplyVectorScalar(t,e)}reflect(t){const e=this.projectLengthNormalize(t);return this.subtractMultiplyVectorScalar(this,t,2*e-1)}translate(t,e){return this.set(this.x+t,this.y+e)}rotate(t,e=c.zero()){let i=Math.cos(t),s=Math.sin(t);if(e.isZero())return this.set(this.x*i-this.y*s,this.x*s+this.y*i);{const r=this.x-e.x,l=this.y-e.y;return this.set(r*i-l*s+e.x,r*s+l*i+e.y)}}scale(t,e){return this.set(this.x*t,this.y*e)}round(){return this.set(Math.round(this.x),Math.round(this.y))}abs(){return this.set(Math.abs(this.x),Math.abs(this.y))}ceil(){return this.set(Math.ceil(this.x),Math.ceil(this.y))}floor(){return this.set(Math.floor(this.x),Math.floor(this.y))}trunc(){return this.set(Math.trunc(this.x),Math.trunc(this.y))}sign(){return this.set(Math.sign(this.x),Math.sign(this.y))}cosSin(){return this.set(Math.cos(this.x),Math.sin(this.y))}minScalar(t){return this.set(Math.min(this.x,t),Math.min(this.y,t))}minVectors(t,e){return this.set(Math.min(t.x,e.x),Math.min(t.y,e.y))}maxVectors(t,e){return this.set(Math.max(t.x,e.x),Math.max(t.y,e.y))}min(t){return this.minVectors(this,t)}max(t){return this.maxVectors(this,t)}lerp(t,e,i){return this.set(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)}smoonstep(t,e,i){return this.set(t.x+(e.x-t.x)*i*i*(3-2*i),t.y+(e.y-t.y)*i*i*(3-2*i))}setPointLength(t,e,i,s,r){let l=e,a=i,o=Math.sqrt(l*l+a*a),u=s/o;if(e*=u,i*=u,!Number.isFinite(e)||!Number.isFinite(i)||e==0&&i==0)return t.set(0,0),!1;let h=0;return r&&(h=o),t.set(e,i),r&&(r.value=h),!0}setLength(t){return this.setPointLength(this,this.x,this.y,t)}setLengthFrom(t,e,i){return this.setPointLength(this,t,e,i)}isFinite(){return isFinite(this.x)&&isFinite(this.y)}isZero(){return this.x===0&&this.y===0}isOne(){return this.x===1&&this.y===1}equals(t){return this.x===t.x&&this.y===t.y}equalsEpsilon(t,e=1e-5){return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e}applyMatrix2D(t){return this.set(t.a*this.x+t.c*this.y+t.e,t.b*this.x+t.d*this.y+t.f)}cw(){return this.set(-this.y,this.x)}ccw(){return this.set(this.y,-this.x)}}class Bt{constructor(t=0,e=0,i=0){k(this,"elements",new Float32Array([0,0,0]));this.elements.set([t,e,i])}static default(){return new this(0,0,0)}static make(t){let e=new Array(t);for(let i=0;i<t;i++)e[i]=this.default();return e}static create(t=0,e=0,i=0){return new this(t,e,i)}get x(){return this.elements[0]}set x(t){this.elements[0]=t}get y(){return this.elements[1]}set y(t){this.elements[1]=t}get z(){return this.elements[2]}set z(t){this.elements[2]=t}set(t,e,i){return this.elements[0]=t,this.elements[1]=e,this.elements[2]=i,this}clone(){return new Bt(this.x,this.y,this.z)}copy(t){return this.elements[0]=t.x,this.elements[1]=t.y,this.elements[2]=t.z,this}}const Hn=(n,t)=>n[0]*t[0]+n[1]*t[1],Jn=(n,t)=>n[0]*t[1]-n[1]*t[0],pi=(n,t)=>Math.atan2(Jn(n,t),Hn(n,t));function gi(n,t,e,i,s,r,l,a,o){let u=Math.cos(o),h=Math.sin(o),f=u*(n-e)/2+h*(t-i)/2,d=-h*(n-e)/2+u*(t-i)/2,y=f*f/(l*l)+d*d/(a*a);y>1&&(y=Math.sqrt(y),l*=y,a*=y);let b=s!==r?1:-1,p=(l*l*a*a-l*l*d*d-a*a*f*f)/(l*l*d*d+a*a*f*f);p<0?p=0:p=Math.sqrt(p);let x=b*p*(l*d/a),S=b*p*(-a*f/l),_=u*x-h*S+(n+e)/2,v=h*x+u*S+(t+i)/2,C=pi([1,0],[(f-x)/l,(d-S)/a]),M=pi([(f-x)/l,(d-S)/a],[(-f-x)/l,(-d-S)/a]);!r&&M>0?M-=Math.PI*2:r&&M<0&&(M+=Math.PI*2);let Q=C+M;return{rx:l,ry:a,cx:_,cy:v,theta1:C,theta2:Q,dtheta:M}}function $n(n,t,e,i,s,r){const l=Math.cos(r)*e,a=Math.sin(r)*i,o=Math.cos(s),u=Math.sin(s);return{x:n+o*l-u*a,y:t+u*l+o*a}}function Si(n,t,e,i,s,r,l){const a=l-r,o=4/3*Math.tan(a/4),u=c.fromRotation(r),h=c.fromRotation(l),f=c.fromPoint(u),d=c.fromPoint(h);return f.translate(-o*u.y,o*u.x),d.translate(o*h.y,-o*h.x),u.scale(e,i).rotate(s).translate(n,t),f.scale(e,i).rotate(s).translate(n,t),d.scale(e,i).rotate(s).translate(n,t),h.scale(e,i).rotate(s).translate(n,t),[u.x,u.y,f.x,f.y,d.x,d.y,h.x,h.y]}function xi(n,t,e,i,s,r,l,a,o,u){const{cx:h,cy:f,theta1:d,dtheta:y,rx:b,ry:p}=gi(n,t,e,i,a,o,s,r,l),x=Math.ceil(Math.abs(y/(Math.PI/2))),S=y/x,_=[];let v=d;for(let C=0;C<x;C++){const M=v+S;let[Q,F,A,R,O,ut,Ct,ht]=Si(h,f,b,p,l,v,M);u==null||u(Q,F,A,R,O,ut,Ct,ht,C),v=M,_.push(Q,F,A,R,O,ut,Ct,ht)}return _}class Gn{static EvalAt(t,e){const i=d=>t[2*d],s=d=>t[2*d+1];if(e==0)return[i(0),s(0)];if(e==1)return[i(3),s(3)];let r=1-e,l=r*r,a=l*r,o=3*l*e,u=e*e,h=3*r*u,f=u*e;return[a*i(0)+o*i(1)+h*i(2)+f*i(3),a*s(0)+o*s(1)+h*s(2)+f*s(3)]}static Subdivide(t,e,i){const s=C=>t[2*C],r=C=>t[2*C+1],l=C=>i[2*C],a=C=>i[2*C+1],o=(C,M)=>{i[2*C]=M},u=(C,M)=>{i[2*C+1]=M},h=C=>i[2*C+6],f=C=>i[2*C+7],d=(C,M)=>{i[2*C+6]=M},y=(C,M)=>{i[2*C+7]=M};o(0,s(0)),u(0,r(0)),d(3,s(3)),y(3,r(3));let b=U(s(0),s(1),e),p=U(r(0),r(1),e),x=U(s(1),s(2),e),S=U(r(1),r(2),e),_=U(s(2),s(3),e),v=U(r(2),r(3),e);o(1,b),u(1,p),d(2,_),y(2,v),o(2,U(b,x,e)),u(2,U(p,S,e)),d(1,U(x,_,e)),y(1,U(S,v,e)),o(3,U(l(2),h(1),e)),u(3,U(a(2),f(1),e))}static ConvertToPolynomial(t,e){const i=e?t.slice(1):t,s=l=>i[2*l];let r=new Array(4);return r[0]=-s(0)+3*s(1)-3*s(2)+s(3),r[1]=3*s(0)-6*s(1)+3*s(2),r[2]=-3*s(0)+3*s(1),r[3]=s(0),r}}function ts(n,t){return q(t)?q(n):Math.abs(n/t)<1e-16}function es(n,t,e){return q(n)?(e[0]=0,q(t)?1:0):(e[0]=-t/n,Number.isFinite(e[0])?1:0)}class Vt{static RootsReal(t,e,i,s){if(ts(t,e))return es(e,i,s);const r=ee(e,2*t),l=ee(i,t),a=r*r;if(!Number.isFinite(a-l)||!q(a-l)&&a<l)return 0;let o=0;return a>l&&(o=Math.sqrt(a-l)),s[0]=o-r,s[1]=-o-r,q(o)||pt(s[0],s[1])?1:2}static EvalAt(t,e,i,s){return t*s*s+e*s+i}}const Le=Math.PI;function Ot(n,t){return q(n)?q(t):pt(n,t,0)}function ie(n){return Math.abs(n)<1e-8}function is(n,t,e,i){let s=[0,0],r=Vt.RootsReal(3*n,2*t,e,s),l=0;for(let a=0;a<r;a++){let o=s[a];o>=0&&o<=1&&(i[l++]=o)}return l}function ns(n,t,e,i,s,r){let l=Mt.EvalAt(n,t,e,i,s);if(ie(l))return s;let a=Mt.EvalAt(n,t,e,i,r);if(!Number.isFinite(l)||!Number.isFinite(a)||l>0&&a>0||l<0&&a<0)return-1;let o=1e3;for(let u=0;u<o;u++){let h=(s+r)/2,f=Mt.EvalAt(n,t,e,i,h);if(ie(f))return h;f<0&&l<0||f>0&&l>0?s=h:r=h}return-1}function ss(n,t){return q(t)?q(n):Math.abs(n/t)<1e-7}class Mt{static RootsReal(t,e,i,s,r){if(ss(t,e))return Vt.RootsReal(e,i,s,r);if(q(s)){let _=Vt.RootsReal(t,e,i,r);for(let v=0;v<_;++v)if(q(r[v]))return _;return r[_++]=0,_}if(q(t+e+i+s)){let _=Vt.RootsReal(t,t+e,-s,r);for(let v=0;v<_;++v)if(pt(r[v],1))return _;return r[_++]=1,_}let l,a,o;{let _=ee(1,t);l=e*_,a=i*_,o=s*_}let u=l*l,h=(u-a*3)/9,f=(2*u*l-9*l*a+27*o)/54,d=f*f,y=h*h*h,b=d-y;if(!Number.isFinite(b))return 0;let p=l/3,x,S=L.from(r);if(b<0){const _=Math.acos(D(f/Math.sqrt(y),-1,1)),v=-2*Math.sqrt(h);x=v*Math.cos(_/3)-p,S.value=x,S.next(),x=v*Math.cos((_+2*Le)/3)-p,Ot(r[0],x)||(S.value=x,S.next()),x=v*Math.cos((_-2*Le)/3)-p,!Ot(r[0],x)&&(S.curIndex==1||!Ot(r[1],x))&&(S.value=x,S.next())}else{const _=Math.sqrt(b);t=Math.abs(f)+_,t=Math.cbrt(t),f>0&&(t=-t),q(t)||(t+=h/t),x=t-p,S.value=x,S.next(),!q(d)&&pt(d,y)&&(x=-t/2-p,Ot(r[0],x)||(S.value=x,S.next()))}return S.curIndex}static RootsValidT(t,e,i,s,r){let l=[0,0,0],a=Mt.RootsReal(t,e,i,s,l),o=0;for(let u=0;u<a;++u){let h=l[u];h>=1&&h<=1.00005?(o<1||!pt(r[0],1))&&(o<2||!pt(r[1],1))&&(r[o++]=1):h>=-5e-5&&(h<=0||q(h))?(o<1||!q(r[0]))&&(o<2||!q(r[1]))&&(r[o++]=0):h>0&&h<1&&(r[o++]=h)}return o}static BinarySearchRootsValidT(t,e,i,s,r){if(!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(i)||!Number.isFinite(s))return 0;let l=[0,0,0,1],a=[0,0],o=is(t,e,i,a),u=2-o;o==1&&(l[u+1]=a[0]),o==2&&(l[u+1]=Math.min(a[0],a[1]),l[u+2]=Math.max(a[0],a[1]));let h=0;for(;u<3;u++){let f=ns(t,e,i,s,l[u],l[u+1]);f>=0&&(h<1||!ie(r[0]-f))&&(h<2||!ie(r[1]-f))&&(r[h++]=f)}return h}static EvalAt(t,e,i,s,r){return t*r*r*r+e*r*r+i*r+s}static EvalAt_2(t,e){return this.EvalAt(t[0],t[1],t[2],t[3],e)}}const V=1,ct=.5,rs=Math.SQRT2,et=Math.PI,ls=.414213562,ne=.707106781,_i=3402823466e29,as=-_i,os=1/0,us=-1/0,hs=NaN,vi=n=>n,cs=n=>n,fs=n=>n,ms=n=>n,ds=n=>n,Dt=n=>n,Ae=n=>Math.floor(n),ys=n=>Math.ceil(n),se=n=>Math.round(n),Ti=n=>Math.trunc(n),ks=n=>Math.floor(n),Ci=n=>Math.ceil(n),bs=n=>Math.round(n),Y=n=>Math.abs(n),ps=(n,t)=>Math.sign(t)*Math.abs(n),gs=(n,t)=>n%t,J=n=>Math.sqrt(n),Mi=(n,t)=>Math.pow(n,t),re=n=>Math.sin(n),ft=n=>Math.cos(n),Pi=n=>Math.tan(n),Ss=n=>Math.asin(n),Ri=n=>Math.acos(n),Ne=(n,t)=>Math.atan2(n,t),xs=n=>Math.exp(n),_s=n=>Math.log(n),vs=n=>Math.log2(n),Ii=n=>Number.isNaN(n),Pt=n=>Number.isFinite(n),le=(n,t)=>Number.isFinite(n)&&Number.isFinite(t),wi=(n,t)=>n.slice(0,t).every(Number.isFinite),Ts=n=>n-Ti(n),Rt=n=>n*n,ae=n=>V/n,Fe=(n,t)=>(n+t)*ct,$=n=>n*ct,We=n=>n*(et/180),Cs=n=>n*(180/et),Ms=n=>n===Ae(n),Qe=n=>n<0?-1:n>0?1:0,Ps=n=>n<0?-V:n>0?V:0,oe=V/4096,it=(n,t=oe)=>Y(n)<=t,K=(n,t,e=oe)=>Y(n-t)<=e,qe=V/65536,Yt=n=>{const t=re(n);return it(t,qe)?0:t},Xt=n=>{const t=ft(n);return it(t,qe)?0:t},G=(n,t,e)=>((e<0||e>V)&&console.warn("t out of range [0, 1]"),n+(t-n)*e),Rs=(n,t,e,i)=>{if(i<=0||!t||!e)throw new Error("Invalid input");let s=0;for(;s<i&&t[s]<n;)s++;if(s===i)return e[i-1];if(s===0)return e[0];const r=t[s-1],l=t[s],a=(n-r)/(l-r);return G(e[s-1],e[s],a)},ze=(n,t,e)=>{if(e<0)throw new Error("Invalid length");for(let i=0;i<e;i++)if(n[i]!==t[i])return!1;return!0};class It{constructor(t,e){this.width=t,this.height=e}static default(){return new It(0,0)}static from(t,e){return new It(t,e)}set(t,e){this.width=t,this.height=e}setEmpty(){return this.set(0,0)}isEmpty(){return this.width<=0||this.height<=0}isZero(){return this.width===0&&this.height===0}round(){return this.set(Math.round(this.width),Math.round(this.height))}ceil(){return this.set(Math.ceil(this.width),Math.ceil(this.height))}floor(){return this.set(Math.floor(this.width),Math.floor(this.height))}trunc(){return this.set(Math.trunc(this.width),Math.trunc(this.height))}clone(){return new It(this.width,this.height)}equals(t){return this.width===t.width&&this.height===t.height}equalsWithEpsilon(t,e=1e-4){return Math.abs(this.width-t.width)<e&&Math.abs(this.height-t.height)<e}}class W{constructor(t){k(this,"elements",new Float32Array([0,0,0,0]));this.elements.set(t)}static makeEmpty(){return new this([0,0,0,0])}static makeWH(t,e){return this.makeLTRB(0,0,t,e)}static makeLTRB(t,e,i,s){return new this([t,e,i,s])}static makeSize(t){return this.makeWH(t.width,t.height)}static makePtSize(t,e){return this.makeXYWH(t.x,t.y,e.width,e.height)}static makeXYWH(t,e,i,s){return this.makeLTRB(t,e,t+i,e+s)}set(t,e,i,s){return this.elements.set([t,e,i,s]),this}get left(){return this.elements[0]}set left(t){this.elements[0]=t}get top(){return this.elements[1]}set top(t){this.elements[1]=t}get right(){return this.elements[2]}set right(t){this.elements[2]=t}get bottom(){return this.elements[3]}set bottom(t){this.elements[3]=t}get x(){return this.left}get y(){return this.top}get topLeft(){return c.fromXY(this.left,this.top)}get width(){return Math.trunc(this.right-this.left)}get height(){return Math.trunc(this.bottom-this.top)}size(){return It.from(this.width,this.height)}isEmpty(){let t=this.width,e=this.height;return t<=0||e<=0?!0:!Number.isSafeInteger(t|e)}equals(t,e){return t.left==e.left&&t.top==e.top&&t.right==e.right&&t.bottom==e.bottom}notEquals(t,e){return t.left!=e.left||t.top!=e.top||t.right!=e.right||t.bottom!=e.bottom}setEmpty(){this.elements.set([0,0,0,0])}setLTRB(t,e,i,s){return this.set(t,e,i,s)}setXYWH(t,e,i,s){return this.setLTRB(t,e,t+i,e+s)}setWH(t,e){return this.setLTRB(0,0,t,e)}setSize(t){return this.setLTRB(0,0,t.width,t.height)}makeOffset(t,e){return W.makeLTRB(this.x+t,this.y+e,this.right+t,this.bottom+e)}makeOffsetPoint(t){return this.makeOffset(t.x,t.y)}makeInset(t,e){return W.makeLTRB(this.x+t,this.y+e,this.right-t,this.bottom-e)}makeOutset(t,e){return this.makeInset(-t,-e)}offset(t,e){return this.setLTRB(this.x+t,this.y+e,this.right+t,this.bottom+e)}offsetPoint(t){return this.offset(t.x,t.y)}offsetTo(t,e){return this.setLTRB(t,e,this.right+t-this.left,this.bottom+e-this.top)}inset(t,e){return this.setLTRB(this.x+t,this.y+e,this.right-t,this.bottom-e)}outset(t,e){this.inset(-t,-e)}adjust(t,e,i,s){return this.setLTRB(this.left+t,this.top+e,this.right+i,this.bottom+s)}containPoint(t,e){return t>=this.left&&t<this.right&&e>=this.top&&e<this.bottom}contains(t){return!t.isEmpty()&&!this.isEmpty()&&this.left<=t.left&&this.top<=t.top&&this.right>=t.right&&this.bottom>=t.bottom}containsNoEmptyCheck(t){return this.left<=t.left&&this.top<=t.top&&this.right>=t.right&&this.bottom>=t.bottom}intersect(t){return this.intersectRects(this,t)}intersectRects(t,e){let i=W.makeLTRB(Math.max(t.left,e.left),Math.max(t.top,e.top),Math.max(t.right,e.right),Math.max(t.bottom,e.bottom));return i.isEmpty()?!1:(this.copy(i),!0)}copy(t){this.elements.set(t.elements)}clone(){return W.makeLTRB(this.left,this.top,this.right,this.bottom)}sort(){if(this.left>this.right){let t=this.left;this.left=this.right,this.right=t}if(this.top>this.bottom){let t=this.top;this.top=this.bottom,this.bottom=t}}makeSorted(){return W.makeLTRB(Math.min(this.left,this.right),Math.min(this.top,this.bottom),Math.max(this.left,this.right),Math.max(this.top,this.bottom))}static Make(t){return this.makeLTRB(t.left,t.top,t.right,t.bottom)}isSorted(){return this.left<=this.right&&this.top<=this.bottom}isFinite(){let t=0;return t*=this.left,t*=this.top,t*=this.right,t*=this.bottom,!Number.isNaN(t)}get halfWidth(){return this.right*.5-this.left*.5}get halfHeight(){return this.bottom*.5-this.top*.5}get centerX(){return this.left*.5+this.right*.5}get centerY(){return this.top*.5+this.bottom*.5}get center(){return c.create(this.centerX,this.centerY)}toQuad(t){t[0].set(this.left,this.top),t[1].set(this.right,this.top),t[2].set(this.right,this.bottom),t[3].set(this.left,this.bottom)}setBounds(t,e){this.setBoundsCheck(t,e)}setBoundsCheck(t,e){if(e<=0)return this.setEmpty(),!0;let i,s,r=0;e&1?(i=s=T.fromPoints(t,1).xyxy(),r+=1,e-=1):(i=s=T.fromPoints(t,2),r+=2,e-=2),s=s.clone();let l=i.clone().mulScalar(0);for(;e;){let o=T.fromArray([t[r].x,t[r].y,t[r+1].x,t[r+1].y],4);l=l.mul(o),i=i.min(o),s=s.max(o),r+=2,e-=2}const a=l.elements.every(o=>Number.isFinite(o));return a?this.setLTRB(Math.min(i.elements[0],i.elements[2]),Math.min(i.elements[1],i.elements[3]),Math.max(s.elements[0],s.elements[2]),Math.max(s.elements[1],s.elements[3])):this.setEmpty(),a}setBoundsNoCheck(t,e){this.setBoundsCheck(t,e)||this.setLTRB(NaN,NaN,NaN,NaN)}setPoints(t,e){this.left=Math.min(t.x,e.x),this.right=Math.max(t.x,e.x),this.top=Math.min(t.y,e.y),this.bottom=Math.max(t.y,e.y)}join(t){t.left>=t.right||t.top>=t.bottom||(this.left>=this.right||this.top>=this.bottom?this.copy(t):(t.left<this.left&&(this.left=t.left),t.top<this.top&&(this.top=t.top),t.right>this.right&&(this.right=t.right),t.bottom>this.bottom&&(this.bottom=t.bottom)))}joinNonEmptyArg(t){this.left>=this.right||this.top>=this.bottom?this.copy(t):this.joinPossiblyEmptyRect(t)}joinPossiblyEmptyRect(t){return this.setLTRB(Math.min(this.left,t.left),Math.min(this.top,t.top),Math.max(this.right,t.right),Math.max(this.bottom,t.bottom))}roundRect(t){t.setLTRB(Math.round(this.left),Math.round(this.top),Math.round(this.right),Math.round(this.bottom))}roundOutRect(t){t.setLTRB(Math.floor(this.left),Math.floor(this.top),Math.ceil(this.right),Math.ceil(this.bottom))}roundInRect(t){t.setLTRB(Math.ceil(this.left),Math.ceil(this.top),Math.floor(this.right),Math.floor(this.bottom))}round(){let t=W.makeEmpty();return this.roundRect(t),t}roundOut(){let t=W.makeEmpty();return this.roundOutRect(t),t}roundIn(){let t=W.makeEmpty();return this.roundInRect(t),t}}const X=class X{constructor(t,e=!0){k(this,"isMatrix2D",!0);k(this,"elements",new Float32Array(6));k(this,"mutable",!0);this.elements.set(t),this.mutable=e}static identity(){return this.fromRows(1,0,0,1,0,0)}static default(){return this.identity()}static fromSinCos(t,e){return this.fromRows(e,t,-t,e,0,0)}static fromSinCosOrigin(t,e,i,s){const r=1-e;return this.fromRows(e,t,-t,e,t*s+r*i,-t*i+r*s)}static fromTranslation(t,e){return this.fromRows(1,0,0,1,t,e)}static fromTranslate(t,e){return this.fromRows(1,0,0,1,t,e)}static fromRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.fromRows(e,i,-i,e,0,0)}static fromRotate(t){const e=Math.cos(t),i=Math.sin(t);return this.fromSinCos(i,e)}static fromRotateOrigin(t,e,i){const s=Math.cos(t),r=Math.sin(t);return this.fromSinCosOrigin(r,s,e,i)}static fromRotateDegrees(t){return this.fromRotate(t*Math.PI/180)}static fromScale(t,e){return this.fromRows(t,0,0,e,0,0)}static fromScaleAxis(t,e){return this.fromRows(1-(e-1)*Math.pow(t.x,2),(e-1)*t.x*t.y,(e-1)*t.x*t.y,1+(e-1)*Math.pow(t.y,2),0,0)}static fromSkew(t,e){return this.fromRows(1,Math.tan(e),Math.tan(t),1,0,0)}static fromArray(t,e=!0){return new this(t,e)}static fromRows(t,e,i,s,r,l){return this.fromArray([t,e,i,s,r,l])}static pool(){if(this.pools.length>0){const t=this.pools.shift();return t.identity(),t}else return this.default()}static release(t){this.pools.length<this.poolSize&&(t.mutable=!0,this.pools.push(t))}get a(){return this.elements[0]}get b(){return this.elements[1]}get c(){return this.elements[2]}get d(){return this.elements[3]}get e(){return this.elements[4]}get f(){return this.elements[5]}pool(){return this.constructor.pool()}release(){return this.constructor.release(this)}setMutable(t){return this.mutable=t,this}identity(){return this.set(1,0,0,1,0,0)}set(t,e,i,s,r,l){return this.mutable?(this.elements[0]=t,this.elements[2]=i,this.elements[4]=r,this.elements[1]=e,this.elements[3]=s,this.elements[5]=l,this):this.constructor.fromRows(t,e,i,s,r,l).setMutable(this.mutable)}setElements(t){return this.mutable?(this.elements.set(t),this):this.constructor.fromArray(t).setMutable(this.mutable)}clone(){return this.constructor.fromArray(this.elements,this.mutable)}copy(t){return this.elements.set(t.elements),this}isIdentity(){return this.elements.every((t,e)=>t===X.IDENTITY_MATRIX.elements[e])}isZero(){return this.elements.every(t=>t===0)}isFinite(){return this.elements.every(t=>Number.isFinite(t))}isTranslate(){return this.hasTranslate()&&!this.hasScale()&&!this.hasRotation()}isScale(){return this.hasScale()&&!this.hasTranslate()&&!this.hasRotation()}isRotation(){return this.hasRotation()&&!this.hasScale()&&!this.hasTranslate()}isScaleTranslate(){return(this.hasScale()||this.hasTranslate())&&!this.hasRotation()}isScaleRotate(){return this.hasRotation()&&this.hasScale()}hasScale(){return this.a!==1||this.d!==1}hasTranslate(){return this.e!==0||this.f!==0}hasRotation(){return this.b!==0||this.c!==0}floor(){return this.setElements(this.elements.map(t=>Math.floor(t)))}ceil(){return this.setElements(this.elements.map(t=>Math.ceil(t)))}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=i[0]*s[0]+i[2]*s[1],l=i[1]*s[0]+i[3]*s[1],a=i[0]*s[2]+i[2]*s[3],o=i[1]*s[2]+i[3]*s[3],u=i[0]*s[4]+i[2]*s[5]+i[4],h=i[1]*s[5]+i[3]*s[5]+i[5];return this.set(r,l,a,o,u,h)}multiplyScalar(t){return this.set(this.a*t,this.b*t,this.c*t,this.d*t,this.e*t,this.f*t)}setScale(t,e){return this.set(t,0,0,e,0,0)}setSinCos(...t){const e=t[1],i=t[0];if(t.length===4){const s=t[2],r=t[3],l=1-e;return this.set(e,i,-i,e,i*r+l*s,-i*s+l*r)}else return this.set(e,i,-i,e,0,0)}setRotate(...t){const e=t[0],i=Math.cos(e),s=Math.sin(e);return t.length===1?this.setSinCos(s,i):this.setSinCos(s,i,t[1],t[2])}setRotateDegrees(t){return this.setRotate(t*Math.PI/180)}setTranslate(t,e){return this.set(1,0,0,1,t,e)}preScale(t,e){return this.multiplyMatrices(this,X.fromScale(t,e))}postScale(t,e){return this.multiplyMatrices(X.fromScale(t,e),this)}preRotate(t){return this.multiplyMatrices(this,X.fromRotate(t))}preRotateDegrees(t){return this.preRotate(t*Math.PI/180)}postRotate(t){return this.multiplyMatrices(X.fromRotate(t),this)}postRotateDegrees(t){return this.postRotate(t*Math.PI/180)}preTranslate(t,e){return this.multiplyMatrices(this,X.fromTranslate(t,e))}postTranslate(t,e){return this.multiplyMatrices(X.fromTranslate(t,e),this)}fromTranslateRotationSkewScalePivot(t,e,i,s,r){const l=Math.cos(e),a=Math.sin(e),o=Math.tan(i.x),u=Math.tan(i.y),h=t.x,f=t.y,d=s.x,y=s.y,b=(l+o*a)*d,p=(a+u*l)*d,x=(-a+o*l)*y,S=(l+u*-a)*y,_=h-(b*r.x+x*r.y),v=f-(p*r.x+S*r.y);return this.set(b,p,x,S,_,v)}determinant(){return this.a*this.d-this.b*this.c}invertMatrix(t){const e=t.elements,i=e[0],s=e[1],r=0,l=e[2],a=e[3],o=0,u=e[4],h=e[5],f=1;let d=t.determinant();if(d===0)return this;const y=1/d,b=(a*f-o*h)*y,p=-(s*f-h*r)*y,x=-(l*f-u*o)*y,S=(i*f-r*r)*y,_=(l*h-u*a)*y,v=-(i*h-u*s)*y;return this.set(b,p,x,S,_,v)}invert(){return this.invertMatrix(this)}scale(t,e){return this.set(this.a*t,this.b*e,this.c*t,this.d*e,this.e,this.f)}rotate(t){const e=Math.cos(t),i=Math.sin(t);return this.set(this.a*e+this.c*i,this.b*e+this.d*i,this.a*-i+this.c*e,this.b*-i+this.d*e,this.e,this.f)}translate(t,e){return this.set(this.a,this.b,this.c,this.d,this.e+t*this.a+e*this.c,this.f+t*this.b+e*this.d)}adjoint(){const t=this.elements,e=t[0],i=t[1],s=0,r=t[2],l=t[3],a=0,o=t[4],u=t[5],h=1,f=l*h-a*u,d=-(i*h-u*s),y=-(r*h-o*a),b=e*h-s*s,p=r*u-o*l,x=-(e*u-o*i);return this.set(f,d,y,b,p,x)}mapPoints(t,e){return e.map((i,s)=>{this.mapPoint(t[s],e[s])}),this}mapPoint(t,e){const i=e.x,s=e.y;return t.x=this.a*i+this.c*s+this.e,t.y=this.b*i+this.d*s+this.f,t}mapXY(t,e,i){i.x=this.a*t+this.c*e+this.e,i.y=this.b*t+this.d*e+this.f}projection(t,e){return this.set(2/t,0,0,-2/e,-1,1)}equals(t){return!this.elements.some((e,i)=>t.elements[i]!==e)}equalsEpsilon(t,e=1e-6){return!this.elements.some((i,s)=>Math.abs(t.elements[s]-i)>e)}fromArray(t,e=0){for(let i=0;i<6;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t}};k(X,"EPSILON",1e-6),k(X,"IDENTITY_MATRIX",X.default()),k(X,"pools",[]),k(X,"poolSize",100);let rt=X;const Be=5,Ei=5;var Li=(n=>(n[n.kSerpentine=0]="kSerpentine",n[n.kLoop=1]="kLoop",n[n.kLocalCusp=2]="kLocalCusp",n[n.kCuspAtInfinity=3]="kCuspAtInfinity",n[n.kQuadratic=4]="kQuadratic",n[n.kLineOrPoint=5]="kLineOrPoint",n))(Li||{}),wt=(n=>(n[n.kCW_SkRotationDirection=0]="kCW_SkRotationDirection",n[n.kCCW_SkRotationDirection=1]="kCCW_SkRotationDirection",n))(wt||{});function P(n){return T.fromPoint(n)}function E(n){let t=c.default();return n.storePoint(t),t}function tt(n){return n.clone().add(n)}function Is(n){return J(ct+n*ct)}function ws(n,t,e){let i=n-t,s=t-e;return i<0&&(s=-s),+(i==0||s<0)}function jt(n,t,e){if(n<0&&(n=-n,t=-t),t==0||n==0||n>=t)return 0;let i=n/t;return Ii(i)||i==0?0:(e.value=i,1)}function ue(n){return n==0?0:n}function nt(n,t,e,i){if(n==0)return ue(jt(-e,t,i));let s=i.clone(),r=t*t-4*n*e;if(r<0)return ue(0);r=di(r);let l=Dt(r);if(!Pt(l))return ue(0);let a=t<0?-(t-l)/2:-(t+l)/2;if(s.curIndex+=jt(a,n,s),s.curIndex+=jt(e,a,s),s.curIndex-i.curIndex==2)if(i.get(0)>i.get(1)){let o=i.get(0);i.set(0,i.get(1)),i.set(1,o)}else i.get(0)==i.get(1)&&(s.curIndex-=1);return ue(s.curIndex-i.curIndex)}function mt(n,t,e,i){return e&&e.copy(mt(n,t)),i&&i.copy(he(n,t)),e||E(new dt(n).eval(T.splat(t)))}function he(n,t){if(t==0&&n[0]==n[1]||t==1&&n[1]==n[2])return n[2].clone().subtract(n[0]);let e=P(n[0]),i=P(n[1]),s=P(n[2]),r=i.clone().sub(e),a=s.clone().sub(i).sub(r).clone().mulScalar(t).add(r);return E(a.add(a))}function Ve(n,t,e){return n.clone().lerp(n,t,e)}function Et(n,t,e){let i=P(n[0]),s=P(n[1]),r=P(n[2]),l=T.splat(e),a=Ve(i,s,l),o=Ve(s,r,l);t[0]=E(i),t[1]=E(a),t[2]=E(Ve(a,o,l)),t[3]=E(o),t[4]=E(r)}function Es(n,t){return le(n,t)&&(n||t)}function Oe(n,t){return!Es(n.x-t.x,n.y-t.y)}function ce(n,t){let e=c.make(2);n.dot(t)>=0?(e[0].copy(n),e[1].copy(t)):n.cross(t)>=0?(e[0].set(-n.y,+n.x),e[1].set(+t.y,-t.x)):(e[0].set(+n.y,-n.x),e[1].set(-t.y,+t.x));let i=T.fromXY(e[0].x,e[1].x),s=T.fromXY(e[0].y,e[1].y),r=i.clone().mul(i).add(s.clone().mul(s)).sqrt().inverse();return i.mul(r),s.mul(r),c.create(i[0]+i[1],s[0]+s[1])}function Ls(n){let t=n[1].clone().subtract(n[0]),e=n[2].clone().subtract(n[1]),i=ce(t,e.clone().negate()),s=zt(t.dot(i),t.clone().subtract(e).dot(i));return s>0&&s<1||(s=.5),s}function De(n,t,e,i){return jt(n-t,n-t-t+e,i)}function As(n,t="x"){n.get(1)[t]=n.get(3)[t]=n.get(2)[t]}function Ai(n,t){let e=n[0].y,i=n[1].y,s=n[2].y;if(ws(e,i,s)){let r=L.from([0]);if(jt(e-i,e-i-i+s,r))return Et(n,t,r.value),As(L.from(t),"y"),1;i=Y(e-i)<Y(i-s)?e:s}return t[0].set(n[0].x,e),t[1].set(n[1].x,i),t[2].set(n[2].x,s),0}function Ni(n){let t=n[1].x-n[0].x,e=n[1].y-n[0].y,i=n[0].x-n[1].x-n[1].x+n[2].x,s=n[0].y-n[1].y-n[1].y+n[2].y,r=-(t*i+e*s),l=i*i+s*s;return l<0&&(r=-r,l=-l),r<=0?0:r>=l?1:r/l}function Fi(n,t,e,i=0){for(let s=0;s<e;s++)n[i+s].copy(t[s])}function Wi(n,t){let e=dt.default(),i=P(n[0]),s=P(n[1]),r=P(n[2]),l=P(n[3]);return e.fA=l.clone().add(s.clone().sub(r).mulScalar(3)).sub(i),e.fB=tt(r.clone().sub(tt(s)).add(i)),e.fC=s.clone().sub(i),E(e.eval(T.splat(t)))}function Ns(n,t){let e=P(n[0]),i=P(n[1]),s=P(n[2]),r=P(n[3]),l=i.clone().sub(s).mulScalar(3).add(r).sub(e),a=s.clone().sub(tt(i)).add(e);return E(l.mulScalar(t).add(a))}function Ye(n,t,e=c.default()){return t==0&&n[0].equals(n[1])||t==1&&n[2].equals(n[3])?(t==0?e.subtractVectors(n[2],n[0]):e.subtractVectors(n[3],n[1]),!e.x&&!e.y&&e.subtractVectors(n[3],n[0])):e.copy(Wi(n,t)),e}function Zt(n,t,e=c.default()){return e.copy(E(new Zs(n).eval(T.splat(t)))),e}function fe(n,t,e,i,s){e&&Zt(n,t,e),i&&Ye(n,t,i),s&&s.copy(Ns(n,t))}function Ut(n,t,e,i,s){let r=i-n+3*(t-e),l=2*(n-t-t+e),a=t-n;return nt(r,l,a,s)}function H(n,t,e){return n.clone().lerp(n,t,e)}function lt(n,t,e){if(e==1){Fi(t,n,4),t[4].copy(n[3]),t[5].copy(n[3]),t[6].copy(n[3]);return}let i=P(n[0]),s=P(n[1]),r=P(n[2]),l=P(n[3]),a=T.splat(e),o=H(i,s,a),u=H(s,r,a),h=H(r,l,a),f=H(o,u,a),d=H(u,h,a),y=H(f,d,a);t[0]=E(i),t[1]=E(o),t[2]=E(f),t[3]=E(y),t[4]=E(d),t[5]=E(h),t[6]=E(l)}function Qi(n,t,e,i){if(i==1){lt(n,t,e),t[7].copy(n[3]),t[8].copy(n[3]),t[9].copy(n[3]);return}let s=T.make(4),r=T.make(4),l=T.make(4),a=T.make(4),o=T.make(4);s.setElements([n[0].x,n[0].y,n[0].x,n[0].y]),r.setElements([n[1].x,n[1].y,n[1].x,n[1].y]),l.setElements([n[2].x,n[2].y,n[2].x,n[2].y]),a.setElements([n[3].x,n[3].y,n[3].x,n[3].y]),o.setElements([e,e,i,i]);let u=H(s,r,o),h=H(r,l,o),f=H(l,a,o),d=H(u,h,o),y=H(h,f,o),b=H(d,y,o),p=H(d,y,T.make(4).setElements([o[2],o[3],o[0],o[1]]));t[0]=c.create(s[0],s[1]),t[1]=c.create(u[0],u[1]),t[2]=c.create(d[0],d[1]),t[3]=c.create(b[0],b[1]),t[4]=c.create(p[0],p[1]),t[5]=c.create(p[2],p[3]),t[6]=c.create(b[2],b[3]),t[7]=c.create(y[2],y[3]),t[8]=c.create(f[2],f[3]),t[9]=c.create(a[2],a[3])}function Xe(n,t,e,i){if(t)if(i==0)Fi(t,n,4);else{let s=0,r=0,l=[];for(;s<i-1;s+=2){let a=T.splat(e[s]);if(s!=0){let o=e[s-1];a=a.clone().sub(T.splat(o)).div(T.splat(1-o)).clmap(T.splat(0),T.splat(1))}l.length=0,Qi(n,l,a[0],a[1]),l.forEach((o,u)=>{t[r+u]=o}),r+=6,n=l.slice(6)}if(s<i){let a=e[s];if(s!=0){let o=e[s-1];a=D(zt(a-o,1-o),0,1)}l.length=0,lt(n,l,a),l.forEach((o,u)=>{t[r+u]=o})}}}function Fs(n,t){lt(n,t,.5)}function Lt(n,t,e){return T.make(4).setElements([n[0]*t+e[0],n[1]*t+e[1],n[2]*t+e[2],n[3]*t+e[3]])}function Ws(n,t){return t>=0?Math.abs(n):-Math.abs(n)}function qi(n,t,e,i){let s=-.5*(t+Ws(Math.sqrt(i),t)),r=-.5*s*n,l=Math.abs(s*s+r)<Math.abs(n*e+r)?zt(s,n):zt(e,s);return l>0&&l<1||(l=.5),l}function Qs(n,t,e){return qi(n,t,e,t*t-4*n*e)}function qs(n){let t=n[0].equals(n[1])?n[2].clone().subtract(n[0]):n[1].clone().subtract(n[0]),e=n[2].equals(n[3])?n[3].clone().subtract(n[1]):n[3].clone().subtract(n[2]),i=ce(t,e.clone().negate());const s=[T.fromArray([-1,2,-1,0]),T.fromArray([3,-4,1,0]),T.fromArray([-3,2,0,0])];let r=Lt(s[0],n[0].x,Lt(s[1],n[1].x,Lt(s[2],n[2].x,T.fromArray([n[3].x,0,0,0])))),l=Lt(s[0],n[0].y,Lt(s[1],n[1].y,Lt(s[2],n[2].y,T.fromArray([n[3].y,0,0,0])))),a=r.clone().mulScalar(i.x).add(l.clone().mulScalar(i.y)),o=0,u=a[0],h=a[1],f=a[2],d=h*h-4*u*f;return d>0?qi(u,h,f,d):(a=r.clone().mulScalar(t.x).add(l.clone().mulScalar(t.y)),u=a[0],h=a[1],u!=0&&(o=-h/(2*u)),o>0&&o<1||(o=.5),o)}function me(n,t="x"){n.get(2)[t]=n.get(4)[t]=n.get(3)[t]}function je(n,t){let e=L.from([0,0]),i=Ut(n[0].y,n[1].y,n[2].y,n[3].y,e),s=L.from(t);return Xe(n,t,e.data,i),t&&i>0&&(me(s,"y"),i==2&&(s.next(3),me(s,"y"))),i}function zs(n,t){let e=L.from([0,0]),i=Ut(n[0].x,n[1].x,n[2].x,n[3].x,e);Xe(n,t,e.data,i);let s=L.from(t);return t&&i>0&&(me(s,"x"),i==2&&(s.next(3),me(s,"x"))),i}function zi(n,t){let e=n[1].x-n[0].x,i=n[1].y-n[0].y,s=n[2].x-2*n[1].x+n[0].x,r=n[2].y-2*n[1].y+n[0].y,l=n[3].x+3*(n[1].x-n[2].x)-n[0].x,a=n[3].y+3*(n[1].y-n[2].y)-n[0].y;return nt(s*a-r*l,e*a-i*l,e*r-i*s,L.from(t))}function Bs(n,t){for(let e=t-1;e>0;--e)for(let i=e;i>0;--i)if(n[i]<n[i-1]){let s=n[i];n[i]=n[i-1],n[i-1]=s}}class dt{constructor(t,e,i){k(this,"fA",T.make(2));k(this,"fB",T.make(2));k(this,"fC",T.make(2));if(t&&e&&i)this.fA.copy(t),this.fB.copy(e),this.fC.copy(i);else if(t){let s=P(t[0]),r=P(t[1]),l=P(t[2]),a=tt(r.clone().sub(s)),o=l.sub(tt(r)).add(s);this.fA.copy(o),this.fB.copy(a),this.fC.copy(s)}}static default(){return new dt}eval(t){return this.fA.clone().mul(t).add(this.fB).mul(t).add(this.fC)}}function Vs(n,t){for(let e=t;e>1;--e)if(n.get(0)==n.get(1)){for(let i=1;i<e;++i)n.set(i-1,n.get(i));t-=1}else n.next();return t}function Os(n){return Mi(n,.3333333)}function Ds(n,t){if(it(n[0]))return nt(n[1],n[2],n[3],L.from(t));let e,i,s,r,l;{let h=ae(n[0]);e=n[1]*h,i=n[2]*h,s=n[3]*h}r=(e*e-i*3)/9,l=(2*e*e*e-9*e*i+27*s)/54;let a=r*r*r,o=l*l-a,u=e/3;if(o<0){let h=Ri(D(l/J(a),-1,1)),f=-2*J(r);return t[0]=D(f*ft(h/3)-u,0,1),t[1]=D(f*ft((h+2*et)/3)-u,0,1),t[2]=D(f*ft((h-2*et)/3)-u,0,1),Bs(t,3),Vs(L.from(t),3)}else{let h=Y(l)+J(o);return h=Os(h),l>0&&(h=-h),h!=0&&(h+=r/h),t[0]=D(h-u,0,1),1}}function Bi(n,t){let e=n[1]-n[0],i=n[2]-2*n[1]+n[0],s=n[3]+3*(n[1]-n[2])-n[0];t[0]=s*s,t[1]=3*i*s,t[2]=2*i*i+s*e,t[3]=e*i}function Ze(n,t){let e=new Array(4).fill(0),i=new Array(4).fill(0),s;for(Bi(n.map(l=>l.x),e),Bi(n.map(l=>l.y),i),s=0;s<4;s++)e[s]+=i[s];return Ds(e,t)}function Ys(n){return(n[1].distanceToSquared(n[0])+n[2].distanceToSquared(n[1])+n[3].distanceToSquared(n[2]))*1e-8}function Vi(n,t,e){let i=n[e].clone(),s=n[e+1].clone().subtract(i),r=new Array(2).fill(0);for(let l=0;l<2;++l){let a=n[t+l].clone().subtract(i);r[l]=s.cross(a)}return r[0]*r[1]>=0}function Oi(n){if(n[0].equalsEpsilon(n[1])||n[2].equalsEpsilon(n[3])||Vi(n,0,2)||Vi(n,2,0))return-1;let t=new Array(3).fill(0),e=Ze(n,t);for(let i=0;i<e;++i){let s=t[i];if(0>=s||s>=1)continue;let l=Wi(n,s).lengthSq(),a=Ys(n);if(l<a)return s}return-1}function Xs(n,t,e){const i=n[2]-n[0],s=n[1]-n[0],r=t*s;e[0]=t*i-i,e[1]=i-2*r,e[2]=r}function Di(n,t,e){let i=new Array(3).fill(0);Xs(n,t,i);let s=L.from([0,0]);return nt(i[0],i[1],i[2],s)==1?(e.value=s.get(0),1):0}function Ue(n,t,e,i="x"){let s=G(n[0][i],n[1][i],e),r=G(n[1][i],n[2][i],e);t[0][i]=s,t[1][i]=G(s,r,e),t[2][i]=r}function js(n,t,e){e[0].set(n[0].x*1,n[0].y*1,1),e[1].set(n[1].x*t,n[1].y*t,t),e[2].set(n[2].x*1,n[2].y*1,1)}function Ke(n){return c.create(n.x/n.z,n.y/n.z)}class Yi{constructor(t){k(this,"fNumer",dt.default());k(this,"fDenom",dt.default());let e=P(t.fPts[0]),i=P(t.fPts[1]),s=P(t.fPts[2]),r=T.splat(t.fW),l=i.clone().mul(r);this.fNumer.fC.copy(e),this.fNumer.fA.copy(s.clone().sub(tt(l)).add(e)),this.fNumer.fB.copy(tt(l.clone().sub(e))),this.fDenom.fC.setElements([1,1]),this.fDenom.fB=tt(r.clone().sub(this.fDenom.fC)),this.fDenom.fA.setElements([0-this.fDenom.fB.x,0-this.fDenom.fB.y])}eval(t){let e=T.splat(t),i=this.fNumer.eval(e),s=this.fDenom.eval(e);return i.div(s)}}class Zs{constructor(t){k(this,"fA",T.make(2));k(this,"fB",T.make(2));k(this,"fC",T.make(2));k(this,"fD",T.make(2));let e=P(t[0]),i=P(t[1]),s=P(t[2]),r=P(t[3]),l=T.splat(3);this.fA=i.clone().sub(s).mul(l).add(r).sub(e),this.fB=s.clone().sub(tt(i)).add(e).mul(l),this.fC=i.clone().sub(e).mul(l),this.fD=e}eval(t){return this.fA.clone().mul(t).add(this.fB).mul(t).add(this.fC).mul(t).add(this.fD)}}class N{constructor(t,e,i,s){k(this,"fPts",c.make(3));k(this,"fW",0);t!==void 0&&this.set(t,e,i,s)}static default(){return new this}static make(t){return Array.from({length:t},()=>new N)}copy(t){return this.fPts[0]=t.fPts[0].clone(),this.fPts[1]=t.fPts[1].clone(),this.fPts[2]=t.fPts[2].clone(),this.fW=t.fW,this}clone(){return new N().copy(this)}set(t,e,i,s){Array.isArray(t)?this.set(t[0],t[1],t[2],e):t&&e!==void 0&&i!==void 0&&s!==void 0&&(this.fPts[0].copy(t),this.fPts[1].copy(e),this.fPts[2].copy(i),this.setW(s))}setW(t){this.fW=t>0&&Pt(t)?t:1}chopAt_2(t,e){let i=Bt.make(3),s=Bt.make(3);js(this.fPts,this.fW,i),Ue(i,s,t,"x"),Ue(i,s,t,"y"),Ue(i,s,t,"z"),e[0].fPts[0]=this.fPts[0].clone(),e[0].fPts[1]=Ke(s[0]),e[0].fPts[2]=Ke(s[1]),e[1].fPts[0]=e[0].fPts[2].clone(),e[1].fPts[1]=Ke(s[2]),e[1].fPts[2]=this.fPts[2].clone();let r=J(s[1].z);return e[0].fW=s[0].z/r,e[1].fW=s[2].z/r,le(e[0].fPts[0].x,14)}chopAt_3(t,e,i){if(t==0||e==1)if(t==0&&e==1){i.copy(this);return}else{let S=[N.default(),N.default()];if(this.chopAt_2(t||e,S)){i.copy(S[+!!t]);return}}let s=new Yi(this),r=T.splat(t),l=s.fNumer.eval(r),a=s.fDenom.eval(r),o=T.splat((t+e)/2),u=s.fNumer.eval(o),h=s.fDenom.eval(o),f=T.splat(e),d=s.fNumer.eval(f),y=s.fDenom.eval(f),b=tt(u).sub(l.clone().add(d).mulScalar(.5)),p=tt(h).sub(a.clone().add(y).mulScalar(.5));i.fPts[0]=E(l.clone().div(a)),i.fPts[1]=E(b.clone().div(p)),i.fPts[2]=E(d.clone().div(y));let x=p.clone().div(a.clone().mul(y).sqrt());i.fW=x[0]}evalAt(t){return E(new Yi(this).eval(t))}evalAt_3(t,e,i){e&&e.copy(this.evalAt(t)),i&&i.copy(this.evalTangentAt(t))}evalTangentAt(t){const e=this.fPts,i=this.fW;if(t==0&&e[0]==e[1]||t==1&&e[1]==e[2])return e[2].clone().subtract(e[0]);let s=P(e[0]),r=P(e[1]),l=P(e[2]),a=T.splat(i),o=l.clone().sub(s),u=r.clone().sub(s),h=a.clone().mul(u),f=a.clone().mul(o).sub(o),d=o.clone().sub(h).sub(h);return E(new dt(f,d,h).eval(T.splat(t)))}chop(t){const e=this.fW,i=this.fPts,s=ae(V+e),r=P(i[0]).mulScalar(s),l=P(i[1]).mulScalar(e*s),a=P(i[2]).mulScalar(s),o=E(r.clone().add(l)),u=E(l.clone().add(a)),h=E(r.clone().mulScalar(.5).add(l).add(a.clone().mulScalar(.5)));t[0].fPts[0].copy(i[0]),t[0].fPts[1].copy(o),t[0].fPts[2].copy(h),t[1].fPts[0].copy(h),t[1].fPts[1].copy(u),t[1].fPts[2].copy(i[2]),t[0].fW=t[1].fW=Is(e)}computeAsQuadError(t){const e=this.fW,i=this.fPts;let s=e-1,r=s/(4*(2+s)),l=r*(i[0].x-2*i[1].x+i[2].x),a=r*(i[0].y-2*i[1].y+i[2].y);t.set(l,a)}asQuadTol(t){const e=this.fW,i=this.fPts;let s=e-1,r=s/(4*(2+s)),l=r*(i[0].x-2*i[1].x+i[2].x),a=r*(i[0].y-2*i[1].y+i[2].y);return l*l+a*a<=t*t}computeQuadPOW2(t){if(t<0||!Pt(t)||!this.fPts.every(h=>h.isFinite()))return 0;const e=this.fW,i=this.fPts;let s=e-1,r=s/(4*(2+s)),l=r*(i[0].x-2*i[1].x+i[2].x),a=r*(i[0].y-2*i[1].y+i[2].y),o=J(l*l+a*a),u=0;for(u=0;u<Be&&!(o<=t);++u)o*=.25;return u}chopIntoQuadsPOW2(t,e){const i=this.fPts;this.fW,t.get(0).copy(i[0]);let s=t.curIndex;const r=()=>{const a=2*(1<<e)+1;let o=t.curIndex-s;if(console.assert(o===a,"diff!==ptCount"),t.data.slice(t.curIndex,t.curIndex+a).some(u=>!u.isFinite()))for(let u=1;u<a-1;++u)t.get(u).copy(i[1])};if(e==Be){let l=[N.default(),N.default()];if(this.chop(l),Oe(l[0].fPts[1],l[0].fPts[2])&&Oe(l[1].fPts[0],l[1].fPts[1]))return t.get(1).copy(l[0].fPts[1]),t.get(2).copy(l[0].fPts[1]),t.get(3).copy(l[0].fPts[1]),t.get(4).copy(l[1].fPts[2]),e=1,r(),1<<e}return t.next(),He(this,t,e),r(),1<<e}findMidTangent(){const t=this.fPts,e=this.fW;let i=t[1].clone().subtract(t[0]),s=t[2].clone().subtract(t[1]),r=ce(i,s.clone().negate()),l=t[2].clone().subtract(t[0]).multiplyScalar(e-1),a=t[2].clone().subtract(t[0]).subtract(t[1].clone().subtract(t[0]).multiplyScalar(e*2)),o=t[1].clone().subtract(t[0]).multiplyScalar(e),u=r.dot(l),h=r.dot(a),f=r.dot(o);return Qs(u,h,f)}findXExtrema(t){return Di(this.fPts.map(e=>e.x),this.fW,t)}findYExtrema(t){return Di(this.fPts.map(e=>e.y),this.fW,t)}chopAtXExtrema(t){let e=I.from(0);if(this.findXExtrema(e)){if(!this.chopAt_2(e.value,t))return!1;let i=t[0].fPts[2].x;return t[0].fPts[1].x=i,t[1].fPts[0].x=i,t[1].fPts[1].x=i,!0}return!1}chopAtYExtrema(t){let e=I.from(0);if(this.findYExtrema(e)){if(!this.chopAt_2(e.value,t))return!1;let i=t[0].fPts[2].y;return t[0].fPts[1].y=i,t[1].fPts[0].y=i,t[1].fPts[1].y=i,!0}return!1}computeTightBounds(t){const e=this.fPts;let i=c.make(4);i[0].copy(e[0]),i[1].copy(e[2]);let s=2,r=I.from(0);this.findXExtrema(r)&&this.evalAt_3(r.value,i[s++]),this.findYExtrema(r)&&this.evalAt_3(r.value,i[s++]),t.setBounds(i,s)}computeFastBounds(t){t.setBounds(this.fPts,3)}TransformW(t,e,i){return e}static BuildUnitArc(t,e,i,s,r){let l=t.dot(e),a=t.cross(e);if(Y(a)<=oe&&l>0&&(a>=0&&i==0||a<=0&&i==1))return 0;i==1&&(a=-a);let u=0;a==0?u=2:l==0?u=a>0?1:3:(a<0&&(u+=2),l<0!=a<0&&(u+=1));const h=[c.create(1,0),c.create(1,1),c.create(0,1),c.create(-1,1),c.create(-1,0),c.create(-1,-1),c.create(0,-1),c.create(1,-1)],f=ne;let d=u;for(let S=0;S<d;++S)r[S].set(h[S*2],h[S*2+1],h[S*2+2],f);const y=c.create(l,a),b=h[u*2],p=b.dot(y);if(p<1){let S=c.create(b.x+l,b.y+a);const _=J((1+p)/2);S.setLength(ae(_)),Oe(b,S)||(r[d].set(b,S,y,_),d+=1)}let x=rt.identity();x.setSinCos(t.y,t.x),i==1&&x.preScale(V,-V),s&&x.premultiply(s);for(let S=0;S<d;++S)x.mapPoints(r[S].fPts,r[S].fPts);return d}}function Xi(n,t){let e=L.from([0,0]),i=De(n[0].x,n[1].x,n[2].x,e);e.next(i),i+=De(n[0].y,n[1].y,n[2].y,e),e.move(0);for(let s=0;s<i;++s)t[s]=mt(n,e.get(s));return t[i].copy(n[2]),i+1}function ji(n,t){let e=L.from([0,0,0,0]),i=0;i=Ut(n[0].x,n[1].x,n[2].x,n[3].x,e),i+=Ut(n[0].y,n[1].y,n[2].y,n[3].y,e),e.move(0);for(let s=0;s<i;++s)fe(n,e.get(s),t[s],null,null);return t[i].copy(n[3]),i+1}function Zi(n,t,e){let i=new N;i.set(n[0],n[1],n[2],t);let s=[I.from(0),I.from(0)],r=i.findXExtrema(s[0]);r+=i.findYExtrema(s[1]);for(let l=0;l<r;++l)e[l]=i.evalAt(s[l].value);return e[r].copy(n[2]),r+1}function de(n,t,e){return(n-t)*(e-t)<=0}function He(n,t,e){if(e===0)return t.get(0).copy(n.fPts[1]),t.get(1).copy(n.fPts[2]),t.next(2),t;{const i=N.make(2);n.chop(i);const s=n.fPts[0].y;let r=n.fPts[2].y;if(de(s,n.fPts[1].y,r)){let l=i[0].fPts[2].y;if(!de(s,l,r)){let a=Math.abs(l-s)<Math.abs(l-r)?s:r;i[0].fPts[2].y=i[1].fPts[0].y=a}de(s,i[0].fPts[1].y,i[0].fPts[2].y)||(i[0].fPts[1].y=s),de(i[1].fPts[0].y,i[1].fPts[1].y,r)||(i[1].fPts[1].y=r)}return--e,He(i[0],t,e),He(i[1],t,e)}}class Us{constructor(){k(this,"fQuadCount",0)}computeQuads(t,e,i){if(t instanceof N){i=e;let s=t.computeQuadPOW2(i);this.fQuadCount=1<<s;let r=L.from(c.make(1+2*this.fQuadCount));return this.fQuadCount=t.chopIntoQuadsPOW2(r,s),r.data}else{let s=new N(t,e);return this.computeQuads(s,i)}}}function ye(n,t,e,i){return n+t>e?Math.min(i,e/(n+t)):i}function Ks(n,t){if(Number.isNaN(n)||Number.isNaN(t))return NaN;if(n===t)return t;const e=new ArrayBuffer(4),i=new Float32Array(e),s=new Int32Array(e);return i[0]=n,n===0?(s[0]=2147483649,i[0]):(n<t==n>0?s[0]++:s[0]--,i[0])}function ke(n,t,e,i){if(e.value=e.value*t,i.value=i.value*t,e.value+i.value>n){let s=e,r=i;if(s>r){let o=s;s=r,r=o}let l=s,a=n-l.value;for(;a+l.value>n;)a=Ks(a,0);r.value=a}}function be(n,t){n.value+t.value==n.value?t.value=0:n.value+t.value==t.value&&(n.value=0)}function Ui(n,t,e){return t<=e&&n<=e-t&&t+n<=e&&e-n>=t&&n>=0}function Ki(n){return n[0].x==n[3].x&&n[0].y==n[1].y&&n[1].x==n[2].x&&n[3].y==n[2].y}function Hi(n){let t=!0;for(let e=0;e<4;++e)n[e].x<=0||n[e].y<=0?(n[e].x=0,n[e].y=0):t=!1;return t}const At=0,gt=1,yt=2,Kt=3,pe=4,Je=5,Hs=5;var Ji=(n=>(n[n.kUpperLeft_Corner=0]="kUpperLeft_Corner",n[n.kUpperRight_Corner=1]="kUpperRight_Corner",n[n.kLowerRight_Corner=2]="kLowerRight_Corner",n[n.kLowerLeft_Corner=3]="kLowerLeft_Corner",n))(Ji||{});const St=0,Nt=1,Ft=2,Wt=3,Tt=class Tt{constructor(){k(this,"fRect",W.makeEmpty());k(this,"fType",0);k(this,"fRadii",[c.zero(),c.zero(),c.zero(),c.zero()])}static default(){return new this}static from(t,e,i=At){const s=new this;return s.fRect=t,s.fRadii.forEach((r,l)=>{r.copy(e[l])}),s.fType=i,s}getType(){return this.fType}get type(){return this.getType()}isEmpty(){return At==this.getType()}isRect(){return gt==this.getType()}isOval(){return yt==this.getType()}isSimple(){return Kt==this.getType()}isNinePatch(){return pe==this.getType()}isComplex(){return Je==this.getType()}width(){return this.fRect.width}height(){return this.height}getSimpleRadii(){return this.fRadii[0]}copy(t){this.fRect.copy(t.fRect),this.fType=t.fType;for(let e=0;e<4;e++)this.fRadii[e].copy(t.fRadii[e])}setEmpty(){this.copy(Tt.default())}setRect(t){this.initializeRect(t)&&(this.fRadii.forEach(e=>{e.set(0,0)}),this.fType=gt)}static makeEmpty(){return new this}static makeRect(t){let e=Tt.default();return e.setRect(t),e}static makeOval(t){let e=Tt.default();return e.setOval(t),e}static makeRectXY(t,e,i){let s=this.default();return s.setRectXY(t,e,i),s}setRadiiEmpty(){this.fRadii.forEach(t=>{t.set(0,0)})}setOval(t){if(!this.initializeRect(t))return;let e=this.fRect.halfWidth,i=this.fRect.halfHeight;if(e==0||i==0)this.setRadiiEmpty(),this.fType=gt;else{for(let s=0;s<4;++s)this.fRadii[s].set(e,i);this.fType=yt}}setRectXY(t,e,i){if(!this.initializeRect(t))return;const s=this.fRect;if(le(e,i)||(e=i=0),s.width<e+e||s.height<i+i){let r=Math.min(s.width/(e+e),s.height/(i+i));e*=r,i*=r}if(e<=0||i<=0){this.setRect(t);return}for(let r=0;r<4;++r)this.fRadii[r].set(e,i);this.fType=Kt,e>=$(s.width)&&i>=$(s.height)&&(this.fType=yt)}setNinePatch(t,e,i,s,r){if(!this.initializeRect(t))return;const l=this.fRect;if(!wi([e,i,s,r],4)){this.setRect(t);return}e=Math.max(e,0),i=Math.max(i,0),s=Math.max(s,0),r=Math.max(r,0);let o=V;e+s>l.width&&(o=l.width/(e+s)),i+r>l.height&&(o=Math.min(o,l.height/(i+r))),o<V&&(e*=o,i*=o,s*=o,r*=o),e==s&&i==r?e>=$(l.width)&&i>=$(l.height)?this.fType=yt:e==0||i==0?(this.fType=gt,e=0,i=0,s=0,r=0):this.fType=Kt:this.fType=pe,this.fRadii[St].set(e,i),this.fRadii[Nt].set(s,i),this.fRadii[Ft].set(s,r),this.fRadii[Wt].set(e,r)}setRectRadii(t,e){if(this.initializeRect(t)){if(!e.every(i=>Number.isFinite(i.x))){this.setRect(t);return}if(this.fRadii.forEach((i,s)=>{i.copy(e[s])}),Hi(this.fRadii)){this.setRect(t);return}if(this.scaleRadii(),!this.isValid()){this.setRect(t);return}}}rect(){return this.fRect}radii(t){return this.fRadii[t]}getBounds(){return this.fRect}equals(t,e){return t.fRect==e.fRect&&ze(t.fRadii.map(i=>i.x),e.fRadii.map(i=>i.x),4)}notEquals(t,e){return t.fRect!=e.fRect||!ze(t.fRadii.map(i=>i.x),e.fRadii.map(i=>i.x),4)}insetRect(t,e,i){let r=this.fRect.makeInset(t,e),l=!1;if(r.right<=r.left&&(l=!0,r.left=r.right=Fe(r.left,r.right)),r.bottom<=r.top&&(l=!0,r.top=r.bottom=Fe(r.top,r.bottom)),l){i.fRect.copy(r),i.setRadiiEmpty(),i.fType=At;return}if(!r.isFinite()){i.setEmpty();return}let a=[c.zero(),c.zero(),c.zero(),c.zero()];a.forEach((o,u)=>{o.copy(this.fRadii[u])});for(let o=0;o<4;++o)a[o].x&&(a[o].x-=t),a[o].y&&(a[o].y-=e);i.setRectRadii(r,a)}inset(t,e){this.insetRect(t,e,this)}outsetRect(t,e,i){this.insetRect(-t,-e,i)}outset(t,e){this.insetRect(-t,-e,this)}offset(t,e){this.fRect.offset(t,e)}makeOffset(t,e){return Tt.from(this.fRect.makeOffset(t,e),this.fRadii,this.fType)}contains(t){return this.getBounds().contains(t)?this.isRect()?!0:this.checkCornerContainment(t.left,t.top)&&this.checkCornerContainment(t.right,t.top)&&this.checkCornerContainment(t.right,t.bottom)&&this.checkCornerContainment(t.left,t.bottom):!1}isValid(){if(!this.areRectAndRadiiValid(this.fRect,this.fRadii))return!1;let t=this.fRadii,e=t[0].x==0&&t[0].y==0,i=t[0].x==0||t[0].y==0,s=!0;for(let o=1;o<4;++o)(t[o].x!=0||t[o].y!=0)&&(e=!1),(t[o].x!=t[o-1].x||t[o].y!=t[o-1].y)&&(s=!1),t[o].x!=0&&t[o].y!=0&&(i=!1);let r=Ki(t),l=this.fType,a=this.fRect;if(l<0||l>Hs)return!1;switch(l){case At:if(!a.isEmpty()||!e||!s||!i)return!1;break;case gt:if(a.isEmpty()||!e||!s||!i)return!1;break;case yt:if(a.isEmpty()||e||!s||i)return!1;for(let o=0;o<4;++o)if(!K(t[o].x,a.halfWidth)||!K(t[o].y,a.halfHeight))return!1;break;case Kt:if(a.isEmpty()||e||!s||i)return!1;break;case pe:if(a.isEmpty()||e||s||i||!r)return!1;break;case Je:if(a.isEmpty()||e||s||i||r)return!1;break}return!0}areRectAndRadiiValid(t,e){if(!t.isFinite()||!t.isSorted())return!1;for(let i=0;i<4;++i)if(!Ui(e[i].x,t.left,t.right)||!Ui(e[i].y,t.top,t.bottom))return!1;return!0}transform(t,e){if(!e)return!1;if(t.isIdentity())return e.copy(this),!0;let i=W.makeEmpty();if(!i.isFinite()||i.isEmpty())return!1;if(e.fRect=i,e.fType=this.fType,gt==this.fType)return!0;if(yt==this.fType){for(let o=0;o<4;++o)e.fRadii[o].x=$(i.width),e.fRadii[o].y=$(i.height);return!0}let s=t.a,r=t.d;if(t.isScaleTranslate())for(let o=0;o<4;++o)e.fRadii[o].x=this.fRadii[o].x,e.fRadii[o].y=this.fRadii[o].y;else{const o=t.b<0;s=t.c*(o?1:-1),r=t.b*(o?-1:1);const u=o?3:1;for(let h=0;h<4;++h){const f=h+u>=4?(h+u)%4:h+u;e.fRadii[h].x=this.fRadii[f].y,e.fRadii[h].y=this.fRadii[f].x}}s<0&&(s=-s),r<0&&(r=-r);for(let o=0;o<4;++o)e.fRadii[o].x*=s,e.fRadii[o].y*=r;return!0}initializeRect(t){return t.isFinite()?(this.fRect=t.makeSorted(),this.fRect.isEmpty()?(this.setRadiiEmpty(),this.fType=At,!1):!0):(this.setEmpty(),!1)}computeType(){const t=this.fRect;if(t.isEmpty()){this.fType=At;return}let e=this.fRadii,i=!0,s=e[0].x==0||e[0].y==0;for(let r=1;r<4;++r)e[r].x!=0&&e[r].y!=0&&(s=!1),(e[r].x!=e[r-1].x||e[r].y!=e[r-1].y)&&(i=!1);if(s){this.fType=gt;return}if(i){e[0].x>=$(t.width)&&e[0].y>=$(t.height)?this.fType=yt:this.fType=Kt;return}Ki(e)?this.fType=pe:this.fType=Je,this.isValid()||this.setRect(this.rect())}checkCornerContainment(t,e){let i=c.default(),s;const r=this.fRect,l=this.fRadii;if(yt==this.type)i.set(t-r.centerX,e-r.centerY),s=St;else if(t<r.left+l[St].x&&e<r.top+l[St].y)s=St,i.set(t-(r.left+l[St].x),e-(r.top+l[St].y));else if(t<r.left+l[Wt].x&&e>r.bottom-l[Wt].y)s=Wt,i.set(t-(r.left+l[Wt].x),e-(r.bottom-l[Wt].y));else if(t>r.right-l[Nt].x&&e<r.top+l[Nt].y)s=Nt,i.set(t-(r.right-l[Nt].x),e-(r.top+l[Nt].y));else if(t>r.right-l[Ft].x&&e>r.bottom-l[Ft].y)s=Ft,i.set(t-(r.right-l[Ft].x),e-(r.bottom-l[Ft].y));else return!0;return Rt(i.x)*Rt(l[s].y)+Rt(i.y)*Rt(l[s].x)<=Rt(l[s].x*l[s].x)}scaleRadii(){let t=1;const e=this.fRect,i=this.fRadii;let s=e.right-e.left,r=e.bottom-e.top;t=ye(i[0].x,i[1].x,s,t),t=ye(i[1].y,i[2].y,r,t),t=ye(i[2].x,i[3].x,s,t),t=ye(i[3].y,i[0].y,r,t);let l=I.from(i[0].x),a=I.from(i[1].x),o=I.from(i[2].x),u=I.from(i[3].x),h=I.from(i[0].y),f=I.from(i[1].y),d=I.from(i[2].y),y=I.from(i[3].y);return be(l,a),be(f,d),be(o,u),be(y,h),t<1&&(ke(s,t,l,a),ke(r,t,f,d),ke(s,t,o,u),ke(r,t,y,h)),i[0].set(l.value,h.value),i[1].set(a.value,f.value),i[2].set(o.value,d.value),i[3].set(u.value,y.value),Hi(i),this.computeType(),t<1}};k(Tt,"Corner",Ji);let kt=Tt;var xt=(n=>(n[n.kWinding=0]="kWinding",n[n.kEvenOdd=1]="kEvenOdd",n[n.kInverseWinding=2]="kInverseWinding",n[n.kInverseEvenOdd=3]="kInverseEvenOdd",n))(xt||{}),z=(n=>(n[n.kCW=0]="kCW",n[n.kCCW=1]="kCCW",n))(z||{}),at=(n=>(n[n.kLine_SkPathSegmentMask=1]="kLine_SkPathSegmentMask",n[n.kQuad_SkPathSegmentMask=2]="kQuad_SkPathSegmentMask",n[n.kConic_SkPathSegmentMask=4]="kConic_SkPathSegmentMask",n[n.kCubic_SkPathSegmentMask=8]="kCubic_SkPathSegmentMask",n))(at||{}),g=(n=>(n[n.kMove=0]="kMove",n[n.kLine=1]="kLine",n[n.kQuad=2]="kQuad",n[n.kConic=3]="kConic",n[n.kCubic=4]="kCubic",n[n.kClose=5]="kClose",n))(g||{}),w=(n=>(n[n.kMoveTo=0]="kMoveTo",n[n.kLineTo=1]="kLineTo",n[n.kQuadCurveTo=2]="kQuadCurveTo",n[n.kConicTo=3]="kConicTo",n[n.kCubicCurveTo=4]="kCubicCurveTo",n[n.kClose=5]="kClose",n[n.kDone=6]="kDone",n))(w||{});function Js(n){return(n&2)!=0}class $s{constructor(t,e=!1){k(this,"path");k(this,"forceClose",!1);k(this,"needClose",!1);k(this,"closeLine",!1);k(this,"verbIndex",0);k(this,"verbEnd",0);k(this,"lastPoint",c.default());k(this,"movePoint",c.default());k(this,"pointIndex",0);this.setPath(t,e)}get verbs(){return this.path.fVerbs}setPath(t,e=!1){this.path=t,this.verbEnd=t.fVerbs.length,this.forceClose=e,this.lastPoint.set(0,0),this.movePoint.set(0,0),this.forceClose=e,this.needClose=!1,this.closeLine=!1,this.pointIndex=0}isClosedContour(){if(this.path.countVerbs()<=0||this.verbIndex===this.verbEnd)return!1;if(this.forceClose)return!0;for(w.kMoveTo===this.verbs[this.verbIndex]&&(this.verbIndex+=1);this.verbIndex<this.verbEnd;){let t=this.verbs[this.verbIndex++];if(w.kMoveTo==t)break;if(w.kClose==t)return!0}return!1}autoClose(t){return this.lastPoint.equals(this.movePoint)?(t[0]=this.movePoint.clone(),w.kClose):!Number.isFinite(this.lastPoint.x)||!Number.isFinite(this.lastPoint.y)||!Number.isFinite(this.movePoint.x)||!Number.isFinite(this.movePoint.y)?w.kClose:(t[0]=this.lastPoint.clone(),t[1]=this.movePoint.clone(),this.lastPoint.copy(this.movePoint),this.closeLine=!0,w.kLineTo)}next(t){if(this.verbIndex>=this.verbEnd)return this.needClose?w.kLineTo==this.autoClose(t)?w.kLineTo:(this.needClose=!1,w.kClose):w.kDone;let e=this.path.fPts,i=this.pointIndex,s=this.verbs[this.verbIndex++];switch(s){case g.kMove:if(this.needClose)return this.verbIndex--,s=this.autoClose(t),s==w.kClose&&(this.needClose=!1),s;if(this.verbIndex===this.verbEnd)return w.kDone;this.movePoint.copy(e[i]),t[0]=c.fromPoint(e[i]),i+=1,this.lastPoint.copy(this.movePoint),this.needClose=this.forceClose;break;case g.kLine:t[0]=this.lastPoint.clone(),t[1]=c.fromPoint(e[i]),this.lastPoint.copy(e[i]),this.closeLine=!1,i+=1;break;case g.kQuad:t[0]=this.lastPoint.clone(),t[1]=c.fromPoint(e[i]),t[2]=c.fromPoint(e[i+1]),this.lastPoint.copy(e[i+1]),i+=2;break;case g.kCubic:t[0]=this.lastPoint.clone(),t[1]=c.fromPoint(e[i]),t[2]=c.fromPoint(e[i+1]),t[3]=c.fromPoint(e[i+2]),this.lastPoint.copy(e[i+2]),i+=3;break;case g.kClose:s=this.autoClose(t),s==w.kLineTo?this.verbIndex--:this.needClose=!1,this.lastPoint.copy(this.movePoint);break}return this.pointIndex=i,s}}function $i(n,t,e){let i=new Array(4).fill(0);i[0]=n[0].y-t,i[1]=n[1].y-t,i[2]=n[2].y-t,i[3]=n[3].y-t;{let s=0,r=0;if(i[0]<0){if(i[3]<0)return!1;s=0,r=V}else if(i[0]>0){if(i[3]>0)return!1;s=V,r=0}else return e.value=0,!0;const l=V/65536;do{let a=(r+s)/2,o=G(i[0],i[1],a),u=G(i[1],i[2],a),h=G(i[2],i[3],a),f=G(o,u,a),d=G(u,h,a),y=G(f,d,a);if(y==0)return e.value=a,!0;y<0?s=a:r=a}while(!(Y(r-s)<=l));return e.value=(s+r)/2,!0}}function B(n,t,e){return(n-t)*(e-t)<=0}function ge(n,t,e,i){return e.y==i.y?B(e.x,n,i.x)&&n!=i.x:n==e.x&&t==e.y}function Gs(n){return n<0?-1:+(n>0)}function Gi(n,t,e,i){let s=n[0].x,r=n[0].y,l=n[1].x,a=n[1].y,o=a-r,u=1;if(r>a){let f=r;r=a,a=f,u=-1}if(e<r||e>a)return 0;if(ge(t,e,n[0],n[1]))return i.value+=1,0;if(e==a)return 0;let h=(l-s)*(e-n[0].y)-o*(t-s);return h?Gs(h)==u&&(u=0):((t!=l||e!=n[1].y)&&(i.value+=1),u=0),u}function tn(n,t,e){return n==t?!0:n<t?t<=e:t>=e}function Se(n,t,e,i){return(n*i+t)*i+e}function tr(n,t,e,i,s){return((n*s+t)*s+e)*s+i}function en(n,t,e,i){let s=n[0].y,r=n[2].y,l=1;if(s>r){let h=s;s=r,r=h,l=-1}if(e<s||e>r)return 0;if(ge(t,e,n[0],n[2]))return i.value+=1,0;if(e==r)return 0;let a=L.from([0,0]),o=nt(n[0].y-2*n[1].y+n[2].y,2*(n[1].y-n[0].y),n[0].y-e,a),u;if(o==0)u=n[1-l].x;else{let h=a.get(0),f=n[0].x,d=n[2].x-2*n[1].x+f,y=2*(n[1].x-f);u=Se(d,y,f,h)}return K(u,t)&&(t!=n[2].x||e!=n[2].y)?(i.value+=1,0):u<t?l:0}function er(n,t,e,i){let s,r;s=r=t[0].x;for(let l=1;l<n;++l)s=Math.min(s,t[l].x),r=Math.max(r,t[l].x);e.value=s,i.value=r}function nn(n,t,e,i,s){let r=i+3*(t-e)-n,l=3*(e-t-t+n),a=3*(t-n);return tr(r,l,a,n,s)}function ir(n,t,e,i){let s=n[0].y,r=n[3].y,l=1;if(s>r){let f=s;s=r,r=f,l=-1}if(e<s||e>r)return 0;if(ge(t,e,n[0],n[3]))return i.value+=1,0;if(e==r)return 0;let a=I.from(0),o=I.from(0);if(er(4,n,a,o),t<a.value)return 0;if(t>o.value)return l;let u=I.from(0);if(!$i(n,e,u))return 0;let h=nn(n[0].x,n[1].x,n[2].x,n[3].x,u.value);return K(h,t)&&(t!=n[3].x||e!=n[3].y)?(i.value+=1,0):h<t?l:0}function sn(n,t,e,i){let s=Array.from({length:5},()=>c.default()),r=0;tn(n[0].y,n[1].y,n[2].y)||(r=Ai(n,s),n=s);let l=en(n,t,e,i);return r>0&&(l+=en(n.slice(2),t,e,i)),l}function rn(n,t,e,i){let s=Array.from({length:10},()=>c.default()),r=je(n,s),l=0;for(let a=0;a<=r;++a)l+=ir(s.slice(a*3),t,e,i);return l}function ln(n,t,e){let i=n[1]*t,s=n[0],r=n[2]-2*i+s,l=2*(i-s);return Se(r,l,s,e)}function an(n,t){let e=2*(n-1),i=1,s=-e;return Se(s,e,i,t)}function on(n,t,e,i){const s=n.fPts;let r=s[0].y,l=s[2].y,a=1;if(r>l){let b=r;r=l,l=b,a=-1}if(e<r||e>l)return 0;if(ge(t,e,s[0],s[2]))return i.value+=1,0;if(e==l)return 0;let o=L.from([0,0]),u=s[2].y,h=s[1].y*n.fW-e*n.fW+e,f=s[0].y;u+=f-2*h,h-=f,f-=e;let d=nt(u,2*h,f,o),y=0;if(d==0)y=s[1-a].x;else{let b=o.get(0);y=ln(s.map(p=>p.x),n.fW,b)/an(n.fW,b)}return K(y,t)&&(t!=s[2].x||e!=s[2].y)?(i.value+=1,0):y<t?a:0}function nr(n,t,e,i,s){let r=new N(n,i),l=[N.default(),N.default()],a=tn(n[0].y,n[1].y,n[2].y)||!r.chopAtYExtrema(l),o=on(a?r:l[0],t,e,s);return a||(o+=on(l[1],t,e,s)),o}function un(n,t,e,i){let s=n[0].y,r=n[1].y;if(!B(s,e,r))return;let l=n[0].x,a=n[1].x;if(!B(l,t,a))return;let o=a-l,u=r-s;if(!K((t-l)*u,o*(e-s)))return;let h=c.default();h.set(o,u),i.push(h)}function hn(n,t,e,i){if(!B(n[0].y,e,n[1].y)&&!B(n[1].y,e,n[2].y)||!B(n[0].x,t,n[1].x)&&!B(n[1].x,t,n[2].x))return;let s=L.from([0,0]),r=nt(n[0].y-2*n[1].y+n[2].y,2*(n[1].y-n[0].y),n[0].y-e,s);for(let l=0;l<r;++l){let a=s.get(l),o=n[0].x,u=n[2].x-2*n[1].x+o,h=2*(n[1].x-o),f=Se(u,h,o,a);K(t,f)&&i.push(he(n,a))}}function cn(n,t,e,i){if(!B(n[0].y,e,n[1].y)&&!B(n[1].y,e,n[2].y)&&!B(n[2].y,e,n[3].y)||!B(n[0].x,t,n[1].x)&&!B(n[1].x,t,n[2].x)&&!B(n[2].x,t,n[3].x))return;let s=Array.from({length:10},()=>c.default()),r=je(n,s);for(let l=0;l<=r;++l){let a=s.slice(l*3),o=I.from(0);if(!$i(a,e,o))continue;let u=nn(a[0].x,a[1].x,a[2].x,a[3].x,o.value);if(!K(t,u))continue;let h=c.default();fe(a,o.value,null,h,null),i.push(h)}}function sr(n,t,e,i,s){if(!B(n[0].y,e,n[1].y)&&!B(n[1].y,e,n[2].y)||!B(n[0].y,t,n[1].y)&&!B(n[1].y,t,n[2].y))return;let r=L.from([0,0]),l=n[2].y,a=n[1].y*i-e*i+e,o=n[0].y;l+=o-2*a,a-=o,o-=e;let u=nt(l,2*a,o,r);for(let h=0;h<u;++h){let f=r.get(h),d=ln(n.map(b=>b.y),i,f)/an(i,f);if(!K(t,d))continue;let y=new N(n,i);s.push(y.evalTangentAt(f))}}var fn=(n=>(n[n.kIsA_JustMoves=0]="kIsA_JustMoves",n[n.kIsA_MoreThanMoves=1]="kIsA_MoreThanMoves",n[n.kIsA_Oval=2]="kIsA_Oval",n[n.kIsA_RRect=3]="kIsA_RRect",n))(fn||{});function mn(n,t){return K(n.x,t.x)&&K(n.y,t.y)}function dn(n,t,e,i,s){let r=n*Math.PI/180,l=(n+t)*Math.PI/180;if(e.y=Yt(r),e.x=Xt(r),i.y=Yt(l),i.x=Xt(l),e.equals(i)){let a=Math.abs(t);if(a<360&&a>359){let o=ki(.001953125,t);do l-=o,i.y=Yt(l),i.x=Xt(l);while(e.equals(i))}}s.value=t>0?wt.kCW_SkRotationDirection:wt.kCCW_SkRotationDirection}function yn(n,t,e,i){return e==0&&(t==0||t==360)?(i.set(n.right,n.centerX),!0):n.width==0&&n.height==0?(i.set(n.right,n.top),!0):!1}function kn(n,t,e,i,s,r){let l=rt.fromScale($(n.width),$(n.height));l.postTranslate(n.centerX,n.centerY);let a=N.BuildUnitArc(t,e,i,l,s);return a==0&&l.mapXY(e.x,e.y,r),a}const Pe=class Pe{constructor(){k(this,"fPts",[]);k(this,"fVerbs",[]);k(this,"fConicWeights",[]);k(this,"fFillType",xt.kWinding);k(this,"fIsVolatile",!1);k(this,"fSegmentMask",at.kLine_SkPathSegmentMask);k(this,"fLastMovePoint",c.zero());k(this,"fLastMoveIndex",-1);k(this,"fNeedsMoveVerb",!0);k(this,"fIsA",0);k(this,"fIsAStart",-1);k(this,"fIsACCW",!1)}static default(){return new this}static fromPathFillType(t){return this.default().setFillType(t)}static fromPath(t){return this.default().setFillType(t.getFillType()).addPath(t)}static fromPathBuilder(t){return this.default().setFillType(t.getFillType()).addPath(t)}isEmpty(){return this.fVerbs.length==0}getFillType(){return this.fFillType}isInverseFillType(){return Js(this.getFillType())}getSegmentMasks(){return this.fSegmentMask}countVerbs(){return this.fVerbs.length}ensureMove(){this.fIsA=1,this.fNeedsMoveVerb&&this.moveTo(this.fLastMovePoint.x,this.fLastMovePoint.y)}copy(t){return this.fVerbs=t.fVerbs.slice(),this.fPts=t.fPts.map(e=>c.fromPoint(e)),this.fConicWeights=t.fConicWeights.slice(),this.fFillType=t.fFillType,this.fIsVolatile=t.fIsVolatile,this.fSegmentMask=t.fSegmentMask,this.fLastMovePoint.copy(t.fLastMovePoint),this.fLastMoveIndex=t.fLastMoveIndex,this}clone(){return Pe.default().copy(this)}reversePathTo(t){if(t.fVerbs.length==0)return this;const e=0;let i=t.countVerbs();const s=t.fVerbs,r=t.fPts;let l=r.length-1;const a=t.fConicWeights;let o=t.fConicWeights.length;for(;i>e;){let u=s[--i];switch(l-=bn(u),u){case g.kMove:return this;case g.kLine:this.lineTo(r[l]);break;case g.kQuad:this.quadTo(r[l+1],r[l]);break;case g.kConic:this.conicTo(r[l+1],r[l],a[--o]);break;case g.kCubic:this.cubicTo(r[l+2],r[l+1],r[l]);break;case g.kClose:break}}return this}reverseAddPath(t){if(t.fVerbs.length==0)return this;const e=0;let i=t.countVerbs();const s=t.fVerbs,r=t.fPts;let l=r.length;const a=t.fConicWeights;let o=t.fConicWeights.length,u=!0,h=!1;for(;i>e;){let f=s[--i],d=bn(f);switch(u&&(--l,this.moveTo(r[l]),u=!1),l-=d,f){case g.kMove:h&&(this.close(),h=!1),u=!0,l+=1;break;case g.kLine:this.lineTo(r[l]);break;case g.kQuad:this.quadTo(r[l+1],r[l]);break;case g.kConic:this.conicTo(r[l+1],r[l],a[--o]);break;case g.kCubic:this.cubicTo(r[l+2],r[l+1],r[l]);break;case g.kClose:h=!0;break}}return this}fillType(){return this.fFillType}computeBounds(){let t=W.makeEmpty(),e=this.fPts;return t.setBounds(e,e.length),t}snapshot(){}detach(){this.reset()}setFillType(t){return this.fFillType=t,this}setCanvasFillType(t){switch(t){case"evenodd":return this.setFillType(xt.kEvenOdd);case"nonzero":return this.setFillType(xt.kWinding)}return this}setIsVolatile(t){return this.fIsVolatile=t,this}reset(){this.fPts=[],this.fVerbs=[],this.fConicWeights=[],this.fFillType=xt.kWinding,this.fIsVolatile=!1,this.fSegmentMask=0,this.fLastMovePoint=c.zero(),this.fLastMoveIndex=-1,this.fNeedsMoveVerb=!0,this.fSegmentMask=at.kLine_SkPathSegmentMask}moveTo(t,e){let i=typeof t=="number"?c.create(t,e):t;return this.fLastMoveIndex=this.fPts.length,this.fPts.push(i),this.fVerbs.push(g.kMove),this.fLastMovePoint.copy(i),this.fNeedsMoveVerb=!1,this}lineTo(t,e){let i=typeof t=="number"?c.create(t,e):t;return this.ensureMove(),this.fPts.push(i),this.fVerbs.push(g.kLine),this.fSegmentMask|=at.kLine_SkPathSegmentMask,this}quadTo(t,e,i,s){let r=typeof t=="number"?c.create(t,e):t,l=typeof e=="number"?c.create(i,s):e;return this.ensureMove(),this.fPts.push(r),this.fPts.push(l),this.fVerbs.push(g.kQuad),this.fSegmentMask|=at.kQuad_SkPathSegmentMask,this}conicTo(t,e,i,s,r){let l=typeof t=="number"?c.create(t,e):t,a=typeof e=="number"?c.create(i,s):e,o=typeof t=="number"?r:i;if(!(o>0))this.lineTo(l);else if(!Pt(o))this.lineTo(l),this.lineTo(a);else if(V==r)this.quadTo(l,a);else{this.ensureMove();let u=this.lastPoint;const h=4*o/(3*(1+o));let f=u.x+(l.x-u.x)*h,d=u.y+(l.y-u.y)*h,y=a.x+(l.x-a.x)*h,b=a.y+(l.y-a.y)*h;this.cubicTo(f,d,y,b,a.x,a.y)}return this.fSegmentMask|=at.kConic_SkPathSegmentMask,this}cubicTo(t,e,i,s,r,l){this.ensureMove();let a=typeof t=="number"?c.create(t,e):t,o=typeof e=="number"?c.create(i,s):e,u=typeof i=="number"?c.create(r,l):i;return this.fPts.push(a),this.fPts.push(o),this.fPts.push(u),this.fVerbs.push(g.kCubic),this.fSegmentMask|=at.kCubic_SkPathSegmentMask,this}close(){return this.fVerbs.length>0&&(this.ensureMove(),this.fVerbs.push(g.kClose),this.fNeedsMoveVerb=!0),this}get lastPoint(){return this.fPts[this.fPts.length-1]}setLastPoint(t,e){this.lastPoint.set(t,e)}polylineTo(t,e=t.length){if(t.length>0){this.ensureMove();for(let i=0;i<e;++i)this.fPts.push(t[i]),this.fVerbs.push(g.kLine);this.fSegmentMask|=at.kLine_SkPathSegmentMask}return this}rLineTo(t,e){return this.ensureMove(),this.lineTo(this.lastPoint.x+t,this.lastPoint.y+e)}rQuadTo(t,e){this.ensureMove();let i=this.lastPoint;return this.quadTo(i.x+t.x,i.y+t.y,i.x+e.x,i.y+e.y)}rConicTo(t,e,i){this.ensureMove();let s=this.lastPoint;return this.conicTo(s.x+t.x,s.y+t.y,s.x+e.x,s.y+e.y,i)}rCubicTo(t,e,i){this.ensureMove();let s=this.lastPoint;return this.cubicTo(s.x+t.x,s.y+t.y,s.x+e.x,s.y+e.y,s.x+i.x,s.y+i.y)}arcToOval(t,e,i,s){if(t.width<0||t.height<0)return this;this.fVerbs.length<=0&&(s=!0);let l=c.default();if(yn(t,e,i,l))return s?this.moveTo(l):this.lineTo(l);let a=c.default(),o=c.default(),u=I.from(wt.kCW_SkRotationDirection);dn(e,i,a,o,u);let h=c.default(),f=b=>{s?this.moveTo(b):mn(this.lastPoint,b)||this.lineTo(b)};if(a.equals(o)){let b=We(e+i),p=t.width/2,x=t.height/2;return h.set(t.centerX+p*ft(b),t.centerY+x*re(b)),f(h),this}let d=N.make(5),y=kn(t,a,o,u.value,d,h);if(y){const b=d[0].fPts[0];f(b);for(let p=0;p<y;++p)this.conicTo(d[p].fPts[1],d[p].fPts[2],d[p].fW)}else f(h);return this}arcTo(t,e,i,s,r){const l=arguments.length,a=this.fVerbs,o=this.fPts;if(l===3){const u=t,h=e,f=i;if(this.ensureMove(),f==0)return this.lineTo(u);let d=this.lastPoint,y=c.create(u.x-d.x,u.y-d.y).toNormalize(),b=c.create(h.x-u.x,h.y-u.y).toNormalize(),p=y.dot(b),x=y.cross(b);if(!y.isFinite()||!b.isFinite()||it(Dt(x)))return this.lineTo(u);let S=Y(Dt(f*(1-p)/x)),_=u.x-S*y.x,v=u.y-S*y.y,C=c.create(b.x,b.y);C.setLength(S),this.lineTo(_,v);let M=J(Dt(ct+p*.5));return this.conicTo(u,u.clone().add(C),M)}else if(l===4){let u=t,h=e,f=i,d=s;if(u.width<0||u.height<0)return this;a.length<=0&&(d=!0);let y=c.default();if(yn(u,h,f,y))return d?this.moveTo(y):this.lineTo(y);let b=c.default(),p=c.default(),x=I.from(wt.kCW_SkRotationDirection);dn(h,f,b,p,x);let S=c.default(),_=M=>{d?this.moveTo(M):mn(o[this.fPts.length-1],M)||this.lineTo(M)};if(b.equalsEpsilon(p)){let M=We(h+f),Q=u.width/2,F=u.height/2;return S.set(u.centerX+Q*ft(M),u.centerY+F*re(M)),_(S),this}let v=N.make(Ei),C=kn(u,b,p,x.value,v,S);if(C){const M=v[0].fPts[0];_(M);for(let Q=0;Q<C;++Q)this.conicTo(v[Q].fPts[1],v[Q].fPts[2],v[Q].fW)}else _(S);return this}else{let u=t,h=e,f=i,d=s,y=r;this.ensureMove();let b=[this.lastPoint.clone(),y];if(!u.x||!u.y)return this.lineTo(y);if(b[0]==b[1])return this.lineTo(y);let p=Y(u.x),x=Y(u.y),S=b[0].clone().subtract(b[1]);S.multiplyScalar(.5);let _=rt.identity();_.setRotate(-h);let v=c.default();_.mapPoints([v],[S]);let C=p*p,M=x*x,Q=v.x*v.x,F=v.y*v.y,A=Q/C+F/M;A>1&&(A=J(A),p*=A,x*=A),_.setScale(1/p,1/x),_.preRotate(-h);let R=[c.default(),c.default()];_.mapPoints(R,b);let O=R[1].clone().subtract(R[0]),ut=O.x*O.x+O.y*O.y,Ct=Math.max(1/ut-.25,0),ht=J(Ct);d==z.kCCW!=!!f&&(ht=-ht),O.multiplyScalar(ht);let st=R[0].clone().add(R[1]);st.multiplyScalar(.5),st.translate(-O.y,O.x),R[0].subtract(st),R[1].subtract(st);let $t=Ne(R[0].y,R[0].x),j=Ne(R[1].y,R[1].x)-$t;if(j<0&&d==z.kCW?j+=et*2:j>0&&d!=z.kCW&&(j-=et*2),Y(j)<et/(1e3*1e3))return this.lineTo(y);_.setRotate(h),_.preScale(p,x);let Gt=Ci(Y(j/(2*et/3))),Re=j/Gt,fi=Pi(.5*Re);if(!Pt(fi))return this;let zn=$t,Jr=J(ct+ft(Re)*ct),Ie=te=>te==Ae(te),$r=it(et/2-Y(Re))&&Ie(p)&&Ie(x)&&Ie(y.x)&&Ie(y.y);for(let te=0;te<Gt;++te){let mi=zn+Re,Bn=Yt(mi),Vn=Xt(mi);R[1].set(Vn,Bn),R[1].add(st),R[0].copy(R[1]),R[0].translate(fi*Bn,-fi*Vn);let we=[c.default(),c.default()];if(_.mapPoints(we,R),$r)for(let Ee of we)Ee.x=se(Ee.x),Ee.y=se(Ee.y);this.conicTo(we[0],we[1],Jr),zn=mi}o[o.length-1].copy(y)}return this}addArc(t,e,i){if(t.isEmpty()||i==0)return this;const s=vi(360);if(i>=s||i<=-s){let r=e/90,l=se(r),a=r-l;if(K(a,0)){let o=(l+1)%4;return o=o<0?o+4:o,this.addOval(t,i>0?z.kCW:z.kCCW,o)}}return this.arcTo(t,e,i,!0)}addRect(t,e=z.kCW,i=0){let s=new Ge(t,e,i);return this.moveTo(s.current),this.lineTo(s.next()),this.lineTo(s.next()),this.lineTo(s.next()),this.close()}addOval(t,e=z.kCW,i=0){const s=this.fIsA;let r=new rr(t,e,i),l=new Ge(t,e,i+(e==z.kCW?0:1));this.moveTo(r.current);for(let a=0;a<4;++a)this.conicTo(l.next(),r.next(),ne);return this.close(),s==0&&(this.fIsA=2,this.fIsACCW=e==z.kCCW,this.fIsAStart=i%4),this}addRRect(t,e=z.kCW,i=e==z.kCW?6:7){const s=this.fIsA,r=t.getBounds();if(t.isRect()||t.isEmpty())this.addRect(r,e,(i+1)/2);else if(t.isOval())this.addOval(r,e,i/2);else{const l=(i&1)==+(e==z.kCW),a=ne;let o=new lr(t,e,i);const u=i/2+(e==z.kCW?0:1);let h=new Ge(r,e,u);if(this.moveTo(o.current),l){for(let f=0;f<3;++f)this.conicTo(h.next(),o.next(),a),this.lineTo(o.next());this.conicTo(h.next(),o.next(),a)}else for(let f=0;f<4;++f)this.lineTo(o.next()),this.conicTo(h.next(),o.next(),a);this.close()}return s==0&&(this.fIsA=3,this.fIsACCW=e==z.kCCW,this.fIsAStart=i%8),this}addCircle(t,e,i,s=z.kCW){return i>=0&&this.addOval(W.makeLTRB(t-i,e-i,t+i,e+i),s),this}addPolygon(t,e,i){return e<=0?this:(this.moveTo(t[0]),this.polylineTo(t.slice(1),e-1),i&&this.close(),this)}getBounds(){const t=W.makeLTRB(1/0,1/0,-1/0,-1/0);return t.setBounds(this.fPts,this.fPts.length),t}computeTightBounds(){if(this.countVerbs()==0)return W.makeEmpty();if(this.getSegmentMasks()==at.kLine_SkPathSegmentMask)return this.getBounds();let t=new Array(5).fill(0).map(()=>c.default()),e=c.create(1/0,1/0),i=c.create(-1/0,-1/0),s=this.fPts,r=0,l=0;for(let o=0;o<this.fVerbs.length;++o){let u=0;switch(this.fVerbs[o]){case g.kMove:t[0].copy(s[r]),r+=1,u=1;break;case g.kLine:t[0].copy(s[r]),r+=1,u=1;break;case g.kQuad:let f=[s[r-1],s[r],s[r+1]];u=Xi(f,t),r+=2;break;case g.kConic:let d=[s[r-1],s[r],s[r+1]];u=Zi(d,this.fConicWeights[l++],t);break;case g.kCubic:let y=[s[r-1],s[r],s[r+1],s[r+2]];u=ji(y,t),r+=3;break;case g.kClose:break}for(let f=0;f<u;++f){let d=t[f];e.min(d),i.max(d)}}let a=W.makeEmpty();return a.setLTRB(e.x,e.y,i.x,i.y),a}contains(t,e,i="nonzero"){return this.setCanvasFillType(i),pn(t,e,this)}addPath(t){for(let{type:e,p0:i,p1:s,p2:r,p3:l}of t)switch(e){case g.kMove:this.moveTo(i);break;case g.kLine:this.lineTo(i);break;case g.kQuad:this.quadTo(s,r);break;case g.kCubic:this.cubicTo(s.x,s.y,r.x,r.y,l.x,l.y);break;case g.kClose:this.close();break}return this}transform(t){if(t.isIdentity())return this;for(let e=0;e<this.fPts.length;++e)this.fPts[e].applyMatrix2D(t)}getLastPt(t){let e=this.fPts.length;return e>0?(t&&t.copy(this.fPts[e-1]),!0):(t&&t.set(0,0),!1)}offset(t,e){}toggleInverseFillType(){return this.fFillType=this.fFillType^2,this}isZeroLengthSincePoint(t){let e=this.fPts.length-t;if(e<2)return!0;let i=this.fPts[t];for(let s=1;s<e;s++)if(!i.equals(this.fPts[s]))return!1;return!0}*[Symbol.iterator](){let t=0,e=c.default();for(let i=0;i<this.fVerbs.length;++i){let s=this.fVerbs[i];switch(s){case g.kMove:yield{type:s,p0:this.fPts[t]},e.copy(this.fPts[t]),t+=1;break;case g.kLine:yield{type:s,p0:this.fPts[t]},t+=1;break;case g.kQuad:yield{type:s,p0:this.fPts[t-1],p1:this.fPts[t],p2:this.fPts[t+1]},t+=2;break;case g.kCubic:yield{type:s,p0:this.fPts[t-1],p1:this.fPts[t],p2:this.fPts[t+1],p3:this.fPts[t+2]},t+=3;break;case g.kClose:yield{type:s,p0:e,p1:this.fPts[t-1]};break}}}toCanvas(t){for(let{type:e,p0:i,p1:s,p2:r,p3:l}of this)switch(e){case g.kMove:t.moveTo(i.x,i.y);break;case g.kLine:t.lineTo(i.x,i.y);break;case g.kQuad:t.quadraticCurveTo(s.x,s.y,r.x,r.y);break;case g.kCubic:t.bezierCurveTo(s.x,s.y,r.x,r.y,l.x,l.y);break;case g.kClose:t.closePath();break}}toPath2D(){const t=new Path2D;return this.toCanvas(t),t}toSvgPath(){let t=[];for(let{type:e,p0:i,p1:s,p2:r,p3:l}of this)switch(e){case g.kMove:t.push(["M",i.x,i.y]);break;case g.kLine:t.push(["L",i.x,i.y]);break;case g.kQuad:t.push(["Q",s.x,s.y,r.x,r.y]);break;case g.kCubic:t.push(["C",s.x,s.y,r.x,r.y,l.x,l.y]);break;case g.kClose:t.push(["Z"]);break}return t.map(e=>e[0]+e.slice(1).join(" ")).join("")}};k(Pe,"IsA",fn);let bt=Pe;const bn=n=>{switch(n){case g.kMove:return 1;case g.kLine:return 1;case g.kConic:case g.kQuad:return 2;case g.kCubic:return 3;default:return 0}};class $e{constructor(t,e,i){k(this,"fPts",[]);k(this,"size",0);k(this,"fCurrent");k(this,"fAdvance");this.size=t,this.fPts=new Array(t),this.fCurrent=Math.trunc(i)%t,this.fAdvance=e==z.kCW?1:t-1}get current(){return this.fPts[this.fCurrent]}next(t=0){return this.fCurrent=(this.fCurrent+t*this.fAdvance+this.fAdvance)%this.size,this.current}}class rr extends $e{constructor(t,e,i){super(4,e,i);const s=t.centerX,r=t.centerY;this.fPts[0]=c.create(s,t.top),this.fPts[1]=c.create(t.right,r),this.fPts[2]=c.create(s,t.bottom),this.fPts[3]=c.create(t.left,r)}}class Ge extends $e{constructor(t,e,i){super(4,e,i),this.fPts[0]=c.create(t.left,t.top),this.fPts[1]=c.create(t.right,t.top),this.fPts[2]=c.create(t.right,t.bottom),this.fPts[3]=c.create(t.left,t.bottom)}}class lr extends $e{constructor(t,e,i){super(8,e,i);const s=t.getBounds(),r=s.left,l=s.top,a=s.right,o=s.bottom,u=t.fRadii,h=kt.Corner.kUpperLeft_Corner,f=kt.Corner.kUpperRight_Corner,d=kt.Corner.kLowerRight_Corner,y=kt.Corner.kLowerLeft_Corner;this.fPts[0]=c.create(r+u[h].x,l),this.fPts[1]=c.create(a-u[f].x,l),this.fPts[2]=c.create(a,l+u[f].y),this.fPts[3]=c.create(a,o-u[d].y),this.fPts[4]=c.create(a-u[d].x,o),this.fPts[5]=c.create(r+u[y].x,o),this.fPts[6]=c.create(r,o-u[y].y),this.fPts[7]=c.create(r,l+u[h].y)}}function pn(n,t,e){const i=e.getFillType();let s=e.isInverseFillType();if(e.countVerbs()<=0||!e.getBounds().containPoint(n,t))return s;let l=new $s(e,!0),a=!1,o=0,u=I.from(0),h=[c.default(),c.default(),c.default(),c.default()];do switch(l.next(h)){case w.kMoveTo:case w.kClose:break;case w.kLineTo:o+=Gi(h,n,t,u);break;case w.kQuadCurveTo:o+=sn(h,n,t,u);break;case w.kConicTo:break;case w.kCubicCurveTo:o+=rn(h,n,t,u);break;case w.kDone:a=!0;break}while(!a);let f=xt.kEvenOdd==i||xt.kInverseEvenOdd==i;if(f&&(o&=1),o)return!s;if(u.value<=1)return!!(Number(u.value)^Number(s));if(u.value&1||f)return!!(Number(u.value&1)^Number(s));l.setPath(e,!0),a=!1;let d=[];do{let y=d.length;switch(l.next(h)){case w.kMoveTo:case w.kClose:break;case w.kLineTo:un(h,n,t,d);break;case w.kQuadCurveTo:hn(h,n,t,d);break;case w.kConicTo:break;case w.kCubicCurveTo:cn(h,n,t,d);break;case w.kDone:a=!0;break}if(d.length>y){let b=d.length-1;const p=d[b];if(it(p.dot(p)))d.splice(b,1);else for(let x=0;x<b;++x){const S=d[x];if(it(S.cross(p))&&Qe(p.x*S.x)<=0&&Qe(p.y*S.y)<=0){d.splice(b,1),d.splice(x,1,d[d.length]);break}}}}while(!a);return Number(d.length^Number(s))}var gn=(n=>(n.Miter="miter",n.Round="round",n.Bevel="bevel",n.MiterClip="miter-clip",n))(gn||{}),Sn=(n=>(n.Butt="butt",n.Round="round",n.Square="square",n))(Sn||{}),xn=(n=>(n.NonZero="nonzero",n.EvenOdd="evenodd",n))(xn||{});class Ht{constructor(t){k(this,"isAutoClose",!1);k(this,"path");k(this,"verbIndex");k(this,"pointsIndex");k(this,"lastMoveTo",c.default());k(this,"lastPoint",c.default());this.isAutoClose=t.isAutoClose??!1,this.verbIndex=t.verbIndex,this.pointsIndex=t.pointsIndex,this.path=t.path,t.lastMoveTo&&this.lastMoveTo.copy(t.lastMoveTo),t.lastPoint&&this.lastPoint.copy(t.lastPoint)}get curVerb(){return this.path.fVerbs[this.verbIndex-1]}get nextVerb(){return this.path.fVerbs[this.verbIndex]}canNext(){return this.verbIndex<this.path.fVerbs.length}copy(t){return this.isAutoClose=t.isAutoClose,this.verbIndex=t.verbIndex,this.pointsIndex=t.pointsIndex,this.lastMoveTo.copy(t.lastMoveTo),this.lastPoint.copy(t.lastPoint),this}clone(){return new Ht({isAutoClose:this.isAutoClose,path:this.path,verbIndex:this.verbIndex,pointsIndex:this.pointsIndex,lastMoveTo:this.lastMoveTo,lastPoint:this.lastPoint})}*[Symbol.iterator](){const t=this.path.fPts.map(s=>c.fromPoint(s)),e=this.path.fVerbs;let i=null;for(;this.verbIndex<e.length;){const s=e[this.verbIndex++];switch(s){case g.kMove:this.pointsIndex+=1,i=t[this.pointsIndex-1],this.lastMoveTo.copy(i),this.lastPoint.copy(this.lastMoveTo),yield{type:s,p0:t[this.pointsIndex-1]};break;case g.kLine:this.pointsIndex+=1,this.lastPoint.copy(t[this.pointsIndex-1]),yield{type:s,p0:t[this.pointsIndex-1]};break;case g.kQuad:this.pointsIndex+=2,this.lastPoint.copy(t[this.pointsIndex-1]),yield{type:s,p0:t[this.pointsIndex-3],p1:t[this.pointsIndex-2],p2:t[this.pointsIndex-1]};break;case g.kCubic:this.pointsIndex+=3,this.lastPoint.copy(t[this.pointsIndex-1]),yield{type:s,p0:t[this.pointsIndex-4],p1:t[this.pointsIndex-3],p2:t[this.pointsIndex-2],p3:t[this.pointsIndex-1]};break;case g.kClose:const r=this.autoClose();this.lastPoint.copy(this.lastMoveTo),yield r;break}}}hasValidTangent(){let t=this.clone();for(let e of t)switch(e.type){case g.kMove:return!1;case g.kLine:{if(t.lastPoint.equals(e.p0))continue;return!0}case g.kQuad:{if(t.lastPoint.equals(e.p1)&&t.lastPoint.equals(e.p2))continue;return!0}case g.kCubic:{if(t.lastPoint.equals(e.p1)&&t.lastPoint.equals(e.p2)&&t.lastPoint.equals(e.p3))continue;return!0}case g.kClose:return!1}return!1}setAutoClose(t){this.isAutoClose=t}autoClose(){return this.isAutoClose&&!this.lastPoint.equals(this.lastMoveTo)?(this.verbIndex-=1,{type:g.kLine,p0:this.lastMoveTo}):{type:g.kClose,p0:this.lastPoint,p1:this.lastMoveTo}}}class ar{constructor(t,e){this.inner=t,this.outer=e}swap(){[this.inner,this.outer]=[this.outer,this.inner]}}const ti=.707106781,ei=(n,t,e,i,s)=>{s.lineTo(e.x,e.y)},or=(n,t,e,i,s)=>{let r=t.clone();r.cw();let l=n.clone().add(r),a=l.clone().add(t);s.conicTo(a.x,a.y,l.x,l.y,ti),a.copy(l).subtract(t),s.conicTo(a.x,a.y,e.x,e.y,ti)},ur=(n,t,e,i,s)=>{let r=t.clone();r.cw(),i?(s.setLastPoint(n.x+t.x+r.x,n.y+t.y+r.y),s.lineTo(n.x-t.x+r.x,n.y-t.y+r.y)):(s.lineTo(n.x+t.x+r.x,n.y+t.y+r.y),s.lineTo(n.x-t.x+r.x,n.y-t.y+r.y),s.lineTo(e.x,e.y))};function _n(n){return Math.abs(n)<=ri}function vn(n){return n>=0?_n(1-n)?3:2:_n(1+n)?0:1}function ii(n,t){return n.x*t.y>n.y*t.x}function xe(n,t,e){e.lineTo(n.x,n.y),e.lineTo(n.x-t.x,n.y-t.y)}const Tn=(n,t,e,i,s,r,l,a,o)=>{function u(_,v,C,M,Q,F,A,R,O,ut){if(R=R.clone(),R.multiplyScalar(C),A=A.clone(),F=F.clone(),ut){A.normalize();let Ct=F.dot(A),ht=F.cross(A),st=0;Math.abs(ht)<=ri?st=1/O:st=(1/O-Ct)/ht,F.multiplyScalar(C);let $t=F.clone();$t.cw();let ci=R.clone();ci.ccw();let j=c.default();j.addVectors(v,F).add($t.clone().multiplyScalar(st));let Gt=c.default();j.addVectors(v,R).add(ci.clone().multiplyScalar(st)),M?_.outer.setLastPoint(j.x,j.y):_.outer.lineTo(j.x,j.y),_.outer.lineTo(Gt.x,Gt.y)}Q||_.outer.lineTo(v.x+R.x,v.y+R.y),xe(v,R,_.inner)}function h(_,v,C,M,Q,F,A){A=A.clone(),A.multiplyScalar(C),M?_.outer.setLastPoint(v.x+F.x,v.y+F.y):_.outer.lineTo(v.x+F.x,v.y+F.y),Q||_.outer.lineTo(v.x+A.x,v.y+A.y),xe(v,A,_.inner)}let f=n.dot(e),d=vn(f),y=n.clone(),b=e.clone(),p=c.default();if(d==3)return;if(d==0){a=!1,p.subtractVectors(b,y).multiplyScalar(i/2),u(o,t,i,l,a,y,p,b,s,r);return}let x=!ii(y,b);if(x&&(o.swap(),y.negate(),b.negate()),f==0&&s<=ti){p.addVectors(y,b).multiplyScalar(i),h(o,t,i,l,a,p,b);return}d==1?(p=c.create(b.y-y.y,y.x-b.x),x&&p.negate()):p=c.create(y.x+b.x,y.y+b.y);let S=Math.sqrt((1+f)/2);if(S<s){a=!1,u(o,t,i,l,a,y,p,b,s,r);return}p.setLength(i/S),h(o,t,i,l,a,p,b)},hr=(n,t,e,i,s,r,l,a)=>{let o=e.clone().multiplyScalar(i);ii(n,e)||(a.swap(),o.negate()),a.outer.lineTo(t.x+o.x,t.y+o.y),xe(t,o,a.inner)},cr=(n,t,e,i,s,r,l,a)=>Tn(n,t,e,i,s,!1,r,l,a),fr=(n,t,e,i,s,r,l,a)=>{Tn(n,t,e,i,s,!0,r,l,a)},ni=(n,t,e,i,s,r,l,a)=>{let o=n.dot(e);if(vn(o)==3)return;let h=n.clone(),f=e.clone(),d=z.kCW;ii(h,f)||(a.swap(),h.negate(),f.negate(),d=z.kCCW);let y=rt.fromRows(i,0,0,i,t.x,t.y),b=new Array(5).fill(0).map(()=>new N),p=N.BuildUnitArc(h,f,d,y,b);if(p>0){b=b.slice(0,p);for(let x of b)a.outer.conicTo(x.fPts[1],x.fPts[2],x.fW);f.multiplyScalar(i),xe(t,f,a.inner)}};function Cn(n,t,e,i,s,r){return r.setLengthFrom((t.x-n.x)*e,(t.y-n.y)*e,1)?(r.ccw(),s.copy(r).multiplyScalar(i),!0):!1}function mr(n,t,e,i){return i.setLengthFrom(n.x,n.y,1)?(i.ccw(),e.copy(i).multiplyScalar(t),!0):!1}class _e{constructor(){k(this,"quad",[c.default(),c.default(),c.default()]);k(this,"tangent_start",c.default());k(this,"tangent_end",c.default());k(this,"start_t",0);k(this,"mid_t",0);k(this,"end_t",0);k(this,"start_set",!1);k(this,"end_set",!1);k(this,"opposite_tangents",!1)}static default(){return new this}init(t,e){return this.start_t=t,this.mid_t=Math.min(1,Math.max(0,(t+e)/2)),this.end_t=e,this.start_set=!1,this.end_set=!1,this.start_t<this.mid_t&&this.mid_t<this.end_t}initWithStart(t){const e=this;return e.init(t.start_t,t.mid_t)?(e.quad[0].copy(t.quad[0]),e.tangent_start.copy(t.tangent_start),e.start_set=!0,!0):!1}initWithEnd(t){const e=this;return e.init(t.mid_t,t.end_t)?(e.quad[2].copy(t.quad[2]),e.tangent_end.copy(t.tangent_end),e.end_set=!0,!0):!1}}function dr(n){let t=ot(n[1].clone().sub(n[0])),e=ot(n[2].clone().sub(n[1]));if(t&e)return[c.default(),0];if(t|e)return[c.default(),1];if(!yr(n))return[c.default(),2];let i=Ni(n);return i==0||i==1?[c.default(),1]:[mt(n,i),3]}function ot(n){return+!n.canNormalize()}function yr(n){let t=-1,e=0,i=0;for(let a=0;a<2;a++)for(let o=a+1;o<3;o++){let u=n[o].clone().sub(n[a]),h=Math.max(Math.abs(u.x),Math.abs(u.y));t<h&&(e=a,i=o,t=h)}console.assert(e<=1),console.assert(i>=1&&i<=2),console.assert(e<i);let s=e^i^3,l=t*t*5e-6;return Qt(n[s],n[e],n[i])<=l}function Qt(n,t,e){let i=e.clone().sub(t),s=n.clone().sub(t),r=i.dot(s),l=i.dot(i),a=r/l;return a>=0&&a<=1?c.create(t.x*(1-a)+e.x*a,t.y*(1-a)+e.y*a).distanceToSquared(n):n.distanceToSquared(t)}function kr(n,t,e){let i=n[1].clone().sub(n[0]),s=[0,0,0];for(let u=0;u<3;u++)s[u]=(t[u].y-n[0].y)*i.x-(t[u].x-n[0].x)*i.y;let r=s[2],l=s[1],a=s[0];r+=a-2*l,l-=a;let o=nt(r,2*l,a,L.from(e));return e.slice(0,o)}function si(n,t,e){return n.distanceToSquared(t)<=e*e}function Mn(n){let t=n[1].clone().sub(n[0]),e=n[1].clone().sub(n[2]),i=t.lengthSquared(),s=e.lengthSquared();return i>s&&([t,e]=[e,t],s=i),t.setLength(s)?t.dot(e)>0:!1}function br(n,t,e){let i=Math.min(n[0].x,n[1].x,n[2].x);if(t.x+e<i)return!1;let s=Math.max(n[0].x,n[1].x,n[2].x);if(t.x-e>s)return!1;let r=Math.min(n[0].y,n[1].y,n[2].y);if(t.y+e<r)return!1;let l=Math.max(n[0].y,n[1].y,n[2].y);return!(t.y-e>l)}function pr(n,t,e){let i=ot(n[1].clone().sub(n[0])),s=ot(n[2].clone().sub(n[1])),r=ot(n[3].clone().sub(n[2]));if(i&s&r)return 0;if(i+s+r==2)return 1;if(!gr(n))return e&&(i?e.copy(n[2]):e.copy(n[1])),2;let l=[0,0,0],a=Ze(n,l),o=0;l=l.slice(0,a);for(let u of l){if(0>=u||u>=1)continue;let h=Zt(n,u);t[o]=c.create(h.x,h.y),!t[o].equals(n[0])&&!t[o].equals(n[3])&&(o+=1)}switch(o){case 0:return 1;case 1:return 1;case 2:return 4;case 3:return 5;default:return-1}}function gr(n){let t=-1,e=0,i=0;for(let a=0;a<3;a++)for(let o=a+1;o<4;o++){let u=n[o].clone().sub(n[a]),h=Math.max(Math.abs(u.x),Math.abs(u.y));t<h&&(e=a,i=o,t=h)}let s=1+(2>>i)>>e,r=e^i^s,l=t*t*1e-5;return Qt(n[s],n[e],n[i])<=l&&Qt(n[r],n[e],n[i])<=l}const Sr={bevel:hr,miter:cr,"miter-clip":fr,round:ni},xr={butt:ei,round:or,square:ur},_r=3,Pn=[15,78,33,33],ri=1/4096;class vr{constructor(){k(this,"radius",0);k(this,"inv_miter_limit",0);k(this,"res_scale",1);k(this,"inv_res_scale",1);k(this,"inv_res_scale_squared",1);k(this,"first_normal",c.default());k(this,"prev_normal",c.default());k(this,"first_unit_normal",c.default());k(this,"prev_unit_normal",c.default());k(this,"first_pt",c.default());k(this,"prev_pt",c.default());k(this,"first_outer_pt",c.default());k(this,"first_outer_pt_index_in_contour",0);k(this,"segment_count",-1);k(this,"prev_is_line",!1);k(this,"capper");k(this,"joiner");k(this,"inner",bt.default());k(this,"outer",bt.default());k(this,"cusper",bt.default());k(this,"stroke_type",1);k(this,"recursion_depth",0);k(this,"found_tangents",!1);k(this,"join_completed",!1)}static computeResolutionScale(t){let e=c.create(t.a,t.b).length(),i=c.create(t.c,t.d).length();if(Number.isFinite(e)&&Number.isFinite(i)){let s=Math.max(e,i);if(s>0)return s}return 1}get moveToPt(){return this.first_pt}builders(){return new ar(this.inner,this.outer)}close(t){this.finishContour(!0,t)}moveTo(t){this.segment_count>0&&this.finishContour(!1,!1),this.segment_count=0,this.first_pt.copy(t),this.prev_pt.copy(t),this.join_completed=!1}finishContour(t,e){const i=this;if(i.segment_count>0){if(t){i.joiner(i.prev_unit_normal,i.prev_pt,i.first_unit_normal,i.radius,i.inv_miter_limit,i.prev_is_line,e,i.builders()),i.outer.close();let s=i.inner.lastPoint??c.create(0,0);i.outer.moveTo(s.x,s.y),i.outer.reversePathTo(i.inner),i.outer.close()}else{let s=i.inner.lastPoint?c.fromPoint(i.inner.lastPoint):c.create(0,0),r=e?i.inner:null;i.capper(i.prev_pt,i.prev_normal,s,r,i.outer),i.outer.reversePathTo(i.inner),r=i.prev_is_line?i.inner:null,i.capper(i.first_pt,i.first_normal.clone().negate(),i.first_outer_pt,r,i.outer),i.outer.close()}i.cusper.isEmpty||(i.outer.addPath(i.cusper),i.cusper.reset())}i.inner.reset(),i.segment_count=-1,i.first_outer_pt_index_in_contour=i.outer.fPts.length}preJoinTo(t,e,i,s){const r=this;let l=r.prev_pt.x,a=r.prev_pt.y;if(!Cn(r.prev_pt,t,r.res_scale,r.radius,i,s)){if(r.capper===ei)return!1;i.set(r.radius,0),s.set(1,0)}return r.segment_count==0?(r.first_normal.copy(i),r.first_unit_normal.copy(s),r.first_outer_pt=c.create(l+i.x,a+i.y),r.outer.moveTo(r.first_outer_pt.x,r.first_outer_pt.y),r.inner.moveTo(l-i.x,a-i.y)):r.joiner(r.prev_unit_normal,r.prev_pt,s,r.radius,r.inv_miter_limit,r.prev_is_line,e,r.builders()),r.prev_is_line=e,!0}postJoinTo(t,e,i){this.join_completed=!0,this.prev_pt.copy(t),this.prev_unit_normal.copy(i),this.prev_normal.copy(e),this.segment_count+=1}initQuad(t,e,i,s){this.stroke_type=t,this.found_tangents=!1,s.init(e,i)}quadStroke(t,e){let i=this,s=i.compareQuadQuad(t,e);if(s==2)return(i.stroke_type==1?i.outer:i.inner).quadTo(e.quad[1].x,e.quad[1].y,e.quad[2].x,e.quad[2].y),!0;if(s==1)return i.addDegenerateLine(e),!0;if(i.recursion_depth+=1,i.recursion_depth>Pn[_r])return!1;let r=_e.default();return r.initWithStart(e),!i.quadStroke(t,r)||(r.initWithEnd(e),!i.quadStroke(t,r))?!1:(i.recursion_depth-=1,!0)}compareQuadQuad(t,e){const i=this;if(!e.start_set){let a=c.zero();i.quadPerpRay(t,e.start_t,a,e.quad[0],e.tangent_start),e.start_set=!0}if(!e.end_set){let a=c.zero();i.quadPerpRay(t,e.end_t,a,e.quad[2],e.tangent_end),e.end_set=!0}let s=i.intersectRay(0,e);if(s!=2)return s;let r=c.zero(),l=c.zero();return i.quadPerpRay(t,e.mid_t,l,r),i.strokeCloseEnough(e.quad.slice(),[r,l],e)}setRayPoints(t,e,i,s){const r=this;e.setLength(r.radius)||e.copy(c.create(r.radius,0));let l=r.stroke_type;i.x=t.x+l*e.y,i.y=t.y-l*e.x,s&&(s.x=i.x+e.x,s.y=i.y+e.y)}quadPerpRay(t,e,i,s,r){let l=this,a=mt(t,e);i.set(a.x,a.y),a=he(t,e);let o=c.create(a.x,a.y);o.isZero()&&(o=t[2].sub(t[0])),l.setRayPoints(i,o,s,r)}strokeCloseEnough(t,e,i){const s=this;let l=mt(t,.5);if(si(e[0],c.create(l.x,l.y),s.inv_res_scale))return Mn(i.quad)?0:2;if(!br(t,e[0],s.inv_res_scale))return 0;let a=new Array(3).fill(.5);if(a=kr(e,t,a),a.length!=1)return 0;let o=mt(t,a[0]),u=s.inv_res_scale*(1-Math.abs(a[0]-.5)*2);return si(e[0],c.create(o.x,o.y),u)?Mn(i.quad)?0:2:0}intersectRay(t,e){const i=this;let s=e.quad[0],r=e.quad[2],l=e.tangent_start.clone().sub(s),a=e.tangent_end.clone().sub(r),o=l.cross(a);if(o==0||!Number.isFinite(o))return e.opposite_tangents=l.dot(a)<0,1;e.opposite_tangents=!1;let u=s.clone().sub(r),h=a.cross(u),f=l.cross(u);if(h>=0==f>=0){let y=Qt(s,r,e.tangent_end),b=Qt(r,s,e.tangent_start);return Math.max(y,b)<=i.inv_res_scale_squared?1:0}return h/=o,h>h-1?(t==0&&(e.quad[1].x=s.x*(1-h)+e.tangent_start.x*h,e.quad[1].y=s.y*(1-h)+e.tangent_start.y*h),2):(e.opposite_tangents=l.dot(a)<0,1)}addDegenerateLine(t){const e=this;e.stroke_type==1?e.outer.lineTo(t.quad[2].x,t.quad[2].y):e.inner.lineTo(t.quad[2].x,t.quad[2].y)}setCubicEndNormal(t,e,i,s,r){let l=this,a=t[1].clone().sub(t[0]),o=t[3].clone().sub(t[2]),u=ot(a),h=ot(o);if(u&&h){s.copy(e),r.copy(i);return}if(u&&(a=t[2].clone().sub(t[0]),u=ot(a)),h&&(o=t[3].clone().sub(t[1]),h=ot(o)),u||h){s.copy(e),r.copy(i);return}return mr(o,l.radius,s,r)}lineTo(t,e){const i=this;let s=i.prev_pt.equalsEpsilon(t,ri*i.inv_res_scale);if(i.capper,ei&&s||s&&(i.join_completed||e&&e.hasValidTangent()))return;let r=c.default(),l=c.default();i.preJoinTo(t,!0,r,l)&&(i.outer.lineTo(t.x+r.x,t.y+r.y),i.inner.lineTo(t.x-r.x,t.y-r.y),i.postJoinTo(t,r,l))}quadraticCurveTo(t,e){const i=this;let s=[i.prev_pt,t,e],[r,l]=dr(s);if(l==0){i.lineTo(e);return}if(l==1){i.lineTo(e);return}if(l==3){i.lineTo(r);let y=i.joiner;i.joiner=ni,i.lineTo(e),i.joiner=y;return}let a=c.default(),o=c.default(),u=c.default(),h=c.default();if(!i.preJoinTo(t,!1,a,o)){i.lineTo(e);return}let f=_e.default();i.initQuad(1,0,1,f),i.quadStroke(s,f),i.initQuad(-1,0,1,f),i.quadStroke(s,f),Cn(s[1],s[2],i.res_scale,i.radius,u,h)||(u=a,h=o),i.postJoinTo(e,u,h)}bezierCurveTo(t,e,i){const s=this;let r=[s.prev_pt,t,e,i],l=Array.from({length:3},()=>c.zero()),a=c.zero(),o=pr(r,l,a);if(o==0){s.lineTo(i);return}if(o==1){s.lineTo(i);return}if(3<=o&&5>=o){s.lineTo(l[0]);let S=s.joiner;s.joiner=ni,4<=o&&s.lineTo(l[1]),o==5&&s.lineTo(l[2]),s.lineTo(i),s.joiner=S;return}let u=c.zero(),h=c.zero(),f=c.zero(),d=c.zero();if(!s.preJoinTo(a,!1,u,h)){s.lineTo(i);return}let y=new Array(3).fill(.5),b=zi(r,y);y=y.slice(0,b);let p=0;for(let S=0,_=y.length;S<=_;S++){let v=Number.isFinite(y[S])?y[S]:1,C=_e.default();s.initQuad(1,p,v,C),s.cubicStroke(r,C),s.initQuad(-1,p,v,C),s.cubicStroke(r,C),p=v}let x=Oi(r);if(x){let S=Zt(r,x);s.cusper.addCircle(S.x,S.y,s.radius)}s.setCubicEndNormal(r,u,h,f,d),s.postJoinTo(i,f,d)}cubicStroke(t,e){const i=this;if(!i.found_tangents){let r=i.tangentsMeet(t,e);if(r!=2){let l=si(e.quad[0],e.quad[2],i.inv_res_scale);if((r==1||l)&&i.cubicMidOnLine(t,e))return i.addDegenerateLine(e),!0}else i.found_tangents=!0}if(i.found_tangents){let r=i.compareQuadCubic(t,e);if(r==2){let l=e.quad;return i.stroke_type==1?i.outer.quadTo(l[1].x,l[1].y,l[2].x,l[2].y):i.inner.quadTo(l[1].x,l[1].y,l[2].x,l[2].y),!0}if(r==1&&!e.opposite_tangents)return i.addDegenerateLine(e),!0}if(!Number.isFinite(e.quad[2].x)||!Number.isFinite(e.quad[2].x)||(i.recursion_depth+=1,i.recursion_depth>Pn[Number(i.found_tangents)]))return!1;let s=_e.default();return s.initWithStart(e)?i.cubicStroke(t,s)?s.initWithEnd(e)?i.cubicStroke(t,s)?(i.recursion_depth-=1,!0):!1:(i.addDegenerateLine(e),i.recursion_depth-=1,!0):!1:(i.addDegenerateLine(e),i.recursion_depth-=1,!0)}cubicMidOnLine(t,e){let i=this,s=c.zero();return i.cubicQuadMid(t,e,s),Qt(s,e.quad[0],e.quad[2])<i.inv_res_scale_squared}cubicQuadMid(t,e,i){let s=c.zero();this.cubicPerpRay(t,e.mid_t,s,i)}compareQuadCubic(t,e){let i=this;i.cubicQuadEnds(t,e);let s=i.intersectRay(0,e);if(s!=2)return s;let r=c.zero(),l=c.zero();return i.cubicPerpRay(t,e.mid_t,l,r),i.strokeCloseEnough(e.quad.slice(),[r,l],e)}cubicQuadEnds(t,e){const i=this;if(!e.start_set){let s=c.zero();i.cubicPerpRay(t,e.start_t,s,e.quad[0],e.tangent_start),e.start_set=!0}if(!e.end_set){let s=c.zero();i.cubicPerpRay(t,e.end_t,s,e.quad[2],e.tangent_end),e.end_set=!0}}tangentsMeet(t,e){return this.cubicQuadEnds(t,e),this.intersectRay(1,e)}cubicPerpRay(t,e,i,s,r){let l=this;i.copy(Zt(t,e));let a=Ye(t,e),o=Array.from({length:7},()=>c.zero());if(a.x==0&&a.y==0){let u=t;it(e)?a=t[2].clone().sub(t[0]):it(1-e)?a=t[3].clone().sub(t[1]):(lt(t,o,e),a=o[3].clone().sub(o[2]),a.x==0&&a.y==0&&(a=o[3].clone().sub(o[1]),u=o)),a.x==0&&a.y==0&&(a=u[3].clone().sub(u[0]))}l.setRayPoints(i,a,s,r)}stroke(t,e){return this.strokeInner(t,e.strokeWidth,e.miterLimit??10,e.lineCap??"butt",e.lineJoin??"miter",this.res_scale)}strokeInner(t,e,i,s,r,l){const a=this;let o=0;r=="miter"&&(i<=1?r="bevel":o=1/i),r=="miter-clip"&&(o=1/i),a.res_scale=l,a.inv_res_scale=1/(l*4),a.inv_res_scale_squared=a.inv_res_scale**2,a.radius=e*.5,a.inv_miter_limit=o,a.first_normal=c.default(),a.prev_normal=c.default(),a.first_unit_normal=c.default(),a.prev_unit_normal=c.default(),a.first_pt=c.default(),a.prev_pt=c.default(),a.first_outer_pt=c.default(),a.first_outer_pt_index_in_contour=0,a.segment_count=-1,a.prev_is_line=!1,a.capper=xr[s],a.joiner=Sr[r],a.inner.reset(),a.outer.reset(),a.cusper.reset(),a.stroke_type=1,a.recursion_depth=0,a.found_tangents=!1,a.join_completed=!1;let u=!1,h=new Ht({path:t,verbIndex:0,pointsIndex:0,isAutoClose:!0});h.setAutoClose(!0);for(let f of h)switch(f.type){case g.kMove:a.moveTo(f.p0);break;case g.kLine:a.lineTo(f.p0,h),u=!0;break;case g.kQuad:a.quadraticCurveTo(f.p1,f.p2),u=!1;break;case g.kCubic:a.bezierCurveTo(f.p1,f.p2,f.p3),u=!1;break;case g.kClose:if(s!="butt"){if(a.hasOnlyMoveTo()){a.lineTo(a.moveToPt),u=!0;continue}if(a.isCurrentContourEmpty()){u=!0;continue}}a.close(u);break}return a.finish(u)}finish(t){return this.finishContour(!1,t),this.outer.clone()}hasOnlyMoveTo(){return this.segment_count==0}isCurrentContourEmpty(){return this.inner.isZeroLengthSincePoint(0)&&this.outer.isZeroLengthSincePoint(this.first_outer_pt_index_in_contour)}}const Rn={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};new Set(Object.keys(Rn).concat(Object.keys(Rn).map(n=>n.toLowerCase())));function li(n,t,e){return n>=t&&n<=e}function In(n){return li(n.charCodeAt(0),1,32)}function ve(n){return li(n.charCodeAt(0),48,57)}function wn(n){return In(n)||n===","}function Tr(n){return li(n.charCodeAt(0),97,122)}function Cr(n){return String.fromCharCode(n.charCodeAt(0)-97+65)}function ai(n){let t=0;for(;n.length>0&&In(n[t]);)t++;return n.slice(t)}function Te(n){let t=0;for(;n.length>0&&wn(n[t]);)t++;return n.slice(t)}function Mr(n,t){n=ai(n);let e=0;for(e<n.length&&(n[e]==="+"||n[e]==="-")&&e++;e<n.length&&ve(n[e]);)e++;if(e<n.length&&n[e]===".")for(e++;e<n.length&&ve(n[e]);)e++;if(e<n.length&&(n[e]==="e"||n[e]==="E"))for(e++,e<n.length&&(n[e]==="+"||n[e]==="-")&&e++;e<n.length&&ve(n[e]);)e++;return e==0?(t.value=n,0):(t.value=n.substring(e),Number(n.substring(0,e)))}function En(n,t){n=ai(n);let e={value:""},i=Mr(n,e);return n==e.value?"":(t&&(t.value=i),e.value)}function Ln(n,t,e,i){return n=En(n,t),n?(e&&(t.value+=i),n=Te(n),n):""}function Pr(n,t,e){if(e>0){let i=0,s={value:0};for(;n=En(n,s),t[i]=s.value,!(--e==0||n.length<=0);)n=Te(n),i++}return n}function _t(n,t,e,i,s){if(n=Pr(n,t,e),i)for(let r=0;r<e;r+=2)t[r]+=s.x,t[r+1]+=s.y;return n}function Ce(n,t){let e={x:0,y:0},i={x:0,y:0},s={x:0,y:0},r=new Float32Array(7),l={value:0},a="",o="",u=!1;for(;t.length&&(t=ai(t),t[0]!=="");){let h=t[0];if(ve(h)||h==="-"||h==="+"||h==="."){if(a==""||a=="Z")return!1}else wn(h)||(a=h,u=!1,Tr(h)&&(u=!0,a=Cr(h)),t=t.substring(1)),t=Te(t);switch(a){case"M":t=_t(t,r,2,u,i),n.moveTo(r[0],r[1]),o="",a="L",i.x=r[0],i.y=r[1];break;case"L":t=_t(t,r,2,u,i),n.lineTo(r[0],r[1]),i.x=r[0],i.y=r[1];break;case"H":t=Ln(t,l,u,i.x),n.lineTo(l.value,i.y),i.x=l.value;break;case"V":t=Ln(t,l,u,i.y),n.lineTo(i.x,l.value),i.y=l.value;break;case"C":t=_t(t,r,6,u,i),n.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]),s.x=r[2],s.y=r[3],i.x=r[4],i.y=r[5];break;case"S":t=_t(t,r.subarray(2),4,u,i),r[0]=i.x,r[1]=i.y,(o=="C"||o=="S")&&(r[0]-=s.x-i.x,r[1]-=s.y-i.y),n.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]),s.x=r[2],s.y=r[3],i.x=r[4],i.y=r[5];break;case"Q":t=_t(t,r,4,u,i),n.quadraticCurveTo(r[0],r[1],r[2],r[3]),s.x=r[0],s.y=r[1],i.x=r[2],i.y=r[3];break;case"T":t=_t(t,r.subarray(1),2,u,i),r[0]=i.x,r[1]=i.y,(o=="Q"||o=="T")&&(r[0]-=s.x-i.x,r[1]-=s.y-i.y),n.quadraticCurveTo(r[0],r[1],r[2],r[3]),s.x=r[0],s.y=r[1],i.x=r[2],i.y=r[3];break;case"A":t=_t(t,r,7,!1);let f=i.x,d=i.y,y=r[0],b=r[1],p=r[2],x=!!r[3],S=!!r[4],_=r[5],v=r[6];_=u?_+i.x:_,v=u?v+i.y:v,xi(f,d,_,v,y,b,p,x,S,(C,M,Q,F,A,R,O,ut,Ct)=>{n.bezierCurveTo(Q,F,A,R,O,ut),i.x=O,i.y=ut});break;case"Z":n.closePath(),i.x=e.x,i.y=e.y;break;default:return!1}o==""&&(e.x=i.x,e.y=i.y),o=a}return!0}class oi{constructor(t){k(this,"commands",[]);k(this,"dirty",!1);k(this,"_cb",null);typeof t=="string"?Ce(this,t):t instanceof oi&&(this.commands=[...t.commands])}fromSvgPath(t){Ce(this,t)}onChange(t){this._cb=t}equals(t){if(this.commands.length!==t.commands.length)return!1;for(let e=0;e<this.commands.length;e++){const i=this.commands[e],s=t.commands[e];if(i[0]!==s[0])return!1;for(let r=1;r<i.length;r++)if(i[r]!==s[r])return!1}return!0}reset(){var t;this.commands.length=0,this.dirty=!0,(t=this._cb)==null||t.call(this)}clone(){return new this.constructor(this)}addCmd(t,e){var i;this.commands.push([t].concat(e)),this.dirty=!0,(i=this._cb)==null||i.call(this)}addPath(t,e){this.commands=t.commands.slice()}arc(t,e,i,s,r,l=!1){this.addCmd("AC",[t,e,i,s,r,l])}arcTo(t,e,i,s,r){this.addCmd("AT",[t,e,i,s,r])}bezierCurveTo(t,e,i,s,r,l){this.addCmd("C",[t,e,i,s,r,l])}closePath(){this.commands.length>0&&this.commands[this.commands.length-1][0]!=="Z"&&this.addCmd("Z",[])}ellipse(t,e,i,s,r,l,a,o=!1){this.addCmd("E",[t,e,i,s,r,l,a,o])}lineTo(t,e){this.addCmd("L",[t,e])}moveTo(t,e){this.addCmd("M",[t,e])}quadraticCurveTo(t,e,i,s){this.addCmd("Q",[t,e,i,s])}rect(t,e,i,s){this.addCmd("R",[t,e,i,s])}roundRect(t,e,i,s,r){this.addCmd("RR",[t,e,i,s,r])}toPath2D(t=new Path2D){return this.toCanvas(t)}toCanvas(t){for(const e of this.commands)switch(e[0]){case"M":t.moveTo(e[1],e[2]);break;case"L":t.lineTo(e[1],e[2]);break;case"Q":t.quadraticCurveTo(e[1],e[2],e[3],e[4]);break;case"C":t.bezierCurveTo(e[1],e[2],e[3],e[4],e[5],e[6]);break;case"AC":t.arc(e[1],e[2],e[3],e[4],e[5],e[6]);break;case"E":t.ellipse(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);break;case"AT":t.arcTo(e[1],e[2],e[3],e[4],e[5]);break;case"RR":t.roundRect(e[1],e[2],e[3],e[4],e[5]);break;case"R":t.rect(e[1],e[2],e[3],e[4]);break;case"Z":t.closePath();break}return t}}const Rr=.5,Me=1073741823,Ir=1e6;function wr(n,t){return n<0?(n=-n,n>t&&(n=n%t),n=t-n,n===t&&(n=0),n):n>=t?n%t:n}function Er(n,t){for(let e=0,i=n.length;e<i;++e){let s=n[e];if(t>s||t===s&&s!==0)t-=s;else return[s-t,e]}return[n[0],0]}function An(n){return n%2===0}class Lr{constructor(t,e){k(this,"data");k(this,"offset");k(this,"interval_len");k(this,"first_len");k(this,"first_index");this.data=t,this.interval_len=this.data.reduce((r,l)=>r+l,0),this.offset=wr(e,this.interval_len);const[i,s]=Er(this.data,this.offset);this.first_len=i,this.first_index=s}dash(t,e=1){if(!(this.data.length<2)&&!this.data.some(i=>i<0))return Ar(t,this,e)}}function Ar(n,t,e=1){let i=new bt,s=0,r=new Fr(n,e);for(let l of r){let a=l.isClosed,o=!1,u=l.length,h=t.first_index;if(s+=u*(t.data.length>>1)/t.interval_len,s>Ir)return;let f=0,d=t.first_len;for(;f<u;)o=!1,An(h)&&!a&&(o=!0,l.pushSegment(f,f+d,!0,i)),f+=d,a=!1,h+=1,h===t.data.length&&(h=0),d=t.data[h];return l.isClosed&&An(t.first_index)&&t.first_len>=0&&l.pushSegment(0,t.first_len,!o,i),i}}class Jt{constructor(){k(this,"distance",0);k(this,"pointIndex",0);k(this,"tValue",0);k(this,"kind",0)}static create(t){let e=new Jt;return e.distance=t.distance,e.pointIndex=t.pointIndex,e.tValue=t.tValue,e.kind=t.kind,e}scalarT(){const t=1/Me;return this.tValue*t}}class Nr{constructor(){k(this,"segments",[]);k(this,"points",[]);k(this,"length",0);k(this,"isClosed",!1)}pushSegment(t,e,i,s){if(t<0&&(t=0),e>this.length&&(e=this.length),!(t<=e)||this.segments.length<=0)return;let r=this.distanceTosegment(t);if(!r)return;let[l,a]=r,o=this.segments[l];if(r=this.distanceTosegment(e),!r)return;let[u,h]=r,f=this.segments[u],d=c.default();if(i&&(Qr(this.points.slice(o.pointIndex),o.kind,a,d),s.moveTo(d)),o.pointIndex===f.pointIndex)hi(this.points.slice(o.pointIndex),o.kind,a,h,s);else{let y=l;do{hi(this.points.slice(o.pointIndex),o.kind,a,1,s);let b=o.pointIndex;do if(y+=1,this.segments[y].pointIndex!==b)break;while(!0);if(o=this.segments[y],a=0,o.pointIndex>=f.pointIndex)break}while(!0);hi(this.points.slice(o.pointIndex),o.kind,0,h,s)}}distanceTosegment(t){let e=Wr(this.segments,t);e=e^e>>31;let i=this.segments[e],s=0,r=0;e>0&&(r=this.segments[e-1].distance,this.segments[e-1].pointIndex==i.pointIndex&&(s=this.segments[e-1].scalarT()));let l=s+(i.scalarT()-s)*(t-r)/(i.distance-r);if(Number.isFinite(l))return[e,l]}computeLineSeg(t,e,i,s){let r=t.distanceTo(e),l=i;return i+=r,i>l&&this.segments.push(Jt.create({distance:i,pointIndex:s,tValue:Me,kind:0})),i}computeQuadSegs(t,e,i,s,r,l,a,o){if(Nn(l-r)!=0&&qr(t,e,i,o)){let u=c.make(5),h=r+l>>1;Et([t,e,i],u,.5),s=this.computeQuadSegs(u[0],u[1],u[2],s,r,h,a,o),s=this.computeQuadSegs(u[2],u[3],u[4],s,h,l,a,o)}else{let u=t.distanceTo(i),h=s;s+=u,s>h&&this.segments.push(Jt.create({distance:s,pointIndex:a,tValue:l,kind:1}))}return s}computeCubicSegs(t,e,i,s,r,l,a,o,u){if(Nn(a-l)!=0&&zr(t,e,i,s,u)){let h=c.make(7),f=l+a>>1;lt([t,e,i,s],h,.5),r=this.computeCubicSegs(h[0],h[1],h[2],h[3],r,l,f,o,u),r=this.computeCubicSegs(h[3],h[4],h[5],h[6],r,f,a,o,u)}else{let h=t.distanceTo(s),f=r;r+=h,r>f&&this.segments.push(Jt.create({distance:r,pointIndex:o,tValue:a,kind:2}))}return r}}class Fr{constructor(t,e=1){k(this,"iter");k(this,"tolerance");this.iter=new Ht({path:t,verbIndex:0,pointsIndex:0,isAutoClose:!1}),this.tolerance=1/e*Rr}*[Symbol.iterator](){for(;this.iter.canNext();){let t=new Nr,e=0,i=0,s=!1,r=c.default();for(let l of this.iter){switch(l.type){case g.kMove:{t.points.push(l.p0),r.copy(l.p0);break}case g.kLine:{let a=i;i=t.computeLineSeg(r,l.p0,i,e),i>a&&(t.points.push(l.p0),e+=1),r.copy(l.p0);break}case g.kQuad:{let a=i;i=t.computeQuadSegs(r,l.p1,l.p2,i,0,Me,e,this.tolerance),i>a&&(t.points.push(l.p1),t.points.push(l.p2),e+=2),r.copy(l.p2);break}case g.kCubic:{let a=i;i=t.computeCubicSegs(r,l.p1,l.p2,l.p3,i,0,Me,e,this.tolerance),i>a&&(t.points.push(l.p1),t.points.push(l.p2),t.points.push(l.p3),e+=3),r.copy(l.p3);break}case g.kClose:{s=!0;break}}if(this.iter.nextVerb===g.kMove)break}if(!Number.isFinite(i))return;if(s){let l=i,a=t.points[0].clone();i=t.computeLineSeg(t.points[e],a,i,e),i>l&&t.points.push(a)}if(t.length=i,t.isClosed=s,t.points.length<=0)return;yield t}}}function Wr(n,t){if(n.length<=0)return-1;let e=0,i=n.length-1;for(;e<i;){let s=i+e>>>1;n[s].distance<t?e=s+1:i=s}return n[i].distance<t?(i=i+1,i=~i):t<n[i].distance&&(i=~i),i}function ui(n,t,e){return n+(t-n)*e}function qt(n,t,e){return ui(n,t,D(e,0,1))}function Qr(n,t,e,i,s){switch(t){case 0:{i&&(i.x=ui(n[0].x,n[1].x,e),i.y=ui(n[0].y,n[1].y,e));break}case 1:{{let r=n.slice(0,3);mt(r,e,i,s)}break}case 2:{{let r=n.slice(0,4);fe(r,e,i,s)}break}}}function hi(n,t,e,i,s){if(e===i){s.lastPoint&&s.lineTo(s.lastPoint.x,s.lastPoint.y);return}switch(t){case 0:{if(i===1)s.lineTo(n[1].x,n[1].y);else{let r=qt(n[0].x,n[1].x,i),l=qt(n[0].y,n[1].y,i);s.lineTo(r,l)}break}case 1:{let r=c.make(5),l=c.make(5);if(e===0)if(i===1)s.quadTo(n[1],n[2]);else{let a=D(i,0,1);Et(n,r,a)}else{let a=D(e,0,1);if(Et(n,r,a),i===1)s.quadTo(r[3],r[4]);else{let o=D((i-a)/(1-e),0,1);Et(r.slice(2),l,o),s.quadTo(l[1],l[2])}}break}case 2:{let r=c.make(7),l=c.make(7);if(e===0)if(i===1)s.cubicTo(n[1],n[2],n[3]);else{let a=D(i,0,1);lt(n.slice(0,4),r,a),s.cubicTo(r[1],r[2],r[3])}else{let a=D(e,0,1);if(lt(n.slice(0,4),r,a),i===1)s.cubicTo(r[4],r[5],r[6]);else{let o=D((i-a)/(1-e),0,1);lt(r.slice(3,7),l,o),s.cubicTo(l[1],l[2],l[3])}}break}}}function Nn(n){return n>>10}function qr(n,t,e,i){let s=t.halfX-(n.x+e.x)*.5*.5,r=t.halfY-(n.y+e.y)*.5*.5;return Math.max(Math.abs(s),Math.abs(r))>i}function zr(n,t,e,i,s){let r=Fn(t,qt(n.x,i.x,.3333333333333333),qt(n.y,i.y,.3333333333333333),s),l=Fn(e,qt(n.x,i.x,2/3),qt(n.y,i.y,2/3),s);return r||l}function Fn(n,t,e,i){let s=n.x-t,r=n.y-e;return Math.max(Math.abs(s),Math.abs(r))>i}function Br(n){let t={tl:0,tr:0,br:0,bl:0};return typeof n=="number"?t={tl:n,tr:n,br:n,bl:n}:Array.isArray(n)?n.length===1?t={tl:n[0],tr:n[0],br:n[0],bl:n[0]}:n.length===2?t={tl:n[0],tr:n[1],br:n[0],bl:n[1]}:n.length===3?t={tl:n[0],tr:n[1],br:n[2],bl:n[1]}:n.length===4&&(t={tl:n[0],tr:n[1],br:n[2],bl:n[3]}):n&&(t.tl=n.x??0,t.tr=n.y??0,t.bl=n.z??0,t.br=n.w??0),t}function vt(n){for(var t=0;t<n.length;t++)if(n[t]!==void 0&&!Number.isFinite(n[t]))return!1;return!0}function Wn(n){return n/Math.PI*180}function Vr(n,t){return Math.abs(n-t)<1e-5}function Or(n,t,e,i,s,r,l=!1){qn(n,t,e,i,i,0,s,r,l)}function Dr(n,t,e,i,s,r){if(vt([t,e,i,s,r])){if(r<0)throw"radii cannot be negative";n.isEmpty()&&n.moveTo(t,e),n.arcTo(c.create(t,e),c.create(i,s),r)}}function Yr(n,t,e,i,s,r,l){vt([t,e,i,s,r,l])&&(n.isEmpty()&&n.moveTo(t,e),n.cubicTo(t,e,i,s,r,l))}function Xr(n){if(!n.isEmpty()){var t=n.getBounds();(t.bottom-t.top||t.right-t.left)&&n.close()}}function Qn(n,t,e,i,s,r,l){var a=Wn(l-r),o=Wn(r),u=W.makeLTRB(t-i,e-s,t+i,e+s);if(Vr(Math.abs(a),360)){var h=a/2;n.arcToOval(u,o,h,!1),n.arcToOval(u,o+h,h,!1);return}n.arcToOval(u,o,a,!1)}function qn(n,t,e,i,s,r,l,a,o=!1){if(vt([t,e,i,s,r,l,a])){if(i<0||s<0)throw"radii cannot be negative";var u=2*Math.PI,h=l%u;h<0&&(h+=u);var f=h-l;if(l=h,a+=f,!o&&a-l>=u?a=l+u:o&&l-a>=u?a=l-u:!o&&l>a?a=l+(u-(l-a)%u):o&&l<a&&(a=l-(u-(a-l)%u)),!r){Qn(n,t,e,i,s,l,a);return}var d=rt.fromRotateOrigin(r,t,e),y=rt.fromRotateOrigin(-r,t,e);n.transform(y),Qn(n,t,e,i,s,l,a),n.transform(d)}}function jr(n,t,e){vt([t,e])&&(n.isEmpty()&&n.moveTo(t,e),n.lineTo(t,e))}function Zr(n,t,e){vt([t,e])&&n.moveTo(t,e)}function Ur(n,t,e,i,s){vt([t,e,i,s])&&(n.isEmpty()&&n.moveTo(t,e),n.quadTo(t,e,i,s))}function Kr(n,t,e,i,s){var r=W.makeXYWH(t,e,i,s);vt([r.left,r.top,r.right,r.bottom])&&n.addRect(r)}let Hr=class On{constructor(t){k(this,"_path",bt.default());typeof t=="string"?Ce(this,t):t instanceof On&&this._path.copy(t.getPath())}static default(){return new this}static fromSvgPath(t){return new this(t)}fromSvgPath(t){Ce(this,t)}getPath(){return this._path}addPath(t,e){this._path.addPath(t.getPath()),e&&this._path.transform(e)}contains(t,e,i="nonzero"){return this._path.contains(t,e,i)}arc(t,e,i,s,r,l=!1){Or(this._path,t,e,i,s,r,l)}arcTo(t,e,i,s,r){Dr(this._path,t,e,i,s,r)}bezierCurveTo(t,e,i,s,r,l){Yr(this._path,t,e,i,s,r,l)}closePath(){Xr(this._path)}conicTo(t,e,i,s,r){this._path.conicTo(t,e,i,s,r)}ellipseArc(t,e,i,s,r,l,a,o,u){this._path.isEmpty()&&this._path.moveTo(t,e),this._path.arcTo(c.create(r,l),a,Number(o),+!u,c.create(i,s))}roundRect(t,e,i,s,r){let l=Br(r);const a=[c.create(l.tl,l.tl),c.create(l.tr,l.tr),c.create(l.br,l.br),c.create(l.bl,l.bl)];let o=kt.makeEmpty(),u=W.makeXYWH(t,e,i,s);o.setRectRadii(u,a),this._path.addRRect(o)}ellipse(t,e,i,s,r,l,a,o=!1){qn(this._path,t,e,i,s,r,l,a,o)}lineTo(t,e){jr(this._path,t,e)}moveTo(t,e){Zr(this._path,t,e)}quadraticCurveTo(t,e,i,s){Ur(this._path,t,e,i,s)}rect(t,e,i,s){Kr(this._path,t,e,i,s)}getBounds(){return this._path.getBounds()}computeTightBounds(){return this._path.computeTightBounds()}toCanvas(t){return this._path.toCanvas(t)}toPath2D(){return this._path.toPath2D()}toSvgPath(){return this._path.toSvgPath()}};m.FillRule=xn,m.FloatPoint=T,m.LineCap=Sn,m.LineJoin=gn,m.Matrix2D=rt,m.PI=Le,m.Path2D=Hr,m.PathBuilder=bt,m.PathSegmentsIter=Ht,m.PathStrokeDash=Lr,m.PathStroker=vr,m.Point=c,m.Point3D=Bt,m.PointerArray=L,m.ProxyPath2D=oi,m.RRect=kt,m.Rect=W,m.Ref=I,m.SK_Scalar1=V,m.SK_ScalarHalf=ct,m.SK_ScalarInfinity=os,m.SK_ScalarMax=_i,m.SK_ScalarMin=as,m.SK_ScalarNaN=hs,m.SK_ScalarNearlyZero=oe,m.SK_ScalarNegativeInfinity=us,m.SK_ScalarPI=et,m.SK_ScalarRoot2Over2=ne,m.SK_ScalarSinCosNearlyZero=qe,m.SK_ScalarSqrt2=rs,m.SK_ScalarTanPIOver8=ls,m.Size=It,m.SkAutoConicToQuads=Us,m.SkBezierCubic=Gn,m.SkChopCubicAtHalf=Fs,m.SkChopCubicAtXExtrema=zs,m.SkChopCubicAtYExtrema=je,m.SkChopCubicAt_3=lt,m.SkChopCubicAt_4=Qi,m.SkChopCubicAt_5=Xe,m.SkChopQuadAt=Et,m.SkChopQuadAtYExtrema=Ai,m.SkComputeConicExtremas=Zi,m.SkComputeCubicExtremas=ji,m.SkComputeQuadExtremas=Xi,m.SkConic=N,m.SkCubicType=Li,m.SkCubics=Mt,m.SkDegreesToRadians=We,m.SkDoubleToScalar=Dt,m.SkEvalCubicAt=fe,m.SkEvalCubicPosAt=Zt,m.SkEvalCubicTangentAt=Ye,m.SkEvalQuadAt=mt,m.SkEvalQuadTangentAt=he,m.SkFindBisector=ce,m.SkFindCubicCusp=Oi,m.SkFindCubicExtrema=Ut,m.SkFindCubicInflections=zi,m.SkFindCubicMaxCurvature=Ze,m.SkFindCubicMidTangent=qs,m.SkFindQuadExtrema=De,m.SkFindQuadMaxCurvature=Ni,m.SkFindQuadMidTangent=Ls,m.SkFindUnitQuadRoots=nt,m.SkFloatToScalar=ms,m.SkIntToFloat=cs,m.SkIntToScalar=vi,m.SkQuadCoeff=dt,m.SkQuads=Vt,m.SkRadiansToDegrees=Cs,m.SkRotationDirection=wt,m.SkScalarACos=Ri,m.SkScalarASin=Ss,m.SkScalarATan2=Ne,m.SkScalarAbs=Y,m.SkScalarAve=Fe,m.SkScalarCeilToInt=Ci,m.SkScalarCeilToScalar=ys,m.SkScalarCopySign=ps,m.SkScalarCos=ft,m.SkScalarCosSnapToZero=Xt,m.SkScalarExp=xs,m.SkScalarFloorToInt=ks,m.SkScalarFloorToScalar=Ae,m.SkScalarFraction=Ts,m.SkScalarHalf=$,m.SkScalarInterp=G,m.SkScalarInterpFunc=Rs,m.SkScalarInvert=ae,m.SkScalarIsFinite=Pt,m.SkScalarIsInt=Ms,m.SkScalarIsNaN=Ii,m.SkScalarLog=_s,m.SkScalarLog2=vs,m.SkScalarMod=gs,m.SkScalarNearlyEqual=K,m.SkScalarNearlyZero=it,m.SkScalarPow=Mi,m.SkScalarRoundToInt=bs,m.SkScalarRoundToScalar=se,m.SkScalarSignAsInt=Qe,m.SkScalarSignAsScalar=Ps,m.SkScalarSin=re,m.SkScalarSinSnapToZero=Yt,m.SkScalarSqrt=J,m.SkScalarSquare=Rt,m.SkScalarTan=Pi,m.SkScalarToDouble=ds,m.SkScalarToFloat=fs,m.SkScalarTruncToScalar=Ti,m.SkScalarsAreFinite=le,m.SkScalarsAreFiniteArray=wi,m.SkScalarsEqual=ze,m.VectorIterator=Dn,m.clamp=D,m.copysign=ki,m.ellipseArcToCubicBezier=xi,m.endpoint_to_center=gi,m.fabs=yi,m.isFinite=Un,m.kMaxConicToQuadPOW2=Be,m.kMaxConicsForArc=Ei,m.lerp=U,m.magnitudeAlt=Kn,m.max=jn,m.min=Xn,m.nearly_equal=Ot,m.pointInPath=pn,m.pointOnEllipse=$n,m.quarterArcToCubicBezier=Si,m.sk_double_nearly_zero=q,m.sk_double_to_float=Zn,m.sk_doubles_nearly_equal_ulps=pt,m.sk_ieee_double_divide=ee,m.sk_ieee_float_divide=zt,m.sqrt=di,m.swap=Yn,m.tangent_conic=sr,m.tangent_cubic=cn,m.tangent_line=un,m.tangent_quad=hn,m.winding_conic=nr,m.winding_cubic=rn,m.winding_line=Gi,m.winding_quad=sn,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});
