"use strict";var Ss=Object.defineProperty;var gs=(i,t,e)=>t in i?Ss(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var k=(i,t,e)=>gs(i,typeof t!="symbol"?t+"":t,e);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});class f{constructor(t){k(this,"elements",new Float32Array([0,0]));k(this,"isVector2",!0);this.elements.set(t)}static zero(){return this.create(0,0)}static default(){return this.zero()}static create(t,e){return new this([t,e])}static fromPoint(t){return this.create(t.x,t.y)}static fromRotation(t){return this.create(Math.cos(t),Math.sin(t))}static fromXY(t,e){return this.create(t,e)}static splat(t){return this.create(t,t)}static make(t){return Array.from({length:t},()=>this.default())}get x(){return this.elements[0]}set x(t){this.elements[0]=t}get y(){return this.elements[1]}set y(t){this.elements[1]=t}set(t,e){return(this.x!==t||this.y!==e)&&(this.elements[0]=t,this.elements[1]=e),this}clone(){return f.default().copy(this)}copy(t){return this.set(t.x,t.y)}add(t){return this.addVectors(this,t)}addVectors(t,e){return this.set(t.x+e.x,t.y+e.y)}subtractVectors(t,e){return this.set(t.x-e.x,t.y-e.y)}sub(t){return this.subtractVectors(this,t)}subtract(t){return this.subtractVectors(this,t)}negate(){return this.set(-this.x,-this.y)}inverse(){return this.set(1/this.x,1/this.y)}multiplyScalar(t){return this.multiplyVectorScalar(this,t)}multiplyVectorScalar(t,e){return this.set(t.x*e,t.y*e)}subtractMultiplyVectorScalar(t,e,s){return this.set(t.x-e.x*s,t.y-e.y*s)}addMultiplyVectorScalar(t,e,s){return this.set(t.x+e.x*s,t.y+e.y*s)}multiplySubtractVectors(t,e){return this.scale(t.x-e.x,t.y-e.y)}multiplyAddVectors(t,e){return this.scale(t.x+e.x,t.y+e.y)}multiplyVectors(t,e){return this.set(t.x*e.x,t.y*e.y)}multiply(t){return this.multiplyVectors(this,t)}divideVectors(t,e){return this.set(t.x/e.x,t.y/e.y)}divideScalar(t){return this.set(this.x/t,this.y/t)}divide(t){return this.divideVectors(this,t)}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}perp(){return this.set(-this.y,this.x)}rperp(){return this.set(this.y,-this.x)}canNormalize(){return this.isFinite()&&(this.x!==0||this.y!==0)}toNormalize(){return this.normalize(),this}normalize(){return this.setPointLength(this,this.x,this.y,1)}setNormalized(t){return this.setPointLength(this,t.x,t.y,1)}distanceToSquared(t){return(this.x-t.x)**2+(this.y-t.y)**2}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}lengthSquared(){return this.lengthSq()}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.lengthSq())}inverseLength(){return 1/this.length()}angle(){return Math.atan2(this.y,this.x)}angleTanTo(t){return Math.atan2(this.cross(t),this.dot(t))}angleTo(t){return Math.acos(this.dot(t)/(this.length()*t.length()))}projectLength(t){return this.dot(t)/t.length()}projectLengthNormalize(t){return this.dot(t)}projectRatio(t){return this.dot(t)/t.dot(t)}project(t){let s=this.projectLength(t)/t.length();return this.multiplyVectorScalar(t,s)}projectNormalize(t){let e=this.projectLengthNormalize(t);return this.multiplyVectorScalar(t,e)}reflect(t){const e=this.projectLengthNormalize(t);return this.subtractMultiplyVectorScalar(this,t,2*e-1)}translate(t,e){return this.set(this.x+t,this.y+e)}rotate(t,e=f.zero()){let s=Math.cos(t),n=Math.sin(t);if(e.isZero())return this.set(this.x*s-this.y*n,this.x*n+this.y*s);{const r=this.x-e.x,l=this.y-e.y;return this.set(r*s-l*n+e.x,r*n+l*s+e.y)}}scale(t,e){return this.set(this.x*t,this.y*e)}round(){return this.set(Math.round(this.x),Math.round(this.y))}abs(){return this.set(Math.abs(this.x),Math.abs(this.y))}ceil(){return this.set(Math.ceil(this.x),Math.ceil(this.y))}floor(){return this.set(Math.floor(this.x),Math.floor(this.y))}trunc(){return this.set(Math.trunc(this.x),Math.trunc(this.y))}sign(){return this.set(Math.sign(this.x),Math.sign(this.y))}cosSin(){return this.set(Math.cos(this.x),Math.sin(this.y))}minScalar(t){return this.set(Math.min(this.x,t),Math.min(this.y,t))}minVectors(t,e){return this.set(Math.min(t.x,e.x),Math.min(t.y,e.y))}maxVectors(t,e){return this.set(Math.max(t.x,e.x),Math.max(t.y,e.y))}min(t){return this.minVectors(this,t)}max(t){return this.maxVectors(this,t)}lerp(t,e,s){return this.set(t.x+(e.x-t.x)*s,t.y+(e.y-t.y)*s)}smoonstep(t,e,s){return this.set(t.x+(e.x-t.x)*s*s*(3-2*s),t.y+(e.y-t.y)*s*s*(3-2*s))}setPointLength(t,e,s,n,r){let l=e,a=s,o=Math.sqrt(l*l+a*a),u=n/o;if(e*=u,s*=u,!Number.isFinite(e)||!Number.isFinite(s)||e==0&&s==0)return t.set(0,0),!1;let h=0;return r&&(h=o),t.set(e,s),r&&(r.value=h),!0}setLength(t){return this.setPointLength(this,this.x,this.y,t)}setLengthFrom(t,e,s){return this.setPointLength(this,t,e,s)}isFinite(){return isFinite(this.x)&&isFinite(this.y)}isZero(){return this.x===0&&this.y===0}isOne(){return this.x===1&&this.y===1}equals(t){return this.x===t.x&&this.y===t.y}equalsEpsilon(t,e=1e-5){return Math.abs(this.x-t.x)<e&&Math.abs(this.y-t.y)<e}applyMatrix2D(t){return this.set(t.a*this.x+t.c*this.y+t.e,t.b*this.x+t.d*this.y+t.f)}cw(){return this.set(-this.y,this.x)}ccw(){return this.set(this.y,-this.x)}}class Yt{constructor(t=0,e=0,s=0){k(this,"elements",new Float32Array([0,0,0]));this.elements.set([t,e,s])}static default(){return new this(0,0,0)}static make(t){let e=new Array(t);for(let s=0;s<t;s++)e[s]=this.default();return e}static create(t=0,e=0,s=0){return new this(t,e,s)}get x(){return this.elements[0]}set x(t){this.elements[0]=t}get y(){return this.elements[1]}set y(t){this.elements[1]=t}get z(){return this.elements[2]}set z(t){this.elements[2]=t}set(t,e,s){return this.elements[0]=t,this.elements[1]=e,this.elements[2]=s,this}clone(){return new Yt(this.x,this.y,this.z)}copy(t){return this.elements[0]=t.x,this.elements[1]=t.y,this.elements[2]=t.z,this}}const _s=1192092896e-16;class L{constructor(t){k(this,"value");this.value=t}static from(t){return new L(t)}swap(t){let e=this.value;this.value=t.value,t.value=e}}class F{constructor(t){k(this,"data",[]);k(this,"curIndex",0);this.data=t}static from(t){return new this(t)}get length(){return this.data.length}copy(t){return this.data=t.data,this.curIndex=t.curIndex,this}clone(){return new F(this.data).copy(this)}slice(t){const e=new F(this.data);return e.curIndex=t,e}get(t){return this.data[t+this.curIndex]}set(t,e){return this.data[t+this.curIndex]=e,this}set value(t){this.data[this.curIndex]=t}get value(){return this.data[this.curIndex]}move(t){return this.curIndex=t,this}next(t=1){return this.move(this.curIndex+t),this}prev(t=1){return this.move(this.curIndex-t),this}}class vs{constructor(t,e=0,s=!1){k(this,"data");k(this,"size",0);k(this,"currentIndex",0);k(this,"increase",1);this.size=t,this.currentIndex=e%t,this.increase=s?t-1:1,this.data=new Array(t)}get current(){return this.data[this.currentIndex]}get next(){return this.currentIndex=(this.currentIndex+this.increase)%this.size,this.data[this.currentIndex]}}const Ts=(i,t)=>{let e=i.value;i.value=t.value,t.value=e};class v extends Float32Array{static make(t=4){return new v(t)}static fromXY(t,e){return new v(2).setElements([t,e])}static splat(t,e=2){return new v(e).setElements(new Array(e).fill(t))}static fromPoint(t){let e=new v(2);return e.set([t.x,t.y]),e}static fromPoints(t,e){let s=new v(e*2);for(let n=0;n<e;n++)s.elements[n*2]=t[n].x,s.elements[n*2+1]=t[n].y;return s}static fromArray(t,e=t.length){let s=new v(e);for(let n=0;n<e;n++)s.elements[n]=t[n];return s}constructor(t){super(t)}get x(){return this.elements[0]}set x(t){this.elements[0]=t}get y(){return this.elements[1]}set y(t){this.elements[1]=t}get z(){return this.elements[2]}set z(t){this.elements[2]=t}get w(){return this.elements[2]}set w(t){this.elements[2]=t}get h(){return this.elements[3]}set h(t){this.elements[3]=t}get elements(){return this}setElements(t){return this.set(t),this}storePoint(t){t.set(this.x,this.y)}store(t){for(let e=0;e<this.elements.length;e+=1)t[e]=this.elements[e]}storePoints(t){for(let e=0;e<this.elements.length;e+=2)t[e/2].set(this.elements[e],this.elements[e+1])}add(t){return this.setElements(this.elements.map((e,s)=>e+t.elements[s]))}sub(t){return this.setElements(this.elements.map((e,s)=>e-t.elements[s]))}mulScalar(t){return this.setElements(this.elements.map(e=>e*t))}min(t){return this.setElements(this.elements.map((e,s)=>Math.min(e,t.elements[s])))}max(t){return this.setElements(this.elements.map((e,s)=>Math.max(e,t.elements[s])))}mul(t){return this.setElements(this.elements.map((e,s)=>e*t.elements[s]))}div(t){return this.setElements(this.elements.map((e,s)=>e/t.elements[s]))}sqrt(){return this.setElements(this.elements.map(t=>Math.sqrt(t)))}inverse(){return this.setElements(this.elements.map(t=>1/t))}clone(){return new v(this.elements.length).setElements(this.elements)}copy(t){return this.elements.set(t.elements),this}xy(){return new v(2).setElements([this.x,this.y])}xyxy(){return new v(4).setElements([this.x,this.y,this.x,this.y])}xyz(){return new v(3).setElements([this.x,this.y,this.z])}equals(t){return this.elements.every((e,s)=>e==t.elements[s])}equalsWithTolerance(t,e=1e-4){return this.elements.every((s,n)=>Math.abs(s-t.elements[n])<e)}lerp(t,e,s){return this.setElements(this.elements.map((n,r)=>t.elements[r]+s.elements[r]*(e.elements[r]-t.elements[r])))}clmap(t,e){return this.setElements(this.elements.map((s,n)=>Math.max(t.elements[n],Math.min(e.elements[n],this.elements[n]))))}}function Mi(i){return Math.sqrt(i)}function Xt(i,t){return i/t}function Ms(i,t){return Math.min(i,t)}function Ps(i,t){return Math.max(i,t)}function Pi(i){return Math.abs(i)}function ht(i,t,e){return Math.min(Math.max(i,t),e)}function X(i,t,e){return i+(t-i)*e}function q(i){return i==0||Pi(i)<_s}function le(i,t){return i/t}function Cs(i){return i}function Rs(i){return Number.isFinite(i)}function Ci(i,t){return t===0?1/t===-1/0?-Math.abs(i):Math.abs(i):t<0?-Math.abs(i):Math.abs(i)}function ti(i){const t=new ArrayBuffer(8),e=new DataView(t);e.setFloat64(0,i,!0);const s=e.getUint32(0,!0),n=e.getUint32(4,!0);let r=BigInt(n)<<32n|BigInt(s);r&=0b0111111111110000000000000000000000000000000000000000000000000000n;const a=Number(r>>32n&0xffffffffn),o=Number(r&0xffffffffn);return e.setUint32(0,o,!0),e.setUint32(4,a,!0),e.getFloat64(0,!0)}function Is(i){return Math.sign(i)*Math.pow(2,Math.floor(Math.log2(Math.abs(i))))}function bt(i,t,e=0){const s=Number.MIN_VALUE,n=Math.max(Math.max(ti(i),s),ti(t)),r=Number.EPSILON,l=n*(r*(e+1));return i===t||Math.abs(t-i)<l}class ws{static EvalAt(t,e){const s=y=>t[2*y],n=y=>t[2*y+1];if(e==0)return[s(0),n(0)];if(e==1)return[s(3),n(3)];let r=1-e,l=r*r,a=l*r,o=3*l*e,u=e*e,h=3*r*u,c=u*e;return[a*s(0)+o*s(1)+h*s(2)+c*s(3),a*n(0)+o*n(1)+h*n(2)+c*n(3)]}static Subdivide(t,e,s){const n=T=>t[2*T],r=T=>t[2*T+1],l=T=>s[2*T],a=T=>s[2*T+1],o=(T,M)=>{s[2*T]=M},u=(T,M)=>{s[2*T+1]=M},h=T=>s[2*T+6],c=T=>s[2*T+7],y=(T,M)=>{s[2*T+6]=M},m=(T,M)=>{s[2*T+7]=M};o(0,n(0)),u(0,r(0)),y(3,n(3)),m(3,r(3));let x=X(n(0),n(1),e),p=X(r(0),r(1),e),b=X(n(1),n(2),e),d=X(r(1),r(2),e),g=X(n(2),n(3),e),_=X(r(2),r(3),e);o(1,x),u(1,p),y(2,g),m(2,_),o(2,X(x,b,e)),u(2,X(p,d,e)),y(1,X(b,g,e)),m(1,X(d,_,e)),o(3,X(l(2),h(1),e)),u(3,X(a(2),c(1),e))}static ConvertToPolynomial(t,e){const s=e?t.slice(1):t,n=l=>s[2*l];let r=new Array(4);return r[0]=-n(0)+3*n(1)-3*n(2)+n(3),r[1]=3*n(0)-6*n(1)+3*n(2),r[2]=-3*n(0)+3*n(1),r[3]=n(0),r}}function Es(i,t){return q(t)?q(i):Math.abs(i/t)<1e-16}function Ls(i,t,e){return q(i)?(e[0]=0,q(t)?1:0):(e[0]=-t/i,Number.isFinite(e[0])?1:0)}class zt{static RootsReal(t,e,s,n){if(Es(t,e))return Ls(e,s,n);const r=le(e,2*t),l=le(s,t),a=r*r;if(!Number.isFinite(a-l)||!q(a-l)&&a<l)return 0;let o=0;return a>l&&(o=Math.sqrt(a-l)),n[0]=o-r,n[1]=-o-r,q(o)||bt(n[0],n[1])?1:2}static EvalAt(t,e,s,n){return t*n*n+e*n+s}}const we=Math.PI;function Qt(i,t){return q(i)?q(t):bt(i,t,0)}function ae(i){return Math.abs(i)<1e-8}function As(i,t,e,s){let n=[0,0],r=zt.RootsReal(3*i,2*t,e,n),l=0;for(let a=0;a<r;a++){let o=n[a];o>=0&&o<=1&&(s[l++]=o)}return l}function Ns(i,t,e,s,n,r){let l=Et.EvalAt(i,t,e,s,n);if(ae(l))return n;let a=Et.EvalAt(i,t,e,s,r);if(!Number.isFinite(l)||!Number.isFinite(a)||l>0&&a>0||l<0&&a<0)return-1;let o=1e3;for(let u=0;u<o;u++){let h=(n+r)/2,c=Et.EvalAt(i,t,e,s,h);if(ae(c))return h;c<0&&l<0||c>0&&l>0?n=h:r=h}return-1}function Fs(i,t){return q(t)?q(i):Math.abs(i/t)<1e-7}class Et{static RootsReal(t,e,s,n,r){if(Fs(t,e))return zt.RootsReal(e,s,n,r);if(q(n)){let g=zt.RootsReal(t,e,s,r);for(let _=0;_<g;++_)if(q(r[_]))return g;return r[g++]=0,g}if(q(t+e+s+n)){let g=zt.RootsReal(t,t+e,-n,r);for(let _=0;_<g;++_)if(bt(r[_],1))return g;return r[g++]=1,g}let l,a,o;{let g=le(1,t);l=e*g,a=s*g,o=n*g}let u=l*l,h=(u-a*3)/9,c=(2*u*l-9*l*a+27*o)/54,y=c*c,m=h*h*h,x=y-m;if(!Number.isFinite(x))return 0;let p=l/3,b,d=F.from(r);if(x<0){const g=Math.acos(ht(c/Math.sqrt(m),-1,1)),_=-2*Math.sqrt(h);b=_*Math.cos(g/3)-p,d.value=b,d.next(),b=_*Math.cos((g+2*we)/3)-p,Qt(r[0],b)||(d.value=b,d.next()),b=_*Math.cos((g-2*we)/3)-p,!Qt(r[0],b)&&(d.curIndex==1||!Qt(r[1],b))&&(d.value=b,d.next())}else{const g=Math.sqrt(x);t=Math.abs(c)+g,t=Math.cbrt(t),c>0&&(t=-t),q(t)||(t+=h/t),b=t-p,d.value=b,d.next(),!q(y)&&bt(y,m)&&(b=-t/2-p,Qt(r[0],b)||(d.value=b,d.next()))}return d.curIndex}static RootsValidT(t,e,s,n,r){let l=[0,0,0],a=Et.RootsReal(t,e,s,n,l),o=0;for(let u=0;u<a;++u){let h=l[u];h>=1&&h<=1.00005?(o<1||!bt(r[0],1))&&(o<2||!bt(r[1],1))&&(r[o++]=1):h>=-5e-5&&(h<=0||q(h))?(o<1||!q(r[0]))&&(o<2||!q(r[1]))&&(r[o++]=0):h>0&&h<1&&(r[o++]=h)}return o}static BinarySearchRootsValidT(t,e,s,n,r){if(!Number.isFinite(t)||!Number.isFinite(e)||!Number.isFinite(s)||!Number.isFinite(n))return 0;let l=[0,0,0,1],a=[0,0],o=As(t,e,s,a),u=2-o;o==1&&(l[u+1]=a[0]),o==2&&(l[u+1]=Math.min(a[0],a[1]),l[u+2]=Math.max(a[0],a[1]));let h=0;for(;u<3;u++){let c=Ns(t,e,s,n,l[u],l[u+1]);c>=0&&(h<1||!ae(r[0]-c))&&(h<2||!ae(r[1]-c))&&(r[h++]=c)}return h}static EvalAt(t,e,s,n,r){return t*r*r*r+e*r*r+s*r+n}static EvalAt_2(t,e){return this.EvalAt(t[0],t[1],t[2],t[3],e)}}const B=1,ft=.5,Ws=Math.SQRT2,tt=Math.PI,qs=.414213562,oe=.707106781,Ri=3402823466e29,Qs=-Ri,zs=1/0,Bs=-1/0,Vs=NaN,Ii=i=>i,Ds=i=>i,Os=i=>i,Ys=i=>i,Xs=i=>i,Bt=i=>i,Ve=i=>Math.floor(i),js=i=>Math.ceil(i),re=i=>Math.round(i),wi=i=>Math.trunc(i),Zs=i=>Math.floor(i),Ei=i=>Math.ceil(i),Us=i=>Math.round(i),Y=i=>Math.abs(i),Ks=(i,t)=>Math.sign(t)*Math.abs(i),Hs=(i,t)=>i%t,K=i=>Math.sqrt(i),Li=(i,t)=>Math.pow(i,t),ue=i=>Math.sin(i),mt=i=>Math.cos(i),Ai=i=>Math.tan(i),Js=i=>Math.asin(i),Ni=i=>Math.acos(i),Ee=(i,t)=>Math.atan2(i,t),$s=i=>Math.exp(i),Gs=i=>Math.log(i),tn=i=>Math.log2(i),Fi=i=>Number.isNaN(i),yt=i=>Number.isFinite(i),ye=(i,t)=>Number.isFinite(i)&&Number.isFinite(t),Wi=(i,t)=>i.slice(0,t).every(Number.isFinite),en=i=>i-wi(i),wt=i=>i*i,he=i=>B/i,Le=(i,t)=>(i+t)*ft,J=i=>i*ft,Ae=i=>i*(tt/180),sn=i=>i*(180/tt),nn=i=>i===Ve(i),Ne=i=>i<0?-1:i>0?1:0,rn=i=>i<0?-B:i>0?B:0,de=B/4096,et=(i,t=de)=>Y(i)<=t,Z=(i,t,e=de)=>Y(i-t)<=e,De=B/65536,Vt=i=>{const t=ue(i);return et(t,De)?0:t},Dt=i=>{const t=mt(i);return et(t,De)?0:t},$=(i,t,e)=>((e<0||e>B)&&console.warn("t out of range [0, 1]"),i+(t-i)*e),ln=(i,t,e,s)=>{if(s<=0||!t||!e)throw new Error("Invalid input");let n=0;for(;n<s&&t[n]<i;)n++;if(n===s)return e[s-1];if(n===0)return e[0];const r=t[n-1],l=t[n],a=(i-r)/(l-r);return $(e[n-1],e[n],a)},Fe=(i,t,e)=>{if(e<0)throw new Error("Invalid length");for(let s=0;s<e;s++)if(i[s]!==t[s])return!1;return!0};class Lt{constructor(t,e){this.width=t,this.height=e}static default(){return new Lt(0,0)}static from(t,e){return new Lt(t,e)}set(t,e){this.width=t,this.height=e}setEmpty(){return this.set(0,0)}isEmpty(){return this.width<=0||this.height<=0}isZero(){return this.width===0&&this.height===0}round(){return this.set(Math.round(this.width),Math.round(this.height))}ceil(){return this.set(Math.ceil(this.width),Math.ceil(this.height))}floor(){return this.set(Math.floor(this.width),Math.floor(this.height))}trunc(){return this.set(Math.trunc(this.width),Math.trunc(this.height))}clone(){return new Lt(this.width,this.height)}equals(t){return this.width===t.width&&this.height===t.height}equalsWithEpsilon(t,e=1e-4){return Math.abs(this.width-t.width)<e&&Math.abs(this.height-t.height)<e}}class N{constructor(t){k(this,"elements",new Float32Array([0,0,0,0]));this.elements.set(t)}static makeEmpty(){return new this([0,0,0,0])}static makeWH(t,e){return this.makeLTRB(0,0,t,e)}static makeLTRB(t,e,s,n){return new this([t,e,s,n])}static makeSize(t){return this.makeWH(t.width,t.height)}static makePtSize(t,e){return this.makeXYWH(t.x,t.y,e.width,e.height)}static makeXYWH(t,e,s,n){return this.makeLTRB(t,e,t+s,e+n)}set(t,e,s,n){return this.elements.set([t,e,s,n]),this}get left(){return this.elements[0]}set left(t){this.elements[0]=t}get top(){return this.elements[1]}set top(t){this.elements[1]=t}get right(){return this.elements[2]}set right(t){this.elements[2]=t}get bottom(){return this.elements[3]}set bottom(t){this.elements[3]=t}get x(){return this.left}get y(){return this.top}get topLeft(){return f.fromXY(this.left,this.top)}get width(){return Math.trunc(this.right-this.left)}get height(){return Math.trunc(this.bottom-this.top)}size(){return Lt.from(this.width,this.height)}isEmpty(){let t=this.width,e=this.height;return t<=0||e<=0?!0:!Number.isSafeInteger(t|e)}equals(t,e){return t.left==e.left&&t.top==e.top&&t.right==e.right&&t.bottom==e.bottom}notEquals(t,e){return t.left!=e.left||t.top!=e.top||t.right!=e.right||t.bottom!=e.bottom}setEmpty(){this.elements.set([0,0,0,0])}setLTRB(t,e,s,n){return this.set(t,e,s,n)}setXYWH(t,e,s,n){return this.setLTRB(t,e,t+s,e+n)}setWH(t,e){return this.setLTRB(0,0,t,e)}setSize(t){return this.setLTRB(0,0,t.width,t.height)}makeOffset(t,e){return N.makeLTRB(this.x+t,this.y+e,this.right+t,this.bottom+e)}makeOffsetPoint(t){return this.makeOffset(t.x,t.y)}makeInset(t,e){return N.makeLTRB(this.x+t,this.y+e,this.right-t,this.bottom-e)}makeOutset(t,e){return this.makeInset(-t,-e)}offset(t,e){return this.setLTRB(this.x+t,this.y+e,this.right+t,this.bottom+e)}offsetPoint(t){return this.offset(t.x,t.y)}offsetTo(t,e){return this.setLTRB(t,e,this.right+t-this.left,this.bottom+e-this.top)}inset(t,e){return this.setLTRB(this.x+t,this.y+e,this.right-t,this.bottom-e)}outset(t,e){this.inset(-t,-e)}adjust(t,e,s,n){return this.setLTRB(this.left+t,this.top+e,this.right+s,this.bottom+n)}containPoint(t,e){return t>=this.left&&t<this.right&&e>=this.top&&e<this.bottom}contains(t){return!t.isEmpty()&&!this.isEmpty()&&this.left<=t.left&&this.top<=t.top&&this.right>=t.right&&this.bottom>=t.bottom}containsNoEmptyCheck(t){return this.left<=t.left&&this.top<=t.top&&this.right>=t.right&&this.bottom>=t.bottom}intersect(t){return this.intersectRects(this,t)}intersectRects(t,e){let s=N.makeLTRB(Math.max(t.left,e.left),Math.max(t.top,e.top),Math.max(t.right,e.right),Math.max(t.bottom,e.bottom));return s.isEmpty()?!1:(this.copy(s),!0)}copy(t){this.elements.set(t.elements)}clone(){return N.makeLTRB(this.left,this.top,this.right,this.bottom)}sort(){if(this.left>this.right){let t=this.left;this.left=this.right,this.right=t}if(this.top>this.bottom){let t=this.top;this.top=this.bottom,this.bottom=t}}makeSorted(){return N.makeLTRB(Math.min(this.left,this.right),Math.min(this.top,this.bottom),Math.max(this.left,this.right),Math.max(this.top,this.bottom))}static Make(t){return this.makeLTRB(t.left,t.top,t.right,t.bottom)}isSorted(){return this.left<=this.right&&this.top<=this.bottom}isFinite(){let t=0;return t*=this.left,t*=this.top,t*=this.right,t*=this.bottom,!Number.isNaN(t)}get halfWidth(){return this.right*.5-this.left*.5}get halfHeight(){return this.bottom*.5-this.top*.5}get centerX(){return this.left*.5+this.right*.5}get centerY(){return this.top*.5+this.bottom*.5}get center(){return f.create(this.centerX,this.centerY)}toQuad(t){t[0].set(this.left,this.top),t[1].set(this.right,this.top),t[2].set(this.right,this.bottom),t[3].set(this.left,this.bottom)}setBounds(t,e){this.setBoundsCheck(t,e)}setBoundsCheck(t,e){if(e<=0)return this.setEmpty(),!0;let s,n,r=0;e&1?(s=n=v.fromPoints(t,1).xyxy(),r+=1,e-=1):(s=n=v.fromPoints(t,2),r+=2,e-=2),n=n.clone();let l=s.clone().mulScalar(0);for(;e;){let o=v.fromArray([t[r].x,t[r].y,t[r+1].x,t[r+1].y],4);l=l.mul(o),s=s.min(o),n=n.max(o),r+=2,e-=2}const a=l.elements.every(o=>Number.isFinite(o));return a?this.setLTRB(Math.min(s.elements[0],s.elements[2]),Math.min(s.elements[1],s.elements[3]),Math.max(n.elements[0],n.elements[2]),Math.max(n.elements[1],n.elements[3])):this.setEmpty(),a}setBoundsNoCheck(t,e){this.setBoundsCheck(t,e)||this.setLTRB(NaN,NaN,NaN,NaN)}setPoints(t,e){this.left=Math.min(t.x,e.x),this.right=Math.max(t.x,e.x),this.top=Math.min(t.y,e.y),this.bottom=Math.max(t.y,e.y)}join(t){t.left>=t.right||t.top>=t.bottom||(this.left>=this.right||this.top>=this.bottom?this.copy(t):(t.left<this.left&&(this.left=t.left),t.top<this.top&&(this.top=t.top),t.right>this.right&&(this.right=t.right),t.bottom>this.bottom&&(this.bottom=t.bottom)))}joinNonEmptyArg(t){this.left>=this.right||this.top>=this.bottom?this.copy(t):this.joinPossiblyEmptyRect(t)}joinPossiblyEmptyRect(t){return this.setLTRB(Math.min(this.left,t.left),Math.min(this.top,t.top),Math.max(this.right,t.right),Math.max(this.bottom,t.bottom))}roundRect(t){t.setLTRB(Math.round(this.left),Math.round(this.top),Math.round(this.right),Math.round(this.bottom))}roundOutRect(t){t.setLTRB(Math.floor(this.left),Math.floor(this.top),Math.ceil(this.right),Math.ceil(this.bottom))}roundInRect(t){t.setLTRB(Math.ceil(this.left),Math.ceil(this.top),Math.floor(this.right),Math.floor(this.bottom))}round(){let t=N.makeEmpty();return this.roundRect(t),t}roundOut(){let t=N.makeEmpty();return this.roundOutRect(t),t}roundIn(){let t=N.makeEmpty();return this.roundInRect(t),t}}const O=class O{constructor(t,e=!0){k(this,"isMatrix2D",!0);k(this,"elements",new Float32Array(6));k(this,"mutable",!0);this.elements.set(t),this.mutable=e}static identity(){return this.fromRows(1,0,0,1,0,0)}static default(){return this.identity()}static fromSinCos(t,e){return this.fromRows(e,t,-t,e,0,0)}static fromSinCosOrigin(t,e,s,n){const r=1-e;return this.fromRows(e,t,-t,e,t*n+r*s,-t*s+r*n)}static fromTranslation(t,e){return this.fromRows(1,0,0,1,t,e)}static fromTranslate(t,e){return this.fromRows(1,0,0,1,t,e)}static fromRotation(t){const e=Math.cos(t),s=Math.sin(t);return this.fromRows(e,s,-s,e,0,0)}static fromRotate(t){const e=Math.cos(t),s=Math.sin(t);return this.fromSinCos(s,e)}static fromRotateOrigin(t,e,s){const n=Math.cos(t),r=Math.sin(t);return this.fromSinCosOrigin(r,n,e,s)}static fromRotateDegrees(t){return this.fromRotate(t*Math.PI/180)}static fromScale(t,e){return this.fromRows(t,0,0,e,0,0)}static fromScaleAxis(t,e){return this.fromRows(1-(e-1)*Math.pow(t.x,2),(e-1)*t.x*t.y,(e-1)*t.x*t.y,1+(e-1)*Math.pow(t.y,2),0,0)}static fromSkew(t,e){return this.fromRows(1,Math.tan(e),Math.tan(t),1,0,0)}static fromArray(t,e=!0){return new this(t,e)}static fromRows(t,e,s,n,r,l){return this.fromArray([t,e,s,n,r,l])}static pool(){if(this.pools.length>0){const t=this.pools.shift();return t.identity(),t}else return this.default()}static release(t){this.pools.length<this.poolSize&&(t.mutable=!0,this.pools.push(t))}get a(){return this.elements[0]}get b(){return this.elements[1]}get c(){return this.elements[2]}get d(){return this.elements[3]}get e(){return this.elements[4]}get f(){return this.elements[5]}pool(){return this.constructor.pool()}release(){return this.constructor.release(this)}setMutable(t){return this.mutable=t,this}identity(){return this.set(1,0,0,1,0,0)}set(t,e,s,n,r,l){return this.mutable?(this.elements[0]=t,this.elements[2]=s,this.elements[4]=r,this.elements[1]=e,this.elements[3]=n,this.elements[5]=l,this):this.constructor.fromRows(t,e,s,n,r,l).setMutable(this.mutable)}setElements(t){return this.mutable?(this.elements.set(t),this):this.constructor.fromArray(t).setMutable(this.mutable)}clone(){return this.constructor.fromArray(this.elements,this.mutable)}copy(t){return this.elements.set(t.elements),this}isIdentity(){return this.elements.every((t,e)=>t===O.IDENTITY_MATRIX.elements[e])}isZero(){return this.elements.every(t=>t===0)}isFinite(){return this.elements.every(t=>Number.isFinite(t))}isTranslate(){return this.hasTranslate()&&!this.hasScale()&&!this.hasRotation()}isScale(){return this.hasScale()&&!this.hasTranslate()&&!this.hasRotation()}isRotation(){return this.hasRotation()&&!this.hasScale()&&!this.hasTranslate()}isScaleTranslate(){return(this.hasScale()||this.hasTranslate())&&!this.hasRotation()}isScaleRotate(){return this.hasRotation()&&this.hasScale()}hasScale(){return this.a!==1||this.d!==1}hasTranslate(){return this.e!==0||this.f!==0}hasRotation(){return this.b!==0||this.c!==0}floor(){return this.setElements(this.elements.map(t=>Math.floor(t)))}ceil(){return this.setElements(this.elements.map(t=>Math.ceil(t)))}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const s=t.elements,n=e.elements,r=s[0]*n[0]+s[2]*n[1],l=s[1]*n[0]+s[3]*n[1],a=s[0]*n[2]+s[2]*n[3],o=s[1]*n[2]+s[3]*n[3],u=s[0]*n[4]+s[2]*n[5]+s[4],h=s[1]*n[5]+s[3]*n[5]+s[5];return this.set(r,l,a,o,u,h)}multiplyScalar(t){return this.set(this.a*t,this.b*t,this.c*t,this.d*t,this.e*t,this.f*t)}setScale(t,e){return this.set(t,0,0,e,0,0)}setSinCos(...t){const e=t[1],s=t[0];if(t.length===4){const n=t[2],r=t[3],l=1-e;return this.set(e,s,-s,e,s*r+l*n,-s*n+l*r)}else return this.set(e,s,-s,e,0,0)}setRotate(...t){const e=t[0],s=Math.cos(e),n=Math.sin(e);return t.length===1?this.setSinCos(n,s):this.setSinCos(n,s,t[1],t[2])}setRotateDegrees(t){return this.setRotate(t*Math.PI/180)}setTranslate(t,e){return this.set(1,0,0,1,t,e)}preScale(t,e){return this.multiplyMatrices(this,O.fromScale(t,e))}postScale(t,e){return this.multiplyMatrices(O.fromScale(t,e),this)}preRotate(t){return this.multiplyMatrices(this,O.fromRotate(t))}preRotateDegrees(t){return this.preRotate(t*Math.PI/180)}postRotate(t){return this.multiplyMatrices(O.fromRotate(t),this)}postRotateDegrees(t){return this.postRotate(t*Math.PI/180)}preTranslate(t,e){return this.multiplyMatrices(this,O.fromTranslate(t,e))}postTranslate(t,e){return this.multiplyMatrices(O.fromTranslate(t,e),this)}fromTranslateRotationSkewScalePivot(t,e,s,n,r){const l=Math.cos(e),a=Math.sin(e),o=Math.tan(s.x),u=Math.tan(s.y),h=t.x,c=t.y,y=n.x,m=n.y,x=(l+o*a)*y,p=(a+u*l)*y,b=(-a+o*l)*m,d=(l+u*-a)*m,g=h-(x*r.x+b*r.y),_=c-(p*r.x+d*r.y);return this.set(x,p,b,d,g,_)}determinant(){return this.a*this.d-this.b*this.c}invertMatrix(t){const e=t.elements,s=e[0],n=e[1],r=0,l=e[2],a=e[3],o=0,u=e[4],h=e[5],c=1;let y=t.determinant();if(y===0)return this;const m=1/y,x=(a*c-o*h)*m,p=-(n*c-h*r)*m,b=-(l*c-u*o)*m,d=(s*c-r*r)*m,g=(l*h-u*a)*m,_=-(s*h-u*n)*m;return this.set(x,p,b,d,g,_)}invert(){return this.invertMatrix(this)}scale(t,e){return this.set(this.a*t,this.b*e,this.c*t,this.d*e,this.e,this.f)}rotate(t){const e=Math.cos(t),s=Math.sin(t);return this.set(this.a*e+this.c*s,this.b*e+this.d*s,this.a*-s+this.c*e,this.b*-s+this.d*e,this.e,this.f)}translate(t,e){return this.set(this.a,this.b,this.c,this.d,this.e+t*this.a+e*this.c,this.f+t*this.b+e*this.d)}adjoint(){const t=this.elements,e=t[0],s=t[1],n=0,r=t[2],l=t[3],a=0,o=t[4],u=t[5],h=1,c=l*h-a*u,y=-(s*h-u*n),m=-(r*h-o*a),x=e*h-n*n,p=r*u-o*l,b=-(e*u-o*s);return this.set(c,y,m,x,p,b)}mapPoints(t,e){return e.map((s,n)=>{this.mapPoint(t[n],e[n])}),this}mapPoint(t,e){const s=e.x,n=e.y;return t.x=this.a*s+this.c*n+this.e,t.y=this.b*s+this.d*n+this.f,t}mapXY(t,e,s){s.x=this.a*t+this.c*e+this.e,s.y=this.b*t+this.d*e+this.f}projection(t,e){return this.set(2/t,0,0,-2/e,-1,1)}equals(t){return!this.elements.some((e,s)=>t.elements[s]!==e)}equalsEpsilon(t,e=1e-6){return!this.elements.some((s,n)=>Math.abs(t.elements[n]-s)>e)}fromArray(t,e=0){for(let s=0;s<6;s++)this.elements[s]=t[s+e];return this}toArray(t=[],e=0){const s=this.elements;return t[e]=s[0],t[e+1]=s[1],t[e+2]=s[2],t[e+3]=s[3],t[e+4]=s[4],t[e+5]=s[5],t}};k(O,"EPSILON",1e-6),k(O,"IDENTITY_MATRIX",O.default()),k(O,"pools",[]),k(O,"poolSize",100);let rt=O;const We=5,qi=5;var Qi=(i=>(i[i.kSerpentine=0]="kSerpentine",i[i.kLoop=1]="kLoop",i[i.kLocalCusp=2]="kLocalCusp",i[i.kCuspAtInfinity=3]="kCuspAtInfinity",i[i.kQuadratic=4]="kQuadratic",i[i.kLineOrPoint=5]="kLineOrPoint",i))(Qi||{}),Nt=(i=>(i[i.kCW_SkRotationDirection=0]="kCW_SkRotationDirection",i[i.kCCW_SkRotationDirection=1]="kCCW_SkRotationDirection",i))(Nt||{});function P(i){return v.fromPoint(i)}function I(i){let t=f.default();return i.storePoint(t),t}function G(i){return i.clone().add(i)}function an(i){return K(ft+i*ft)}function on(i,t,e){let s=i-t,n=t-e;return s<0&&(n=-n),+(s==0||n<0)}function Ot(i,t,e){if(i<0&&(i=-i,t=-t),t==0||i==0||i>=t)return 0;let s=i/t;return Fi(s)||s==0?0:(e.value=s,1)}function Gt(i){return i==0?0:i}function it(i,t,e,s){if(i==0)return Gt(Ot(-e,t,s));let n=s.clone(),r=t*t-4*i*e;if(r<0)return Gt(0);r=Mi(r);let l=Bt(r);if(!yt(l))return Gt(0);let a=t<0?-(t-l)/2:-(t+l)/2;if(n.curIndex+=Ot(a,i,n),n.curIndex+=Ot(e,a,n),n.curIndex-s.curIndex==2)if(s.get(0)>s.get(1)){let o=s.get(0);s.set(0,s.get(1)),s.set(1,o)}else s.get(0)==s.get(1)&&(n.curIndex-=1);return Gt(n.curIndex-s.curIndex)}function gt(i,t,e,s){return e&&e.copy(gt(i,t)),s&&s.copy(pe(i,t)),e||I(new dt(i).eval(v.splat(t)))}function pe(i,t){if(t==0&&i[0]==i[1]||t==1&&i[1]==i[2])return i[2].clone().subtract(i[0]);let e=P(i[0]),s=P(i[1]),n=P(i[2]),r=s.clone().sub(e),a=n.clone().sub(s).sub(r).clone().mulScalar(t).add(r);return I(a.add(a))}function ve(i,t,e){return i.clone().lerp(i,t,e)}function zi(i,t,e){let s=P(i[0]),n=P(i[1]),r=P(i[2]),l=v.splat(e),a=ve(s,n,l),o=ve(n,r,l);t[0]=I(s),t[1]=I(a),t[2]=I(ve(a,o,l)),t[3]=I(o),t[4]=I(r)}function un(i,t=i.length){for(let e=0;e<t;++e)if(!yt(i[e].x)||!yt(i[e].y))return!1;return!0}function hn(i,t){return ye(i,t)&&(i||t)}function Te(i,t){return!hn(i.x-t.x,i.y-t.y)}function ke(i,t){let e=f.make(2);i.dot(t)>=0?(e[0].copy(i),e[1].copy(t)):i.cross(t)>=0?(e[0].set(-i.y,+i.x),e[1].set(+t.y,-t.x)):(e[0].set(+i.y,-i.x),e[1].set(-t.y,+t.x));let s=v.fromXY(e[0].x,e[1].x),n=v.fromXY(e[0].y,e[1].y),r=s.clone().mul(s).add(n.clone().mul(n)).sqrt().inverse();return s.mul(r),n.mul(r),f.create(s[0]+s[1],n[0]+n[1])}function cn(i){let t=i[1].clone().subtract(i[0]),e=i[2].clone().subtract(i[1]),s=ke(t,e.clone().negate()),n=Xt(t.dot(s),t.clone().subtract(e).dot(s));return n>0&&n<1||(n=.5),n}function qe(i,t,e,s){return Ot(i-t,i-t-t+e,F.from(s))}function fn(i,t="x"){i.get(2)[t]=i.get(6)[t]=i.get(4)[t]}function Bi(i,t){let e=i[0].y,s=i[1].y,n=i[2].y;if(on(e,s,n)){let r=F.from([0]);if(Ot(e-s,e-s-s+n,r))return zi(i,t,r.value),fn(F.from(t),"y"),1;s=Y(e-s)<Y(s-n)?e:n}return t[0].set(i[0].x,e),t[1].set(i[1].x,s),t[2].set(i[2].x,n),0}function Vi(i){let t=i[1].x-i[0].x,e=i[1].y-i[0].y,s=i[0].x-i[1].x-i[1].x+i[2].x,n=i[0].y-i[1].y-i[1].y+i[2].y,r=-(t*s+e*n),l=s*s+n*n;return l<0&&(r=-r,l=-l),r<=0?0:r>=l?1:r/l}function Di(i,t,e,s=0){for(let n=0;n<e;n++)i[s+n].copy(t[n])}function Oi(i,t){let e=dt.default(),s=P(i[0]),n=P(i[1]),r=P(i[2]),l=P(i[3]);return e.fA=l.clone().add(n.clone().sub(r).mulScalar(3)).sub(s),e.fB=G(r.clone().sub(G(n)).add(s)),e.fC=n.clone().sub(s),I(e.eval(v.splat(t)))}function mn(i,t){let e=P(i[0]),s=P(i[1]),n=P(i[2]),r=P(i[3]),l=s.clone().sub(n).mulScalar(3).add(r).sub(e),a=n.clone().sub(G(s)).add(e);return I(l.mulScalar(t).add(a))}function Oe(i,t,e=f.default()){return t==0&&i[0].equals(i[1])||t==1&&i[2].equals(i[3])?(t==0?e.subtractVectors(i[2],i[0]):e.subtractVectors(i[3],i[1]),!e.x&&!e.y&&e.subtractVectors(i[3],i[0])):e.copy(Oi(i,t)),e}function jt(i,t,e=f.default()){return e.copy(I(new Pn(i).eval(v.splat(t)))),e}function Ye(i,t,e,s,n){e&&jt(i,t,e),s&&Oe(i,t,s),n&&n.copy(mn(i,t))}function Zt(i,t,e,s,n){let r=s-i+3*(t-e),l=2*(i-t-t+e),a=t-i;return it(r,l,a,F.from(n))}function j(i,t,e){return i.clone().lerp(i,t,e)}function Ut(i,t,e){if(e==1){Di(t,i,4),t[4].copy(i[3]),t[5].copy(i[3]),t[6].copy(i[3]);return}let s=P(i[0]),n=P(i[1]),r=P(i[2]),l=P(i[3]),a=v.splat(e),o=j(s,n,a),u=j(n,r,a),h=j(r,l,a),c=j(o,u,a),y=j(u,h,a),m=j(c,y,a);t[0]=I(s),t[1]=I(o),t[2]=I(c),t[3]=I(m),t[4]=I(y),t[5]=I(h),t[6]=I(l)}function Yi(i,t,e,s){if(s==1){Ut(i,t,e),t[7].copy(i[3]),t[8].copy(i[3]),t[9].copy(i[3]);return}let n=v.make(4),r=v.make(4),l=v.make(4),a=v.make(4),o=v.make(4);n.setElements([i[0].x,i[0].y,i[0].x,i[0].y]),r.setElements([i[1].x,i[1].y,i[1].x,i[1].y]),l.setElements([i[2].x,i[2].y,i[2].x,i[2].y]),a.setElements([i[3].x,i[3].y,i[3].x,i[3].y]),o.setElements([e,e,s,s]);let u=j(n,r,o),h=j(r,l,o),c=j(l,a,o),y=j(u,h,o),m=j(h,c,o),x=j(y,m,o),p=j(y,m,v.make(4).setElements([o[2],o[3],o[0],o[1]]));t[0]=f.create(n[0],n[1]),t[1]=f.create(u[0],u[1]),t[2]=f.create(y[0],y[1]),t[3]=f.create(x[0],x[1]),t[4]=f.create(p[0],p[1]),t[5]=f.create(p[2],p[3]),t[6]=f.create(x[2],x[3]),t[7]=f.create(m[2],m[3]),t[8]=f.create(c[2],c[3]),t[9]=f.create(a[2],a[3])}function Xe(i,t,e,s){if(t)if(s==0)Di(t,i,4);else{let n=0,r=0;for(;n<s-1;n+=2){let l=v.splat(e[n]);if(n!=0){let o=e[n-1];l=l.clone().sub(v.splat(o)).div(v.splat(1-o)).clmap(v.splat(0),v.splat(1))}let a=[];Yi(i,a,l[0],l[1]),a.forEach((o,u)=>{t[r+u]=o}),r+=6,i=a.slice(6)}if(n<s){let l=e[n];if(n!=0){let o=e[n-1];l=ht(Xt(l-o,1-o),0,1)}let a=[];Ut(i,a,l),a.forEach((o,u)=>{t[r+u]=o})}}}function yn(i,t){Ut(i,t,.5)}function Mt(i,t,e){return v.make(4).setElements([i[0]*t+e[0],i[1]*t+e[1],i[2]*t+e[2],i[3]*t+e[3]])}function dn(i,t){return t>=0?Math.abs(i):-Math.abs(i)}function Xi(i,t,e,s){let n=-.5*(t+dn(Math.sqrt(s),t)),r=-.5*n*i,l=Math.abs(n*n+r)<Math.abs(i*e+r)?Xt(n,i):Xt(e,n);return l>0&&l<1||(l=.5),l}function pn(i,t,e){return Xi(i,t,e,t*t-4*i*e)}function kn(i){let t=i[0].equals(i[1])?i[2].clone().subtract(i[0]):i[1].clone().subtract(i[0]),e=i[2].equals(i[3])?i[3].clone().subtract(i[1]):i[3].clone().subtract(i[2]),s=ke(t,e.clone().negate());const n=[v.fromArray([-1,2,-1,0]),v.fromArray([3,-4,1,0]),v.fromArray([-3,2,0,0])];let r=Mt(n[0],i[0].x,Mt(n[1],i[1].x,Mt(n[2],i[2].x,v.fromArray([i[3].x,0,0,0])))),l=Mt(n[0],i[0].y,Mt(n[1],i[1].y,Mt(n[2],i[2].y,v.fromArray([i[3].y,0,0,0])))),a=r.clone().mulScalar(s.x).add(l.clone().mulScalar(s.y)),o=0,u=a[0],h=a[1],c=a[2],y=h*h-4*u*c;return y>0?Xi(u,h,c,y):(a=r.clone().mulScalar(t.x).add(l.clone().mulScalar(t.y)),u=a[0],h=a[1],u!=0&&(o=-h/(2*u)),o>0&&o<1||(o=.5),o)}function ce(i,t="x"){i.get(4)[t]=i.get(8)[t]=i.get(6)[t]}function je(i,t){let e=[0,0],s=Zt(i[0].y,i[1].y,i[2].y,i[3].y,e),n=F.from(t);return Xe(i,t,e,s),t&&s>0&&(ce(n,"y"),s==2&&(n.next(3),ce(n,"y"))),s}function xn(i,t){let e=[0,0],s=Zt(i[0].x,i[1].x,i[2].x,i[3].x,e);Xe(i,t,e,s);let n=F.from(t);return t&&s>0&&(ce(n,"x"),s==2&&(n.next(3),ce(n,"x"))),s}function ji(i,t){let e=i[1].x-i[0].x,s=i[1].y-i[0].y,n=i[2].x-2*i[1].x+i[0].x,r=i[2].y-2*i[1].y+i[0].y,l=i[3].x+3*(i[1].x-i[2].x)-i[0].x,a=i[3].y+3*(i[1].y-i[2].y)-i[0].y;return it(n*a-r*l,e*a-s*l,e*r-s*n,F.from(t))}function bn(i,t){for(let e=t-1;e>0;--e)for(let s=e;s>0;--s)if(i[s]<i[s-1]){let n=i[s];i[s]=i[s-1],i[s-1]=n}}class dt{constructor(t,e,s){k(this,"fA",v.make(2));k(this,"fB",v.make(2));k(this,"fC",v.make(2));if(t&&e&&s)this.fA.copy(t),this.fB.copy(e),this.fC.copy(s);else if(t){let n=P(t[0]),r=P(t[1]),l=P(t[2]),a=G(r.clone().sub(n)),o=l.sub(G(r)).add(n);this.fA.copy(o),this.fB.copy(a),this.fC.copy(n)}}static default(){return new dt}eval(t){return this.fA.clone().mul(t).add(this.fB).mul(t).add(this.fC)}}function Sn(i,t){for(let e=t;e>1;--e)if(i.get(0)==i.get(1)){for(let s=1;s<e;++s)i.set(s-1,i.get(s));t-=1}else i.next();return t}function gn(i){return Li(i,.3333333)}function _n(i,t){if(et(i[0]))return it(i[1],i[2],i[3],F.from(t));let e,s,n,r,l;{let h=he(i[0]);e=i[1]*h,s=i[2]*h,n=i[3]*h}r=(e*e-s*3)/9,l=(2*e*e*e-9*e*s+27*n)/54;let a=r*r*r,o=l*l-a,u=e/3;if(o<0){let h=Ni(ht(l/K(a),-1,1)),c=-2*K(r);return t[0]=ht(c*mt(h/3)-u,0,1),t[1]=ht(c*mt((h+2*tt)/3)-u,0,1),t[2]=ht(c*mt((h-2*tt)/3)-u,0,1),bn(t,3),Sn(F.from(t),3)}else{let h=Y(l)+K(o);return h=gn(h),l>0&&(h=-h),h!=0&&(h+=r/h),t[0]=ht(h-u,0,1),1}}function ei(i,t){let e=i[2]-i[0],s=i[4]-2*i[2]+i[0],n=i[6]+3*(i[2]-i[4])-i[0];t[0]=n*n,t[1]=3*s*n,t[2]=2*s*s+n*e,t[3]=e*s}function Ze(i,t){let e=new Array(4).fill(0),s=new Array(4).fill(0),n;for(ei(i.map(l=>l.x),e),ei(i.map(l=>l.y),s),n=0;n<4;n++)e[n]+=s[n];return _n(e,t)}function vn(i){return(i[1].distanceToSquared(i[0])+i[2].distanceToSquared(i[1])+i[3].distanceToSquared(i[2]))*1e-8}function ii(i,t,e){let s=i[e].clone(),n=i[e+1].clone().subtract(s),r=new Array(2).fill(0);for(let l=0;l<2;++l){let a=i[t+l].clone().subtract(s);r[l]=n.cross(a)}return r[0]*r[1]>=0}function Zi(i){if(i[0].equalsEpsilon(i[1])||i[2].equalsEpsilon(i[3])||ii(i,0,2)||ii(i,2,0))return-1;let t=new Array(3).fill(0),e=Ze(i,t);for(let s=0;s<e;++s){let n=t[s];if(0>=n||n>=1)continue;let l=Oi(i,n).lengthSq(),a=vn(i);if(l<a)return n}return-1}function Tn(i,t,e){const s=i[4]-i[0],n=i[2]-i[0],r=t*n;e[0]=t*s-s,e[1]=s-2*r,e[2]=r}function si(i,t,e){let s=new Array(3).fill(0);Tn(i,t,s);let n=F.from([0,0]);return it(s[0],s[1],s[2],n)==1?(e.value=n.get(0),1):0}function Me(i,t,e,s="x"){let n=$(i[0][s],i[3][s],e),r=$(i[3][s],i[6][s],e);t[0][s]=n,t[3][s]=$(n,r,e),t[6][s]=r}function Mn(i,t,e){e[0].set(i[0].x*1,i[0].y*1,1),e[1].set(i[1].x*t,i[1].y*t,t),e[2].set(i[2].x*1,i[2].y*1,1)}function Pe(i){return f.create(i.x/i.z,i.y/i.z)}class ni{constructor(t){k(this,"fNumer",dt.default());k(this,"fDenom",dt.default());let e=P(t.fPts[0]),s=P(t.fPts[1]),n=P(t.fPts[2]),r=v.splat(t.fW),l=s.clone().mul(r);this.fNumer.fC.copy(e),this.fNumer.fA.copy(n.clone().sub(G(l)).add(e)),this.fNumer.fB.copy(G(l.clone().sub(e))),this.fDenom.fC.setElements([1,1]),this.fDenom.fB=G(r.clone().sub(this.fDenom.fC)),this.fDenom.fA.setElements([0-this.fDenom.fB.x,0-this.fDenom.fB.y])}eval(t){let e=v.splat(t),s=this.fNumer.eval(e),n=this.fDenom.eval(e);return s.div(n)}}class Pn{constructor(t){k(this,"fA",v.make(2));k(this,"fB",v.make(2));k(this,"fC",v.make(2));k(this,"fD",v.make(2));let e=P(t[0]),s=P(t[1]),n=P(t[2]),r=P(t[3]),l=v.splat(3);this.fA=s.clone().sub(n).mul(l).add(r).sub(e),this.fB=n.clone().sub(G(s)).add(e).mul(l),this.fC=s.clone().sub(e).mul(l),this.fD=e}eval(t){return this.fA.clone().mul(t).add(this.fB).mul(t).add(this.fC).mul(t).add(this.fD)}}class Q{constructor(t,e,s,n){k(this,"fPts",f.make(3));k(this,"fW",0);t!==void 0&&this.set(t,e,s,n)}static default(){return new this}static make(t){return Array.from({length:t},()=>new Q)}copy(t){return this.fPts[0]=t.fPts[0].clone(),this.fPts[1]=t.fPts[1].clone(),this.fPts[2]=t.fPts[2].clone(),this.fW=t.fW,this}clone(){return new Q().copy(this)}set(t,e,s,n){Array.isArray(t)?this.set(t[0],t[1],t[2],e):t&&e!==void 0&&s!==void 0&&n!==void 0&&(this.fPts[0].copy(t),this.fPts[1].copy(e),this.fPts[2].copy(s),this.setW(n))}setW(t){this.fW=t>0&&yt(t)?t:1}chopAt_2(t,e){let s=Yt.make(3),n=Yt.make(3);Mn(this.fPts,this.fW,s),Me(s,n,t,"x"),Me(s,n,t,"y"),Me(s,n,t,"z"),e[0].fPts[0]=this.fPts[0].clone(),e[0].fPts[1]=Pe(n[0]),e[0].fPts[2]=Pe(n[1]),e[1].fPts[0]=e[0].fPts[2].clone(),e[1].fPts[1]=Pe(n[2]),e[1].fPts[2]=this.fPts[2].clone();let r=K(n[1].z);return e[0].fW=n[0].z/r,e[1].fW=n[2].z/r,ye(e[0].fPts[0].x,14)}chopAt_3(t,e,s){if(t==0||e==1)if(t==0&&e==1){s.copy(this);return}else{let d=[Q.default(),Q.default()];if(this.chopAt_2(t||e,d)){s.copy(d[+!!t]);return}}let n=new ni(this),r=v.splat(t),l=n.fNumer.eval(r),a=n.fDenom.eval(r),o=v.splat((t+e)/2),u=n.fNumer.eval(o),h=n.fDenom.eval(o),c=v.splat(e),y=n.fNumer.eval(c),m=n.fDenom.eval(c),x=G(u).sub(l.clone().add(y).mulScalar(.5)),p=G(h).sub(a.clone().add(m).mulScalar(.5));s.fPts[0]=I(l.clone().div(a)),s.fPts[1]=I(x.clone().div(p)),s.fPts[2]=I(y.clone().div(m));let b=p.clone().div(a.clone().mul(m).sqrt());s.fW=b[0]}evalAt(t){return I(new ni(this).eval(t))}evalAt_3(t,e,s){e&&e.copy(this.evalAt(t)),s&&s.copy(this.evalTangentAt(t))}evalTangentAt(t){const e=this.fPts,s=this.fW;if(t==0&&e[0]==e[1]||t==1&&e[1]==e[2])return e[2].clone().subtract(e[0]);let n=P(e[0]),r=P(e[1]),l=P(e[2]),a=v.splat(s),o=l.clone().sub(n),u=r.clone().sub(n),h=a.clone().mul(u),c=a.clone().mul(o).sub(o),y=o.clone().sub(h).sub(h);return I(new dt(c,y,h).eval(v.splat(t)))}chop(t){const e=this.fW,s=this.fPts,n=he(B+e),r=P(s[0]).mulScalar(n),l=P(s[1]).mulScalar(e*n),a=P(s[2]).mulScalar(n),o=I(r.clone().add(l)),u=I(l.clone().add(a)),h=I(r.clone().mulScalar(.5).add(l).add(a.clone().mulScalar(.5)));t[0].fPts[0]=s[0],t[0].fPts[1]=o,t[0].fPts[2]=h,t[1].fPts[0]=h,t[1].fPts[1]=u,t[1].fPts[2]=s[2],t[0].fW=t[1].fW=an(e)}computeAsQuadError(t){const e=this.fW,s=this.fPts;let n=e-1,r=n/(4*(2+n)),l=r*(s[0].x-2*s[1].x+s[2].x),a=r*(s[0].y-2*s[1].y+s[2].y);t.set(l,a)}asQuadTol(t){const e=this.fW,s=this.fPts;let n=e-1,r=n/(4*(2+n)),l=r*(s[0].x-2*s[1].x+s[2].x),a=r*(s[0].y-2*s[1].y+s[2].y);return l*l+a*a<=t*t}computeQuadPOW2(t){if(t<0||!yt(t)||!this.fPts.every(h=>h.isFinite()))return 0;const e=this.fW,s=this.fPts;let n=e-1,r=n/(4*(2+n)),l=r*(s[0].x-2*s[1].x+s[2].x),a=r*(s[0].y-2*s[1].y+s[2].y),o=K(l*l+a*a),u;for(u=0;u<We&&!(o<=t);++u)o*=.25;return u}chopIntoQuadsPOW2(t,e){const s=this.fPts;this.fW,t.data=s;const n=()=>{const l=2*(1<<e)+1;if(!un(t.data,l))for(let a=1;a<l-1;++a)t.get(a).copy(s[1])};if(e==We){let r=[Q.default(),Q.default()];this.chop(r),Te(r[0].fPts[1],r[0].fPts[2])&&Te(r[1].fPts[0],r[1].fPts[1])&&(t.get(1).copy(r[0].fPts[1]),t.get(2).copy(r[0].fPts[1]),t.get(3).copy(r[0].fPts[1]),t.get(4).copy(r[1].fPts[2]),e=1,n())}return 1<<e}findMidTangent(){const t=this.fPts,e=this.fW;let s=t[1].clone().subtract(t[0]),n=t[2].clone().subtract(t[1]),r=ke(s,n.clone().negate()),l=t[2].clone().subtract(t[0]).multiplyScalar(e-1),a=t[2].clone().subtract(t[0]).subtract(t[1].clone().subtract(t[0]).multiplyScalar(e*2)),o=t[1].clone().subtract(t[0]).multiplyScalar(e),u=r.dot(l),h=r.dot(a),c=r.dot(o);return pn(u,h,c)}findXExtrema(t){return si(this.fPts.map(e=>e.x),this.fW,t)}findYExtrema(t){return si(this.fPts.map(e=>e.y),this.fW,t)}chopAtXExtrema(t){let e=L.from(0);if(this.findXExtrema(e)){if(!this.chopAt_2(e.value,t))return!1;let s=t[0].fPts[2].x;return t[0].fPts[1].x=s,t[1].fPts[0].x=s,t[1].fPts[1].x=s,!0}return!1}chopAtYExtrema(t){let e=L.from(0);if(this.findYExtrema(e)){if(!this.chopAt_2(e.value,t))return!1;let s=t[0].fPts[2].y;return t[0].fPts[1].y=s,t[1].fPts[0].y=s,t[1].fPts[1].y=s,!0}return!1}computeTightBounds(t){const e=this.fPts;let s=f.make(4);s[0].copy(e[0]),s[1].copy(e[2]);let n=2,r=L.from(0);this.findXExtrema(r)&&this.evalAt_3(r.value,s[n++]),this.findYExtrema(r)&&this.evalAt_3(r.value,s[n++]),t.setBounds(s,n)}computeFastBounds(t){t.setBounds(this.fPts,3)}TransformW(t,e,s){return e}static BuildUnitArc(t,e,s,n,r){let l=t.dot(e),a=t.cross(e);if(Y(a)<=de&&l>0&&(a>=0&&s==0||a<=0&&s==1))return 0;s==1&&(a=-a);let u=0;a==0?u=2:l==0?u=a>0?1:3:(a<0&&(u+=2),l<0!=a<0&&(u+=1));const h=[f.create(1,0),f.create(1,1),f.create(0,1),f.create(-1,1),f.create(-1,0),f.create(-1,-1),f.create(0,-1),f.create(1,-1)],c=oe;let y=u;for(let d=0;d<y;++d)r[d].set(h[d*2],h[d*2+1],h[d*2+2],c);const m=f.create(l,a),x=h[u*2],p=x.dot(m);if(p<1){let d=f.create(x.x+l,x.y+a);const g=K((1+p)/2);d.setLength(he(g)),Te(x,d)||(r[y].set(x,d,m,g),y+=1)}let b=rt.identity();b.setSinCos(t.y,t.x),s==1&&b.preScale(B,-B),n&&b.premultiply(n);for(let d=0;d<y;++d)b.mapPoints(r[d].fPts,r[d].fPts);return y}}function Ui(i,t){let e=[],s=[],n=0;qe(i[0].x,i[1].x,i[2].x,s)>0&&(e[n]=s[0],n++),qe(i[0].y,i[1].y,i[2].y,s)>0&&(e[n]=s[0],n++);for(let r=0;r<n;++r)t[r]=gt(i,e[r]);return t[n]=i[2],n+1}function Ki(i,t){let e=[],s=[],n=0;Zt(i[0].x,i[1].x,i[2].x,i[3].x,s)>0&&(e[n]=s[0],n++),Zt(i[0].y,i[1].y,i[2].y,i[3].y,s)>0&&(e[n]=s[0],n++);for(let r=0;r<n;++r)t[r]=t[r]||f.default(),Ye(i,e[r],t[r],null,null);return t[n]=i[3],n+1}function Hi(i,t,e){let s=new Q;s.set(i[0],i[1],i[2],t);let n=[L.from(0),L.from(0)],r=s.findXExtrema(n[0]);r+=s.findYExtrema(n[1]);for(let l=0;l<r;++l)e[l]=s.evalAt(n[l].value);return e[r]=i[2],r+1}function te(i,t,e,s){return i+t>e?Math.min(s,e/(i+t)):s}function Cn(i,t){if(Number.isNaN(i)||Number.isNaN(t))return NaN;if(i===t)return t;const e=new ArrayBuffer(4),s=new Float32Array(e),n=new Int32Array(e);return s[0]=i,i===0?(n[0]=2147483649,s[0]):(i<t==i>0?n[0]++:n[0]--,s[0])}function ee(i,t,e,s){if(e.value=e.value*t,s.value=s.value*t,e.value+s.value>i){let n=e,r=s;if(n>r){let o=n;n=r,r=o}let l=n,a=i-l.value;for(;a+l.value>i;)a=Cn(a,0);r.value=a}}function ie(i,t){i.value+t.value==i.value?t.value=0:i.value+t.value==t.value&&(i.value=0)}function ri(i,t,e){return t<=e&&i<=e-t&&t+i<=e&&e-i>=t&&i>=0}function li(i){return i[0].x==i[3].x&&i[0].y==i[1].y&&i[1].x==i[2].x&&i[3].y==i[2].y}function ai(i){let t=!0;for(let e=0;e<4;++e)i[e].x<=0||i[e].y<=0?(i[e].x=0,i[e].y=0):t=!1;return t}const Pt=0,pt=1,ut=2,qt=3,se=4,Ce=5,Rn=5;var Ji=(i=>(i[i.kUpperLeft_Corner=0]="kUpperLeft_Corner",i[i.kUpperRight_Corner=1]="kUpperRight_Corner",i[i.kLowerRight_Corner=2]="kLowerRight_Corner",i[i.kLowerLeft_Corner=3]="kLowerLeft_Corner",i))(Ji||{});const kt=0,Ct=1,Rt=2,It=3,xt=class xt{constructor(){k(this,"fRect",N.makeEmpty());k(this,"fType",0);k(this,"fRadii",[f.zero(),f.zero(),f.zero(),f.zero()])}static default(){return new this}static from(t,e,s=Pt){const n=new this;return n.fRect=t,n.fRadii.forEach((r,l)=>{r.copy(e[l])}),n.fType=s,n}getType(){return this.fType}get type(){return this.getType()}isEmpty(){return Pt==this.getType()}isRect(){return pt==this.getType()}isOval(){return ut==this.getType()}isSimple(){return qt==this.getType()}isNinePatch(){return se==this.getType()}isComplex(){return Ce==this.getType()}width(){return this.fRect.width}height(){return this.height}getSimpleRadii(){return this.fRadii[0]}copy(t){this.fRect.copy(t.fRect),this.fType=t.fType;for(let e=0;e<4;e++)this.fRadii[e].copy(t.fRadii[e])}setEmpty(){this.copy(xt.default())}setRect(t){this.initializeRect(t)&&(this.fRadii.forEach(e=>{e.set(0,0)}),this.fType=pt)}static makeEmpty(){return new this}static makeRect(t){let e=xt.default();return e.setRect(t),e}static makeOval(t){let e=xt.default();return e.setOval(t),e}static makeRectXY(t,e,s){let n=this.default();return n.setRectXY(t,e,s),n}setRadiiEmpty(){this.fRadii.forEach(t=>{t.set(0,0)})}setOval(t){if(!this.initializeRect(t))return;let e=this.fRect.halfWidth,s=this.fRect.halfHeight;if(e==0||s==0)this.setRadiiEmpty(),this.fType=pt;else{for(let n=0;n<4;++n)this.fRadii[n].set(e,s);this.fType=ut}}setRectXY(t,e,s){if(!this.initializeRect(t))return;const n=this.fRect;if(ye(e,s)||(e=s=0),n.width<e+e||n.height<s+s){let r=Math.min(n.width/(e+e),n.height/(s+s));e*=r,s*=r}if(e<=0||s<=0){this.setRect(t);return}for(let r=0;r<4;++r)this.fRadii[r].set(e,s);this.fType=qt,e>=J(n.width)&&s>=J(n.height)&&(this.fType=ut)}setNinePatch(t,e,s,n,r){if(!this.initializeRect(t))return;const l=this.fRect;if(!Wi([e,s,n,r],4)){this.setRect(t);return}e=Math.max(e,0),s=Math.max(s,0),n=Math.max(n,0),r=Math.max(r,0);let o=B;e+n>l.width&&(o=l.width/(e+n)),s+r>l.height&&(o=Math.min(o,l.height/(s+r))),o<B&&(e*=o,s*=o,n*=o,r*=o),e==n&&s==r?e>=J(l.width)&&s>=J(l.height)?this.fType=ut:e==0||s==0?(this.fType=pt,e=0,s=0,n=0,r=0):this.fType=qt:this.fType=se,this.fRadii[kt].set(e,s),this.fRadii[Ct].set(n,s),this.fRadii[Rt].set(n,r),this.fRadii[It].set(e,r)}setRectRadii(t,e){if(this.initializeRect(t)){if(!e.every(s=>Number.isFinite(s.x))){this.setRect(t);return}if(this.fRadii.forEach((s,n)=>{s.copy(e[n])}),ai(this.fRadii)){this.setRect(t);return}if(this.scaleRadii(),!this.isValid()){this.setRect(t);return}}}rect(){return this.fRect}radii(t){return this.fRadii[t]}getBounds(){return this.fRect}equals(t,e){return t.fRect==e.fRect&&Fe(t.fRadii.map(s=>s.x),e.fRadii.map(s=>s.x),4)}notEquals(t,e){return t.fRect!=e.fRect||!Fe(t.fRadii.map(s=>s.x),e.fRadii.map(s=>s.x),4)}insetRect(t,e,s){let r=this.fRect.makeInset(t,e),l=!1;if(r.right<=r.left&&(l=!0,r.left=r.right=Le(r.left,r.right)),r.bottom<=r.top&&(l=!0,r.top=r.bottom=Le(r.top,r.bottom)),l){s.fRect.copy(r),s.setRadiiEmpty(),s.fType=Pt;return}if(!r.isFinite()){s.setEmpty();return}let a=[f.zero(),f.zero(),f.zero(),f.zero()];a.forEach((o,u)=>{o.copy(this.fRadii[u])});for(let o=0;o<4;++o)a[o].x&&(a[o].x-=t),a[o].y&&(a[o].y-=e);s.setRectRadii(r,a)}inset(t,e){this.insetRect(t,e,this)}outsetRect(t,e,s){this.insetRect(-t,-e,s)}outset(t,e){this.insetRect(-t,-e,this)}offset(t,e){this.fRect.offset(t,e)}makeOffset(t,e){return xt.from(this.fRect.makeOffset(t,e),this.fRadii,this.fType)}contains(t){return this.getBounds().contains(t)?this.isRect()?!0:this.checkCornerContainment(t.left,t.top)&&this.checkCornerContainment(t.right,t.top)&&this.checkCornerContainment(t.right,t.bottom)&&this.checkCornerContainment(t.left,t.bottom):!1}isValid(){if(!this.areRectAndRadiiValid(this.fRect,this.fRadii))return!1;let t=this.fRadii,e=t[0].x==0&&t[0].y==0,s=t[0].x==0||t[0].y==0,n=!0;for(let o=1;o<4;++o)(t[o].x!=0||t[o].y!=0)&&(e=!1),(t[o].x!=t[o-1].x||t[o].y!=t[o-1].y)&&(n=!1),t[o].x!=0&&t[o].y!=0&&(s=!1);let r=li(t),l=this.fType,a=this.fRect;if(l<0||l>Rn)return!1;switch(l){case Pt:if(!a.isEmpty()||!e||!n||!s)return!1;break;case pt:if(a.isEmpty()||!e||!n||!s)return!1;break;case ut:if(a.isEmpty()||e||!n||s)return!1;for(let o=0;o<4;++o)if(!Z(t[o].x,a.halfWidth)||!Z(t[o].y,a.halfHeight))return!1;break;case qt:if(a.isEmpty()||e||!n||s)return!1;break;case se:if(a.isEmpty()||e||n||s||!r)return!1;break;case Ce:if(a.isEmpty()||e||n||s||r)return!1;break}return!0}areRectAndRadiiValid(t,e){if(!t.isFinite()||!t.isSorted())return!1;for(let s=0;s<4;++s)if(!ri(e[s].x,t.left,t.right)||!ri(e[s].y,t.top,t.bottom))return!1;return!0}transform(t,e){if(!e)return!1;if(t.isIdentity())return e.copy(this),!0;let s=N.makeEmpty();if(!s.isFinite()||s.isEmpty())return!1;if(e.fRect=s,e.fType=this.fType,pt==this.fType)return!0;if(ut==this.fType){for(let o=0;o<4;++o)e.fRadii[o].x=J(s.width),e.fRadii[o].y=J(s.height);return!0}let n=t.a,r=t.d;if(t.isScaleTranslate())for(let o=0;o<4;++o)e.fRadii[o].x=this.fRadii[o].x,e.fRadii[o].y=this.fRadii[o].y;else{const o=t.b<0;n=t.c*(o?1:-1),r=t.b*(o?-1:1);const u=o?3:1;for(let h=0;h<4;++h){const c=h+u>=4?(h+u)%4:h+u;e.fRadii[h].x=this.fRadii[c].y,e.fRadii[h].y=this.fRadii[c].x}}n<0&&(n=-n),r<0&&(r=-r);for(let o=0;o<4;++o)e.fRadii[o].x*=n,e.fRadii[o].y*=r;return!0}initializeRect(t){return t.isFinite()?(this.fRect=t.makeSorted(),this.fRect.isEmpty()?(this.setRadiiEmpty(),this.fType=Pt,!1):!0):(this.setEmpty(),!1)}computeType(){const t=this.fRect;if(t.isEmpty()){this.fType=Pt;return}let e=this.fRadii,s=!0,n=e[0].x==0||e[0].y==0;for(let r=1;r<4;++r)e[r].x!=0&&e[r].y!=0&&(n=!1),(e[r].x!=e[r-1].x||e[r].y!=e[r-1].y)&&(s=!1);if(n){this.fType=pt;return}if(s){e[0].x>=J(t.width)&&e[0].y>=J(t.height)?this.fType=ut:this.fType=qt;return}li(e)?this.fType=se:this.fType=Ce,this.isValid()||this.setRect(this.rect())}checkCornerContainment(t,e){let s=f.default(),n;const r=this.fRect,l=this.fRadii;if(ut==this.type)s.set(t-r.centerX,e-r.centerY),n=kt;else if(t<r.left+l[kt].x&&e<r.top+l[kt].y)n=kt,s.set(t-(r.left+l[kt].x),e-(r.top+l[kt].y));else if(t<r.left+l[It].x&&e>r.bottom-l[It].y)n=It,s.set(t-(r.left+l[It].x),e-(r.bottom-l[It].y));else if(t>r.right-l[Ct].x&&e<r.top+l[Ct].y)n=Ct,s.set(t-(r.right-l[Ct].x),e-(r.top+l[Ct].y));else if(t>r.right-l[Rt].x&&e>r.bottom-l[Rt].y)n=Rt,s.set(t-(r.right-l[Rt].x),e-(r.bottom-l[Rt].y));else return!0;return wt(s.x)*wt(l[n].y)+wt(s.y)*wt(l[n].x)<=wt(l[n].x*l[n].x)}scaleRadii(){let t=1;const e=this.fRect,s=this.fRadii;let n=e.right-e.left,r=e.bottom-e.top;t=te(s[0].x,s[1].x,n,t),t=te(s[1].y,s[2].y,r,t),t=te(s[2].x,s[3].x,n,t),t=te(s[3].y,s[0].y,r,t);let l=L.from(s[0].x),a=L.from(s[1].x),o=L.from(s[2].x),u=L.from(s[3].x),h=L.from(s[0].y),c=L.from(s[1].y),y=L.from(s[2].y),m=L.from(s[3].y);return ie(l,a),ie(c,y),ie(o,u),ie(m,h),t<1&&(ee(n,t,l,a),ee(r,t,c,y),ee(n,t,o,u),ee(r,t,m,h)),s[0].set(l.value,h.value),s[1].set(a.value,c.value),s[2].set(o.value,y.value),s[3].set(u.value,m.value),ai(s),this.computeType(),t<1}};k(xt,"Corner",Ji);let ct=xt;var St=(i=>(i[i.kWinding=0]="kWinding",i[i.kEvenOdd=1]="kEvenOdd",i[i.kInverseWinding=2]="kInverseWinding",i[i.kInverseEvenOdd=3]="kInverseEvenOdd",i))(St||{}),W=(i=>(i[i.kCW=0]="kCW",i[i.kCCW=1]="kCCW",i))(W||{}),st=(i=>(i[i.kLine_SkPathSegmentMask=1]="kLine_SkPathSegmentMask",i[i.kQuad_SkPathSegmentMask=2]="kQuad_SkPathSegmentMask",i[i.kConic_SkPathSegmentMask=4]="kConic_SkPathSegmentMask",i[i.kCubic_SkPathSegmentMask=8]="kCubic_SkPathSegmentMask",i))(st||{}),S=(i=>(i[i.kMove=0]="kMove",i[i.kLine=1]="kLine",i[i.kQuad=2]="kQuad",i[i.kConic=3]="kConic",i[i.kCubic=4]="kCubic",i[i.kClose=5]="kClose",i))(S||{}),R=(i=>(i[i.kMoveTo=0]="kMoveTo",i[i.kLineTo=1]="kLineTo",i[i.kQuadCurveTo=2]="kQuadCurveTo",i[i.kConicTo=3]="kConicTo",i[i.kCubicCurveTo=4]="kCubicCurveTo",i[i.kClose=5]="kClose",i[i.kDone=6]="kDone",i))(R||{});function In(i){return(i&2)!=0}class wn{constructor(t,e=!1){k(this,"path");k(this,"forceClose",!1);k(this,"needClose",!1);k(this,"closeLine",!1);k(this,"verbIndex",0);k(this,"verbEnd",0);k(this,"lastPoint",f.default());k(this,"movePoint",f.default());k(this,"pointIndex",0);this.setPath(t,e)}get verbs(){return this.path.fVerbs}setPath(t,e=!1){this.path=t,this.verbEnd=t.fVerbs.length,this.forceClose=e,this.lastPoint.set(0,0),this.movePoint.set(0,0),this.forceClose=e,this.needClose=!1,this.closeLine=!1,this.pointIndex=0}isClosedContour(){if(this.path.countVerbs()<=0||this.verbIndex===this.verbEnd)return!1;if(this.forceClose)return!0;for(R.kMoveTo===this.verbs[this.verbIndex]&&(this.verbIndex+=1);this.verbIndex<this.verbEnd;){let t=this.verbs[this.verbIndex++];if(R.kMoveTo==t)break;if(R.kClose==t)return!0}return!1}autoClose(t){return this.lastPoint.equals(this.movePoint)?(t[0]=this.movePoint.clone(),R.kClose):!Number.isFinite(this.lastPoint.x)||!Number.isFinite(this.lastPoint.y)||!Number.isFinite(this.movePoint.x)||!Number.isFinite(this.movePoint.y)?R.kClose:(t[0]=this.lastPoint.clone(),t[1]=this.movePoint.clone(),this.lastPoint.copy(this.movePoint),this.closeLine=!0,R.kLineTo)}next(t){if(this.verbIndex>=this.verbEnd)return this.needClose?R.kLineTo==this.autoClose(t)?R.kLineTo:(this.needClose=!1,R.kClose):R.kDone;let e=this.path.fPts,s=this.pointIndex,n=this.verbs[this.verbIndex++];switch(n){case S.kMove:if(this.needClose)return this.verbIndex--,n=this.autoClose(t),n==R.kClose&&(this.needClose=!1),n;if(this.verbIndex===this.verbEnd)return R.kDone;this.movePoint.copy(e[s]),t[0]=f.fromPoint(e[s]),s+=1,this.lastPoint.copy(this.movePoint),this.needClose=this.forceClose;break;case S.kLine:t[0]=this.lastPoint.clone(),t[1]=f.fromPoint(e[s]),this.lastPoint.copy(e[s]),this.closeLine=!1,s+=1;break;case S.kQuad:t[0]=this.lastPoint.clone(),t[1]=f.fromPoint(e[s]),t[2]=f.fromPoint(e[s+1]),this.lastPoint.copy(e[s+1]),s+=2;break;case S.kCubic:t[0]=this.lastPoint.clone(),t[1]=f.fromPoint(e[s]),t[2]=f.fromPoint(e[s+1]),t[3]=f.fromPoint(e[s+2]),this.lastPoint.copy(e[s+2]),s+=3;break;case S.kClose:n=this.autoClose(t),n==R.kLineTo?this.verbIndex--:this.needClose=!1,this.lastPoint.copy(this.movePoint);break}return this.pointIndex=s,n}}function $i(i,t,e){let s=new Array(4).fill(0);s[0]=i[0].y-t,s[1]=i[1].y-t,s[2]=i[2].y-t,s[3]=i[3].y-t;{let n=0,r=0;if(s[0]<0){if(s[3]<0)return!1;n=0,r=B}else if(s[0]>0){if(s[3]>0)return!1;n=B,r=0}else return e.value=0,!0;const l=B/65536;do{let a=(r+n)/2,o=$(s[0],s[1],a),u=$(s[1],s[2],a),h=$(s[2],s[3],a),c=$(o,u,a),y=$(u,h,a),m=$(c,y,a);if(m==0)return e.value=a,!0;m<0?n=a:r=a}while(!(Y(r-n)<=l));return e.value=(n+r)/2,!0}}function z(i,t,e){return(i-t)*(e-t)<=0}function xe(i,t,e,s){return e.y==s.y?z(e.x,i,s.x)&&i!=s.x:i==e.x&&t==e.y}function En(i){return i<0?-1:+(i>0)}function Gi(i,t,e,s){let n=i[0].x,r=i[0].y,l=i[1].x,a=i[1].y,o=a-r,u=1;if(r>a){let c=r;r=a,a=c,u=-1}if(e<r||e>a)return 0;if(xe(t,e,i[0],i[1]))return s.value+=1,0;if(e==a)return 0;let h=(l-n)*(e-i[0].y)-o*(t-n);return h?En(h)==u&&(u=0):((t!=l||e!=i[1].y)&&(s.value+=1),u=0),u}function ts(i,t,e){return i==t?!0:i<t?t<=e:t>=e}function be(i,t,e,s){return(i*s+t)*s+e}function Ln(i,t,e,s,n){return((i*n+t)*n+e)*n+s}function oi(i,t,e,s){let n=i[0].y,r=i[2].y,l=1;if(n>r){let h=n;n=r,r=h,l=-1}if(e<n||e>r)return 0;if(xe(t,e,i[0],i[2]))return s.value+=1,0;if(e==r)return 0;let a=F.from([0,0]),o=it(i[0].y-2*i[1].y+i[2].y,2*(i[1].y-i[0].y),i[0].y-e,a),u;if(o==0)u=i[1-l].x;else{let h=a.get(0),c=i[0].x,y=i[2].x-2*i[1].x+c,m=2*(i[1].x-c);u=be(y,m,c,h)}return Z(u,t)&&(t!=i[2].x||e!=i[2].y)?(s.value+=1,0):u<t?l:0}function An(i,t,e,s){let n,r;n=r=t[0].x;for(let l=1;l<i;++l)n=Math.min(n,t[l].x),r=Math.max(r,t[l].x);e.value=n,s.value=r}function es(i,t,e,s,n){let r=s+3*(t-e)-i,l=3*(e-t-t+i),a=3*(t-i);return Ln(r,l,a,i,n)}function Nn(i,t,e,s){let n=i[0].y,r=i[3].y,l=1;if(n>r){let c=n;n=r,r=c,l=-1}if(e<n||e>r)return 0;if(xe(t,e,i[0],i[3]))return s.value+=1,0;if(e==r)return 0;let a=L.from(0),o=L.from(0);if(An(4,i,a,o),t<a.value)return 0;if(t>o.value)return l;let u=L.from(0);if(!$i(i,e,u))return 0;let h=es(i[0].x,i[1].x,i[2].x,i[3].x,u.value);return Z(h,t)&&(t!=i[3].x||e!=i[3].y)?(s.value+=1,0):h<t?l:0}function is(i,t,e,s){let n=Array.from({length:5},()=>f.default()),r=0;ts(i[0].y,i[1].y,i[2].y)||(r=Bi(i,n),i=n);let l=oi(i,t,e,s);return r>0&&(l+=oi(i.slice(2),t,e,s)),l}function ss(i,t,e,s){let n=Array.from({length:10},()=>f.default()),r=je(i,n),l=0;for(let a=0;a<=r;++a)l+=Nn(n.slice(a*3),t,e,s);return l}function ns(i,t,e){let s=i[2]*t,n=i[0],r=i[4]-2*s+n,l=2*(s-n);return be(r,l,n,e)}function rs(i,t){let e=2*(i-1),s=1,n=-e;return be(n,e,s,t)}function ui(i,t,e,s){const n=i.fPts;let r=n[0].y,l=n[2].y,a=1;if(r>l){let x=r;r=l,l=x,a=-1}if(e<r||e>l)return 0;if(xe(t,e,n[0],n[2]))return s.value+=1,0;if(e==l)return 0;let o=F.from([0,0]),u=n[2].y,h=n[1].y*i.fW-e*i.fW+e,c=n[0].y;u+=c-2*h,h-=c,c-=e;let y=it(u,2*h,c,o),m=0;if(y==0)m=n[1-a].x;else{let x=o.get(0);m=ns(n.map(p=>p.x),i.fW,x)/rs(i.fW,x)}return Z(m,t)&&(t!=n[2].x||e!=n[2].y)?(s.value+=1,0):m<t?a:0}function Fn(i,t,e,s,n){let r=new Q(i,s),l=[Q.default(),Q.default()],a=ts(i[0].y,i[1].y,i[2].y)||!r.chopAtYExtrema(l),o=ui(a?r:l[0],t,e,n);return a||(o+=ui(l[1],t,e,n)),o}function ls(i,t,e,s){let n=i[0].y,r=i[1].y;if(!z(n,e,r))return;let l=i[0].x,a=i[1].x;if(!z(l,t,a))return;let o=a-l,u=r-n;if(!Z((t-l)*u,o*(e-n)))return;let h=f.default();h.set(o,u),s.push(h)}function as(i,t,e,s){if(!z(i[0].y,e,i[1].y)&&!z(i[1].y,e,i[2].y)||!z(i[0].x,t,i[1].x)&&!z(i[1].x,t,i[2].x))return;let n=F.from([0,0]),r=it(i[0].y-2*i[1].y+i[2].y,2*(i[1].y-i[0].y),i[0].y-e,n);for(let l=0;l<r;++l){let a=n.get(l),o=i[0].x,u=i[2].x-2*i[1].x+o,h=2*(i[1].x-o),c=be(u,h,o,a);Z(t,c)&&s.push(pe(i,a))}}function os(i,t,e,s){if(!z(i[0].y,e,i[1].y)&&!z(i[1].y,e,i[2].y)&&!z(i[2].y,e,i[3].y)||!z(i[0].x,t,i[1].x)&&!z(i[1].x,t,i[2].x)&&!z(i[2].x,t,i[3].x))return;let n=Array.from({length:10},()=>f.default()),r=je(i,n);for(let l=0;l<=r;++l){let a=n.slice(l*3),o=L.from(0);if(!$i(a,e,o))continue;let u=es(a[0].x,a[1].x,a[2].x,a[3].x,o.value);if(!Z(t,u))continue;let h=f.default();Ye(a,o.value,null,h,null),s.push(h)}}function Wn(i,t,e,s,n){if(!z(i[0].y,e,i[1].y)&&!z(i[1].y,e,i[2].y)||!z(i[0].y,t,i[1].y)&&!z(i[1].y,t,i[2].y))return;let r=F.from([0,0]),l=i[2].y,a=i[1].y*s-e*s+e,o=i[0].y;l+=o-2*a,a-=o,o-=e;let u=it(l,2*a,o,r);for(let h=0;h<u;++h){let c=r.get(h),y=ns(i.map(x=>x.y),s,c)/rs(s,c);if(!Z(t,y))continue;let m=new Q(i,s);n.push(m.evalTangentAt(c))}}var us=(i=>(i[i.kIsA_JustMoves=0]="kIsA_JustMoves",i[i.kIsA_MoreThanMoves=1]="kIsA_MoreThanMoves",i[i.kIsA_Oval=2]="kIsA_Oval",i[i.kIsA_RRect=3]="kIsA_RRect",i))(us||{});function hi(i,t){return Z(i.x,t.x)&&Z(i.y,t.y)}function ci(i,t,e,s,n){let r=i*Math.PI/180,l=(i+t)*Math.PI/180;if(e.y=Vt(r),e.x=Dt(r),s.y=Vt(l),s.x=Dt(l),e.equals(s)){let a=Math.abs(t);if(a<360&&a>359){let o=Ci(.001953125,t);do l-=o,s.y=Vt(l),s.x=Dt(l);while(e.equals(s))}}n.value=t>0?Nt.kCW_SkRotationDirection:Nt.kCCW_SkRotationDirection}function fi(i,t,e,s){return e==0&&(t==0||t==360)?(s.set(i.right,i.centerX),!0):i.width==0&&i.height==0?(s.set(i.right,i.top),!0):!1}function mi(i,t,e,s,n,r){let l=rt.fromScale(J(i.width),J(i.height));l.postTranslate(i.centerX,i.centerY);let a=Q.BuildUnitArc(t,e,s,l,n);return a==0&&l.mapXY(e.x,e.y,r),a}const me=class me{constructor(){k(this,"fPts",[]);k(this,"fVerbs",[]);k(this,"fConicWeights",[]);k(this,"fFillType",St.kWinding);k(this,"fIsVolatile",!1);k(this,"fSegmentMask",st.kLine_SkPathSegmentMask);k(this,"fLastMovePoint",f.zero());k(this,"fLastMoveIndex",-1);k(this,"fNeedsMoveVerb",!0);k(this,"fIsA",0);k(this,"fIsAStart",-1);k(this,"fIsACCW",!1)}static default(){return new this}static fromPathFillType(t){return this.default().setFillType(t)}static fromPath(t){return this.default().setFillType(t.getFillType()).addPath(t)}static fromPathBuilder(t){return this.default().setFillType(t.getFillType()).addPath(t)}isEmpty(){return this.fVerbs.length==0}getFillType(){return this.fFillType}isInverseFillType(){return In(this.getFillType())}getSegmentMasks(){return this.fSegmentMask}countVerbs(){return this.fVerbs.length}ensureMove(){this.fIsA=1,this.fNeedsMoveVerb&&this.moveTo(this.fLastMovePoint.x,this.fLastMovePoint.y)}copy(t){return this.fVerbs=t.fVerbs.slice(),this.fPts=t.fPts.map(e=>f.fromPoint(e)),this.fConicWeights=t.fConicWeights.slice(),this.fFillType=t.fFillType,this.fIsVolatile=t.fIsVolatile,this.fSegmentMask=t.fSegmentMask,this.fLastMovePoint.copy(t.fLastMovePoint),this.fLastMoveIndex=t.fLastMoveIndex,this}clone(){return me.default().copy(this)}reversePathTo(t){if(t.fVerbs.length==0)return this;const e=0;let s=t.countVerbs();const n=t.fVerbs,r=t.fPts;let l=r.length-1;const a=t.fConicWeights;let o=t.fConicWeights.length;for(;s>e;){let u=n[--s];switch(l-=yi(u),u){case S.kMove:return this;case S.kLine:this.lineTo(r[l]);break;case S.kQuad:this.quadTo(r[l+1],r[l]);break;case S.kConic:this.conicTo(r[l+1],r[l],a[--o]);break;case S.kCubic:this.cubicTo(r[l+2],r[l+1],r[l]);break;case S.kClose:break}}return this}reverseAddPath(t){if(t.fVerbs.length==0)return this;const e=0;let s=t.countVerbs();const n=t.fVerbs,r=t.fPts;let l=r.length;const a=t.fConicWeights;let o=t.fConicWeights.length,u=!0,h=!1;for(;s>e;){let c=n[--s],y=yi(c);switch(u&&(--l,this.moveTo(r[l]),u=!1),l-=y,c){case S.kMove:h&&(this.close(),h=!1),u=!0,l+=1;break;case S.kLine:this.lineTo(r[l]);break;case S.kQuad:this.quadTo(r[l+1],r[l]);break;case S.kConic:this.conicTo(r[l+1],r[l],a[--o]);break;case S.kCubic:this.cubicTo(r[l+2],r[l+1],r[l]);break;case S.kClose:h=!0;break}}return this}fillType(){return this.fFillType}computeBounds(){let t=N.makeEmpty(),e=this.fPts;return t.setBounds(e,e.length),t}snapshot(){}detach(){this.reset()}setFillType(t){return this.fFillType=t,this}setCanvasFillType(t){switch(t){case"evenodd":return this.setFillType(St.kEvenOdd);case"nonzero":return this.setFillType(St.kWinding)}return this}setIsVolatile(t){return this.fIsVolatile=t,this}reset(){this.fPts=[],this.fVerbs=[],this.fConicWeights=[],this.fFillType=St.kWinding,this.fIsVolatile=!1,this.fSegmentMask=0,this.fLastMovePoint=f.zero(),this.fLastMoveIndex=-1,this.fNeedsMoveVerb=!0,this.fSegmentMask=st.kLine_SkPathSegmentMask}moveTo(t,e){let s=typeof t=="number"?f.create(t,e):t;return this.fLastMoveIndex=this.fPts.length,this.fPts.push(s),this.fVerbs.push(S.kMove),this.fLastMovePoint.copy(s),this.fNeedsMoveVerb=!1,this}lineTo(t,e){let s=typeof t=="number"?f.create(t,e):t;return this.ensureMove(),this.fPts.push(s),this.fVerbs.push(S.kLine),this.fSegmentMask|=st.kLine_SkPathSegmentMask,this}quadTo(t,e,s,n){let r=typeof t=="number"?f.create(t,e):t,l=typeof e=="number"?f.create(s,n):e;return this.ensureMove(),this.fPts.push(r),this.fPts.push(l),this.fVerbs.push(S.kQuad),this.fSegmentMask|=st.kQuad_SkPathSegmentMask,this}conicTo(t,e,s,n,r){let l=typeof t=="number"?f.create(t,e):t,a=typeof e=="number"?f.create(s,n):e,o=typeof t=="number"?r:s;if(!(o>0))this.lineTo(l);else if(!yt(o))this.lineTo(l),this.lineTo(a);else if(B==r)this.quadTo(l,a);else{this.ensureMove();let u=this.lastPoint;const h=4*o/(3*(1+o));let c=u.x+(l.x-u.x)*h,y=u.y+(l.y-u.y)*h,m=a.x+(l.x-a.x)*h,x=a.y+(l.y-a.y)*h;this.cubicTo(c,y,m,x,a.x,a.y)}return this.fSegmentMask|=st.kConic_SkPathSegmentMask,this}cubicTo(t,e,s,n,r,l){this.ensureMove();let a=typeof t=="number"?f.create(t,e):t,o=typeof e=="number"?f.create(s,n):e,u=typeof s=="number"?f.create(r,l):s;return this.fPts.push(a),this.fPts.push(o),this.fPts.push(u),this.fVerbs.push(S.kCubic),this.fSegmentMask|=st.kCubic_SkPathSegmentMask,this}close(){return this.fVerbs.length>0&&(this.ensureMove(),this.fVerbs.push(S.kClose),this.fNeedsMoveVerb=!0),this}get lastPoint(){return this.fPts[this.fPts.length-1]}setLastPoint(t,e){this.lastPoint.set(t,e)}polylineTo(t,e=t.length){if(t.length>0){this.ensureMove();for(let s=0;s<e;++s)this.fPts.push(t[s]),this.fVerbs.push(S.kLine);this.fSegmentMask|=st.kLine_SkPathSegmentMask}return this}rLineTo(t,e){return this.ensureMove(),this.lineTo(this.lastPoint.x+t,this.lastPoint.y+e)}rQuadTo(t,e){this.ensureMove();let s=this.lastPoint;return this.quadTo(s.x+t.x,s.y+t.y,s.x+e.x,s.y+e.y)}rConicTo(t,e,s){this.ensureMove();let n=this.lastPoint;return this.conicTo(n.x+t.x,n.y+t.y,n.x+e.x,n.y+e.y,s)}rCubicTo(t,e,s){this.ensureMove();let n=this.lastPoint;return this.cubicTo(n.x+t.x,n.y+t.y,n.x+e.x,n.y+e.y,n.x+s.x,n.y+s.y)}arcToOval(t,e,s,n){if(t.width<0||t.height<0)return this;this.fVerbs.length<=0&&(n=!0);let l=f.default();if(fi(t,e,s,l))return n?this.moveTo(l):this.lineTo(l);let a=f.default(),o=f.default(),u=L.from(Nt.kCW_SkRotationDirection);ci(e,s,a,o,u);let h=f.default(),c=x=>{n?this.moveTo(x):hi(this.lastPoint,x)||this.lineTo(x)};if(a.equals(o)){let x=Ae(e+s),p=t.width/2,b=t.height/2;return h.set(t.centerX+p*mt(x),t.centerY+b*ue(x)),c(h),this}let y=Q.make(5),m=mi(t,a,o,u.value,y,h);if(m){this.incReserve(m*2+1);const x=y[0].fPts[0];c(x);for(let p=0;p<m;++p)this.conicTo(y[p].fPts[1],y[p].fPts[2],y[p].fW)}else c(h);return this}arcTo(t,e,s,n,r){const l=arguments.length,a=this.fVerbs,o=this.fPts;if(l===3){const u=t,h=e,c=s;if(this.ensureMove(),c==0)return this.lineTo(u);let y=this.lastPoint,m=f.create(u.x-y.x,u.y-y.y).toNormalize(),x=f.create(h.x-u.x,h.y-u.y).toNormalize(),p=m.dot(x),b=m.cross(x);if(!m.isFinite()||!x.isFinite()||et(Bt(b)))return this.lineTo(u);let d=Y(Bt(c*(1-p)/b)),g=u.x-d*m.x,_=u.y-d*m.y,T=f.create(x.x,x.y);T.setLength(d),this.lineTo(g,_);let M=K(Bt(ft+p*.5));return this.conicTo(u,u.clone().add(T),M)}else if(l===4){let u=t,h=e,c=s,y=n;if(u.width<0||u.height<0)return this;a.length<=0&&(y=!0);let m=f.default();if(fi(u,h,c,m))return y?this.moveTo(m):this.lineTo(m);let x=f.default(),p=f.default(),b=L.from(Nt.kCW_SkRotationDirection);ci(h,c,x,p,b);let d=f.default(),g=M=>{y?this.moveTo(M):hi(o[this.fPts.length-1],M)||this.lineTo(M)};if(x.equalsEpsilon(p)){let M=Ae(h+c),E=u.width/2,A=u.height/2;return d.set(u.centerX+E*mt(M),u.centerY+A*ue(M)),g(d),this}let _=Q.make(qi),T=mi(u,x,p,b.value,_,d);if(T){this.incReserve(T*2+1);const M=_[0].fPts[0];g(M);for(let E=0;E<T;++E)this.conicTo(_[E].fPts[1],_[E].fPts[2],_[E].fW)}else g(d);return this}else{let u=t,h=e,c=s,y=n,m=r;this.ensureMove();let x=[this.lastPoint.clone(),m];if(!u.x||!u.y)return this.lineTo(m);if(x[0]==x[1])return this.lineTo(m);let p=Y(u.x),b=Y(u.y),d=x[0].clone().subtract(x[1]);d.multiplyScalar(.5);let g=rt.identity();g.setRotate(-h);let _=f.default();g.mapPoints([_],[d]);let T=p*p,M=b*b,E=_.x*_.x,A=_.y*_.y,w=E/T+A/M;w>1&&(w=K(w),p*=w,b*=w),g.setScale(1/p,1/b),g.preRotate(-h);let C=[f.default(),f.default()];g.mapPoints(C,x);let D=C[1].clone().subtract(C[0]),lt=D.x*D.x+D.y*D.y,at=Math.max(1/lt-.25,0),H=K(at);y==W.kCCW!=!!c&&(H=-H),D.multiplyScalar(H);let U=C[0].clone().add(C[1]);U.multiplyScalar(.5),U.translate(-D.y,D.x),C[0].subtract(U),C[1].subtract(U);let ot=Ee(C[0].y,C[0].x),V=Ee(C[1].y,C[1].x)-ot;if(V<0&&y==W.kCW?V+=tt*2:V>0&&y!=W.kCW&&(V-=tt*2),Y(V)<tt/(1e3*1e3))return this.lineTo(m);g.setRotate(h),g.preScale(p,b);let Ft=Ei(Y(V/(2*tt/3))),Kt=V/Ft,ge=Ai(.5*Kt);if(!yt(ge))return this;let Je=ot,xs=K(ft+mt(Kt)*ft),Ht=Wt=>Wt==Ve(Wt),bs=et(tt/2-Y(Kt))&&Ht(p)&&Ht(b)&&Ht(m.x)&&Ht(m.y);for(let Wt=0;Wt<Ft;++Wt){let _e=Je+Kt,$e=Vt(_e),Ge=Dt(_e);C[1].set(Ge,$e),C[1].add(U),C[0].copy(C[1]),C[0].translate(ge*$e,-ge*Ge);let Jt=[f.default(),f.default()];if(g.mapPoints(Jt,C),bs)for(let $t of Jt)$t.x=re($t.x),$t.y=re($t.y);this.conicTo(Jt[0],Jt[1],xs),Je=_e}o[o.length-1].copy(m)}return this}addArc(t,e,s){if(t.isEmpty()||s==0)return this;const n=Ii(360);if(s>=n||s<=-n){let r=e/90,l=re(r),a=r-l;if(Z(a,0)){let o=(l+1)%4;return o=o<0?o+4:o,this.addOval(t,s>0?W.kCW:W.kCCW,o)}}return this.arcTo(t,e,s,!0)}addRect(t,e=W.kCW,s=1){let n=new Re(t,e,s);return this.moveTo(n.current),this.lineTo(n.next()),this.lineTo(n.next()),this.lineTo(n.next()),this.close()}addOval(t,e=W.kCW,s=0){const n=this.fIsA;this.incReserve(9,6);let a=new qn(t,e,s),o=new Re(t,e,s+(e==W.kCW?0:1));this.moveTo(a.current);for(let u=0;u<4;++u)this.conicTo(o.next(),a.next(),oe);return this.close(),n==0&&(this.fIsA=2,this.fIsACCW=e==W.kCCW,this.fIsAStart=s%4),this}addRRect(t,e=W.kCW,s=e==W.kCW?6:7){const n=this.fIsA,r=t.getBounds();if(t.isRect()||t.isEmpty())this.addRect(r,e,(s+1)/2);else if(t.isOval())this.addOval(r,e,s/2);else{const l=(s&1)==+(e==W.kCW),a=oe,o=l?9:10;this.incReserve(o);let u=new Qn(t,e,s);const h=s/2+(e==W.kCW?0:1);let c=new Re(r,e,h);if(this.moveTo(u.current),l){for(let y=0;y<3;++y)this.conicTo(c.next(),u.next(),a),this.lineTo(u.next());this.conicTo(c.next(),u.next(),a)}else for(let y=0;y<4;++y)this.lineTo(u.next()),this.conicTo(c.next(),u.next(),a);this.close()}return n==0&&(this.fIsA=3,this.fIsACCW=e==W.kCCW,this.fIsAStart=s%8),this}addCircle(t,e,s,n=W.kCW){return s>=0&&this.addOval(N.makeLTRB(t-s,e-s,t+s,e+s),n),this}addPolygon(t,e,s){return e<=0?this:(this.moveTo(t[0]),this.polylineTo(t.slice(1),e-1),s&&this.close(),this)}getBounds(){const t=N.makeLTRB(1/0,1/0,-1/0,-1/0);return t.setBounds(this.fPts,this.fPts.length),t}computeTightBounds(){if(this.countVerbs()==0)return N.makeEmpty();if(this.getSegmentMasks()==st.kLine_SkPathSegmentMask)return this.getBounds();let t=new Array(5).fill(0).map(()=>f.default()),e=f.default(),s=f.default(),n=this.fPts,r=0,l=0;for(let o=0;o<this.fVerbs.length;++o){let u=0;switch(this.fVerbs[o]){case S.kMove:t[0].copy(n[r]),r+=1,u=1;break;case S.kLine:t[0].copy(n[r]),r+=1,u=1;break;case S.kQuad:let c=[n[r-1],n[r],n[r+1]];u=Ui(c,t),r+=2;break;case S.kConic:let y=[n[r-1],n[r],n[r+1]];u=Hi(y,this.fConicWeights[l++],t);break;case S.kCubic:let m=[n[r-1],n[r],n[r+1],n[r+2]];u=Ki(m,t),r+=3;break;case S.kClose:break}for(let c=0;c<u;++c){let y=t[c];e.min(y),s.max(y)}}let a=N.makeEmpty();return a.setLTRB(e.x,e.y,s.x,s.y),a}contains(t,e,s="nonzero"){return this.setCanvasFillType(s),hs(t,e,this)}addPath(t){for(let{type:e,p0:s,p1:n,p2:r,p3:l}of t)switch(e){case S.kMove:this.moveTo(s);break;case S.kLine:this.lineTo(s);break;case S.kQuad:this.quadTo(n,r);break;case S.kCubic:this.cubicTo(n.x,n.y,r.x,r.y,l.x,l.y);break;case S.kClose:this.close();break}return this}incReserve(t,e){}transform(t){if(t.isIdentity())return this;for(let e=0;e<this.fPts.length;++e)this.fPts[e].applyMatrix2D(t)}getLastPt(t){let e=this.fPts.length;return e>0?(t&&t.copy(this.fPts[e-1]),!0):(t&&t.set(0,0),!1)}offset(t,e){}toggleInverseFillType(){return this.fFillType=this.fFillType^2,this}isZeroLengthSincePoint(t){let e=this.fPts.length-t;if(e<2)return!0;let s=this.fPts[t];for(let n=1;n<e;n++)if(s.equals(this.fPts[n]))return!1;return!0}*[Symbol.iterator](){let t=0,e=f.default();for(let s=0;s<this.fVerbs.length;++s){let n=this.fVerbs[s];switch(n){case S.kMove:yield{type:n,p0:this.fPts[t]},e.copy(this.fPts[t]),t+=1;break;case S.kLine:yield{type:n,p0:this.fPts[t]},t+=1;break;case S.kQuad:yield{type:n,p0:this.fPts[t-1],p1:this.fPts[t],p2:this.fPts[t+1]},t+=2;break;case S.kCubic:yield{type:n,p0:this.fPts[t-1],p1:this.fPts[t],p2:this.fPts[t+1],p3:this.fPts[t+2]},t+=3;break;case S.kClose:yield{type:n,p0:e,p1:this.fPts[t-1]};break}}}toCanvas(t){for(let{type:e,p0:s,p1:n,p2:r,p3:l}of this)switch(e){case S.kMove:t.moveTo(s.x,s.y);break;case S.kLine:t.lineTo(s.x,s.y);break;case S.kQuad:t.quadraticCurveTo(n.x,n.y,r.x,r.y);break;case S.kCubic:t.bezierCurveTo(n.x,n.y,r.x,r.y,l.x,l.y);break;case S.kClose:t.closePath();break}}toPath2D(){const t=new Path2D;return this.toCanvas(t),t}toSvgPath(){let t=[];for(let{type:e,p0:s,p1:n,p2:r,p3:l}of this)switch(e){case S.kMove:t.push(["M",s.x,s.y]);break;case S.kLine:t.push(["L",s.x,s.y]);break;case S.kQuad:t.push(["Q",n.x,n.y,r.x,r.y]);break;case S.kCubic:t.push(["C",n.x,n.y,r.x,r.y,l.x,l.y]);break;case S.kClose:t.push(["Z"]);break}return t.map(e=>e[0]+e.slice(1).join(" ")).join("")}};k(me,"IsA",us);let _t=me;const yi=i=>{switch(i){case S.kMove:return 1;case S.kLine:return 1;case S.kConic:case S.kQuad:return 2;case S.kCubic:return 3;default:return 0}};class Ue{constructor(t,e,s){k(this,"fPts",[]);k(this,"size",0);k(this,"fCurrent");k(this,"fAdvance");this.size=t,this.fPts=new Array(t),this.fCurrent=Math.trunc(s)%t,this.fAdvance=e==W.kCW?1:t-1}get current(){return this.fPts[this.fCurrent]}next(t=0){return this.fCurrent=(this.fCurrent+t*this.fAdvance+this.fAdvance)%this.size,this.current}}class qn extends Ue{constructor(t,e,s){super(4,e,s);const n=t.centerX,r=t.centerY;this.fPts[0]=f.create(n,t.top),this.fPts[1]=f.create(t.right,r),this.fPts[2]=f.create(n,t.bottom),this.fPts[3]=f.create(t.left,r)}}class Re extends Ue{constructor(t,e,s){super(4,e,s),this.fPts[0]=f.create(t.left,t.top),this.fPts[1]=f.create(t.right,t.top),this.fPts[2]=f.create(t.right,t.bottom),this.fPts[3]=f.create(t.left,t.bottom)}}class Qn extends Ue{constructor(t,e,s){super(8,e,s);const n=t.getBounds(),r=n.left,l=n.top,a=n.right,o=n.bottom,u=t.fRadii,h=ct.Corner.kUpperLeft_Corner,c=ct.Corner.kUpperRight_Corner,y=ct.Corner.kLowerRight_Corner,m=ct.Corner.kLowerLeft_Corner;this.fPts[0]=f.create(r+u[h].x,l),this.fPts[1]=f.create(a-u[c].x,l),this.fPts[2]=f.create(a,l+u[c].y),this.fPts[3]=f.create(a,o-u[y].y),this.fPts[4]=f.create(a-u[y].x,o),this.fPts[5]=f.create(r+u[m].x,o),this.fPts[6]=f.create(r,o-u[m].y),this.fPts[7]=f.create(r,l+u[h].y)}}function hs(i,t,e){const s=e.getFillType();let n=e.isInverseFillType();if(e.countVerbs()<=0||!e.getBounds().containPoint(i,t))return n;let l=new wn(e,!0),a=!1,o=0,u=L.from(0),h=[f.default(),f.default(),f.default(),f.default()];do switch(l.next(h)){case R.kMoveTo:case R.kClose:break;case R.kLineTo:o+=Gi(h,i,t,u);break;case R.kQuadCurveTo:o+=is(h,i,t,u);break;case R.kConicTo:break;case R.kCubicCurveTo:o+=ss(h,i,t,u);break;case R.kDone:a=!0;break}while(!a);let c=St.kEvenOdd==s||St.kInverseEvenOdd==s;if(c&&(o&=1),o)return!n;if(u.value<=1)return!!(Number(u.value)^Number(n));if(u.value&1||c)return!!(Number(u.value&1)^Number(n));l.setPath(e,!0),a=!1;let y=[];do{let m=y.length;switch(l.next(h)){case R.kMoveTo:case R.kClose:break;case R.kLineTo:ls(h,i,t,y);break;case R.kQuadCurveTo:as(h,i,t,y);break;case R.kConicTo:break;case R.kCubicCurveTo:os(h,i,t,y);break;case R.kDone:a=!0;break}if(y.length>m){let x=y.length-1;const p=y[x];if(et(p.dot(p)))y.splice(x,1);else for(let b=0;b<x;++b){const d=y[b];if(et(d.cross(p))&&Ne(p.x*d.x)<=0&&Ne(p.y*d.y)<=0){y.splice(x,1),y.splice(b,1,y[y.length]);break}}}}while(!a);return Number(y.length^Number(n))}var cs=(i=>(i.Miter="miter",i.Round="round",i.Bevel="bevel",i.MiterClip="miter-clip",i))(cs||{}),fs=(i=>(i.Butt="butt",i.Round="round",i.Square="square",i))(fs||{}),ms=(i=>(i.NonZero="nonzero",i.EvenOdd="evenodd",i))(ms||{});class Se{constructor(t){k(this,"isAutoClose",!1);k(this,"path");k(this,"verbIndex");k(this,"pointsIndex");k(this,"lastMoveTo",f.default());k(this,"lastPoint",f.default());this.isAutoClose=t.isAutoClose??!1,this.verbIndex=t.verbIndex,this.pointsIndex=t.pointsIndex,this.path=t.path,t.lastMoveTo&&this.lastMoveTo.copy(t.lastMoveTo),t.lastPoint&&this.lastPoint.copy(t.lastPoint)}get curVerb(){return this.path.fVerbs[this.verbIndex-1]}get nextVerb(){return this.path.fVerbs[this.verbIndex]}copy(t){return this.isAutoClose=t.isAutoClose,this.verbIndex=t.verbIndex,this.pointsIndex=t.pointsIndex,this.lastMoveTo.copy(t.lastMoveTo),this.lastPoint.copy(t.lastPoint),this}clone(){return new Se({isAutoClose:this.isAutoClose,path:this.path,verbIndex:this.verbIndex,pointsIndex:this.pointsIndex,lastMoveTo:this.lastMoveTo,lastPoint:this.lastPoint})}*[Symbol.iterator](){const t=this.path.fPts.map(n=>f.fromPoint(n)),e=this.path.fVerbs;let s=null;for(;this.verbIndex<e.length;){const n=e[this.verbIndex++];switch(n){case S.kMove:this.pointsIndex+=1,s=t[this.pointsIndex-1],this.lastMoveTo.copy(s),this.lastPoint.copy(this.lastMoveTo),yield{type:n,p0:t[this.pointsIndex-1]};break;case S.kLine:this.pointsIndex+=1,this.lastPoint.copy(t[this.pointsIndex-1]),yield{type:n,p0:t[this.pointsIndex-1]};break;case S.kQuad:this.pointsIndex+=2,this.lastPoint.copy(t[this.pointsIndex-1]),yield{type:n,p0:t[this.pointsIndex-3],p1:t[this.pointsIndex-2],p2:t[this.pointsIndex-1]};break;case S.kCubic:this.pointsIndex+=3,this.lastPoint.copy(t[this.pointsIndex-1]),yield{type:n,p0:t[this.pointsIndex-4],p1:t[this.pointsIndex-3],p2:t[this.pointsIndex-2],p3:t[this.pointsIndex-1]};break;case S.kClose:const r=this.autoClose();this.lastPoint.copy(this.lastMoveTo),yield r;break}}}hasValidTangent(){let t=this.clone();for(let e of t)switch(e.type){case S.kMove:return!1;case S.kLine:{if(t.lastPoint.equals(e.p0))continue;return!0}case S.kQuad:{if(t.lastPoint.equals(e.p1)&&t.lastPoint.equals(e.p2))continue;return!0}case S.kCubic:{if(t.lastPoint.equals(e.p1)&&t.lastPoint.equals(e.p2)&&t.lastPoint.equals(e.p3))continue;return!0}case S.kClose:return!1}return!1}setAutoClose(t){this.isAutoClose=t}autoClose(){return this.isAutoClose&&!this.lastPoint.equals(this.lastMoveTo)?(this.verbIndex-=1,{type:S.kLine,p0:this.lastMoveTo}):{type:S.kClose,p0:this.lastPoint,p1:this.lastMoveTo}}}class zn{constructor(t,e){this.inner=t,this.outer=e}swap(){[this.inner,this.outer]=[this.outer,this.inner]}}const Qe=.707106781,ze=(i,t,e,s,n)=>{n.lineTo(e.x,e.y)},Bn=(i,t,e,s,n)=>{let r=t.clone();r.cw();let l=i.clone().add(r),a=l.clone().add(t);n.conicTo(a.x,a.y,l.x,l.y,Qe),a.copy(l).subtract(t),n.conicTo(a.x,a.y,e.x,e.y,Qe)},Vn=(i,t,e,s,n)=>{let r=t.clone();r.cw(),s?(n.setLastPoint(i.x+t.x+r.x,i.y+t.y+r.y),n.lineTo(i.x-t.x+r.x,i.y-t.y+r.y)):(n.lineTo(i.x+t.x+r.x,i.y+t.y+r.y),n.lineTo(i.x-t.x+r.x,i.y-t.y+r.y),n.lineTo(e.x,e.y))};function di(i){return Math.abs(i)<=He}function ys(i){return i>=0?di(1-i)?3:2:di(1+i)?0:1}function Ke(i,t){return i.x*t.y>i.y*t.x}function fe(i,t,e){e.lineTo(i.x,i.y),e.lineTo(i.x-t.x,i.y-t.y)}const ds=(i,t,e,s,n,r,l,a,o)=>{function u(g,_,T,M,E,A,w,C,D,lt){if(C=C.clone(),C.multiplyScalar(T),w=w.clone(),A=A.clone(),lt){w.normalize();let at=A.dot(w),H=A.cross(w),U=0;Math.abs(H)<=He?U=1/D:U=(1/D-at)/H,A.multiplyScalar(T);let ot=A.clone();ot.cw();let Tt=C.clone();Tt.ccw();let V=f.default();V.addVectors(_,A).add(ot.clone().multiplyScalar(U));let Ft=f.default();V.addVectors(_,C).add(Tt.clone().multiplyScalar(U)),M?g.outer.setLastPoint(V.x,V.y):g.outer.lineTo(V.x,V.y),g.outer.lineTo(Ft.x,Ft.y)}E||g.outer.lineTo(_.x+C.x,_.y+C.y),fe(_,C,g.inner)}function h(g,_,T,M,E,A,w){w=w.clone(),w.multiplyScalar(T),M?g.outer.setLastPoint(_.x+A.x,_.y+A.y):g.outer.lineTo(_.x+A.x,_.y+A.y),E||g.outer.lineTo(_.x+w.x,_.y+w.y),fe(_,w,g.inner)}let c=i.dot(e),y=ys(c),m=i.clone(),x=e.clone(),p=f.default();if(y==3)return;if(y==0){a=!1,p.subtractVectors(x,m).multiplyScalar(s/2),u(o,t,s,l,a,m,p,x,n,r);return}let b=!Ke(m,x);if(b&&(o.swap(),m.negate(),x.negate()),c==0&&n<=Qe){p.addVectors(m,x).multiplyScalar(s),h(o,t,s,l,a,p,x);return}y==1?(p=f.create(x.y-m.y,m.x-x.x),b&&p.negate()):p=f.create(m.x+x.x,m.y+x.y);let d=Math.sqrt((1+c)/2);if(d<n){a=!1,u(o,t,s,l,a,m,p,x,n,r);return}p.setLength(s/d),h(o,t,s,l,a,p,x)},Dn=(i,t,e,s,n,r,l,a)=>{let o=e.clone().multiplyScalar(s);Ke(i,e)||(a.swap(),o.negate()),a.outer.lineTo(t.x+o.x,t.y+o.y),fe(t,o,a.inner)},On=(i,t,e,s,n,r,l,a)=>ds(i,t,e,s,n,!1,r,l,a),Yn=(i,t,e,s,n,r,l,a)=>{ds(i,t,e,s,n,!0,r,l,a)},Be=(i,t,e,s,n,r,l,a)=>{let o=i.dot(e);if(ys(o)==3)return;let h=i.clone(),c=e.clone(),y=W.kCW;Ke(h,c)||(a.swap(),h.negate(),c.negate(),y=W.kCCW);let m=rt.fromRows(s,0,0,s,t.x,t.y),x=new Array(5).fill(0).map(()=>new Q),p=Q.BuildUnitArc(h,c,y,m,x);if(p>0){x=x.slice(0,p);for(let b of x)a.outer.conicTo(b.fPts[1],b.fPts[2],b.fW);c.multiplyScalar(s),fe(t,c,a.inner)}};function pi(i,t,e,s,n,r){return r.setLengthFrom((t.x-i.x)*e,(t.y-i.y)*e,1)?(r.ccw(),n.copy(r).multiplyScalar(s),!0):!1}function Xn(i,t,e,s){return s.setLengthFrom(i.x,i.y,1)?(s.ccw(),e.copy(s).multiplyScalar(t),!0):!1}class ne{constructor(){k(this,"quad",[f.default(),f.default(),f.default()]);k(this,"tangent_start",f.default());k(this,"tangent_end",f.default());k(this,"start_t",0);k(this,"mid_t",0);k(this,"end_t",0);k(this,"start_set",!1);k(this,"end_set",!1);k(this,"opposite_tangents",!1)}static default(){return new this}init(t,e){return this.start_t=t,this.mid_t=Math.min(1,Math.max(0,(t+e)/2)),this.end_t=e,this.start_set=!1,this.end_set=!1,this.start_t<this.mid_t&&this.mid_t<this.end_t}initWithStart(t){const e=this;return e.init(t.start_t,t.mid_t)?(e.quad[0].copy(t.quad[0]),e.tangent_start.copy(t.tangent_start),e.start_set=!0,!0):!1}initWithEnd(t){const e=this;return e.init(t.mid_t,t.end_t)?(e.quad[2].copy(t.quad[2]),e.tangent_end.copy(t.tangent_end),e.end_set=!0,!0):!1}}function jn(i){let t=nt(i[1].clone().sub(i[0])),e=nt(i[2].clone().sub(i[1]));if(t&e)return[f.default(),0];if(t|e)return[f.default(),1];if(!Zn(i))return[f.default(),2];let s=Vi(i);return s==0||s==1?[f.default(),1]:[gt(i,s),3]}function nt(i){return+!i.canNormalize()}function Zn(i){let t=-1,e=0,s=0;for(let a=0;a<2;a++)for(let o=a+1;o<3;o++){let u=i[o].clone().sub(i[a]),h=Math.max(Math.abs(u.x),Math.abs(u.y));t<h&&(e=a,s=o,t=h)}console.assert(e<=1),console.assert(s>=1&&s<=2),console.assert(e<s);let n=e^s^3,l=t*t*5e-6;return At(i[n],i[e],i[s])<=l}function At(i,t,e){let s=e.clone().sub(t),n=i.clone().sub(t),r=s.dot(n),l=s.dot(s),a=r/l;return a>=0&&a<=1?f.create(t.x*(1-a)+e.x*a,t.y*(1-a)+e.y*a).distanceToSquared(i):i.distanceToSquared(t)}function Un(i,t,e){let s=i[1].clone().sub(i[0]),n=[0,0,0];for(let u=0;u<3;u++)n[u]=(t[u].y-i[0].y)*s.x-(t[u].x-i[0].x)*s.y;let r=n[2],l=n[1],a=n[0];r+=a-2*l,l-=a;let o=it(r,2*l,a,F.from(e));return e.slice(0,o)}function Ie(i,t,e){return i.distanceToSquared(t)<=e*e}function ki(i){let t=i[1].clone().sub(i[0]),e=i[1].clone().sub(i[2]),s=t.lengthSquared(),n=e.lengthSquared();return s>n&&([t,e]=[e,t],n=s),t.setLength(n)?t.dot(e)>0:!1}function Kn(i,t,e){let s=Math.min(i[0].x,i[1].x,i[2].x);if(t.x+e<s)return!1;let n=Math.max(i[0].x,i[1].x,i[2].x);if(t.x-e>n)return!1;let r=Math.min(i[0].y,i[1].y,i[2].y);if(t.y+e<r)return!1;let l=Math.max(i[0].y,i[1].y,i[2].y);return!(t.y-e>l)}function Hn(i,t,e){let s=nt(i[1].clone().sub(i[0])),n=nt(i[2].clone().sub(i[1])),r=nt(i[3].clone().sub(i[2]));if(s&n&r)return 0;if(s+n+r==2)return 1;if(!Jn(i))return e&&(s?e.copy(i[2]):e.copy(i[1])),2;let l=[0,0,0],a=Ze(i,l),o=0;l=l.slice(0,a);for(let u of l){if(0>=u||u>=1)continue;let h=jt(i,u);t[o]=f.create(h.x,h.y),!t[o].equals(i[0])&&!t[o].equals(i[3])&&(o+=1)}switch(o){case 0:return 1;case 1:return 1;case 2:return 4;case 3:return 5;default:return-1}}function Jn(i){let t=-1,e=0,s=0;for(let a=0;a<3;a++)for(let o=a+1;o<4;o++){let u=i[o].clone().sub(i[a]),h=Math.max(Math.abs(u.x),Math.abs(u.y));t<h&&(e=a,s=o,t=h)}let n=1+(2>>s)>>e,r=e^s^n,l=t*t*1e-5;return At(i[n],i[e],i[s])<=l&&At(i[r],i[e],i[s])<=l}const $n={bevel:Dn,miter:On,"miter-clip":Yn,round:Be},Gn={butt:ze,round:Bn,square:Vn},tr=3,xi=[15,78,33,33],He=1/4096;class er{constructor(){k(this,"radius",0);k(this,"inv_miter_limit",0);k(this,"res_scale",1);k(this,"inv_res_scale",1);k(this,"inv_res_scale_squared",1);k(this,"first_normal",f.default());k(this,"prev_normal",f.default());k(this,"first_unit_normal",f.default());k(this,"prev_unit_normal",f.default());k(this,"first_pt",f.default());k(this,"prev_pt",f.default());k(this,"first_outer_pt",f.default());k(this,"first_outer_pt_index_in_contour",0);k(this,"segment_count",-1);k(this,"prev_is_line",!1);k(this,"capper");k(this,"joiner");k(this,"inner",_t.default());k(this,"outer",_t.default());k(this,"cusper",_t.default());k(this,"stroke_type",1);k(this,"recursion_depth",0);k(this,"found_tangents",!1);k(this,"join_completed",!1)}static computeResolutionScale(t){let e=f.create(t.a,t.b).length(),s=f.create(t.c,t.d).length();if(Number.isFinite(e)&&Number.isFinite(s)){let n=Math.max(e,s);if(n>0)return n}return 1}get moveToPt(){return this.first_pt}builders(){return new zn(this.inner,this.outer)}close(t){this.finishContour(!0,t)}moveTo(t){this.segment_count>0&&this.finishContour(!1,!1),this.segment_count=0,this.first_pt.copy(t),this.prev_pt.copy(t),this.join_completed=!1}finishContour(t,e){const s=this;if(s.segment_count>0){if(t){s.joiner(s.prev_unit_normal,s.prev_pt,s.first_unit_normal,s.radius,s.inv_miter_limit,s.prev_is_line,e,s.builders()),s.outer.close();let n=s.inner.lastPoint??f.create(0,0);s.outer.moveTo(n.x,n.y),s.outer.reversePathTo(s.inner),s.outer.close()}else{let n=s.inner.lastPoint?f.fromPoint(s.inner.lastPoint):f.create(0,0),r=e?s.inner:null;s.capper(s.prev_pt,s.prev_normal,n,r,s.outer),s.outer.reversePathTo(s.inner),r=s.prev_is_line?s.inner:null,s.capper(s.first_pt,s.first_normal.clone().negate(),s.first_outer_pt,r,s.outer),s.outer.close()}s.cusper.isEmpty||(s.outer.addPath(s.cusper),s.cusper.reset())}s.inner.reset(),s.segment_count=-1,s.first_outer_pt_index_in_contour=s.outer.fPts.length}preJoinTo(t,e,s,n){const r=this;let l=r.prev_pt.x,a=r.prev_pt.y;if(!pi(r.prev_pt,t,r.res_scale,r.radius,s,n)){if(r.capper===ze)return!1;s.set(r.radius,0),n.set(1,0)}return r.segment_count==0?(r.first_normal.copy(s),r.first_unit_normal.copy(n),r.first_outer_pt=f.create(l+s.x,a+s.y),r.outer.moveTo(r.first_outer_pt.x,r.first_outer_pt.y),r.inner.moveTo(l-s.x,a-s.y)):r.joiner(r.prev_unit_normal,r.prev_pt,n,r.radius,r.inv_miter_limit,r.prev_is_line,e,r.builders()),r.prev_is_line=e,!0}postJoinTo(t,e,s){this.join_completed=!0,this.prev_pt.copy(t),this.prev_unit_normal.copy(s),this.prev_normal.copy(e),this.segment_count+=1}initQuad(t,e,s,n){this.stroke_type=t,this.found_tangents=!1,n.init(e,s)}quadStroke(t,e){let s=this,n=s.compareQuadQuad(t,e);if(n==2)return(s.stroke_type==1?s.outer:s.inner).quadTo(e.quad[1].x,e.quad[1].y,e.quad[2].x,e.quad[2].y),!0;if(n==1)return s.addDegenerateLine(e),!0;if(s.recursion_depth+=1,s.recursion_depth>xi[tr])return!1;let r=ne.default();return r.initWithStart(e),!s.quadStroke(t,r)||(r.initWithEnd(e),!s.quadStroke(t,r))?!1:(s.recursion_depth-=1,!0)}compareQuadQuad(t,e){const s=this;if(!e.start_set){let a=f.zero();s.quadPerpRay(t,e.start_t,a,e.quad[0],e.tangent_start),e.start_set=!0}if(!e.end_set){let a=f.zero();s.quadPerpRay(t,e.end_t,a,e.quad[2],e.tangent_end),e.end_set=!0}let n=s.intersectRay(0,e);if(n!=2)return n;let r=f.zero(),l=f.zero();return s.quadPerpRay(t,e.mid_t,l,r),s.strokeCloseEnough(e.quad.slice(),[r,l],e)}setRayPoints(t,e,s,n){const r=this;e.setLength(r.radius)||e.copy(f.create(r.radius,0));let l=r.stroke_type;s.x=t.x+l*e.y,s.y=t.y-l*e.x,n&&(n.x=s.x+e.x,n.y=s.y+e.y)}quadPerpRay(t,e,s,n,r){let l=this,a=gt(t,e);s.set(a.x,a.y),a=pe(t,e);let o=f.create(a.x,a.y);o.isZero()&&(o=t[2].sub(t[0])),l.setRayPoints(s,o,n,r)}strokeCloseEnough(t,e,s){const n=this;let l=gt(t,.5);if(Ie(e[0],f.create(l.x,l.y),n.inv_res_scale))return ki(s.quad)?0:2;if(!Kn(t,e[0],n.inv_res_scale))return 0;let a=new Array(3).fill(.5);if(a=Un(e,t,a),a.length!=1)return 0;let o=gt(t,a[0]),u=n.inv_res_scale*(1-Math.abs(a[0]-.5)*2);return Ie(e[0],f.create(o.x,o.y),u)?ki(s.quad)?0:2:0}intersectRay(t,e){const s=this;let n=e.quad[0],r=e.quad[2],l=e.tangent_start.clone().sub(n),a=e.tangent_end.clone().sub(r),o=l.cross(a);if(o==0||!Number.isFinite(o))return e.opposite_tangents=l.dot(a)<0,1;e.opposite_tangents=!1;let u=n.clone().sub(r),h=a.cross(u),c=l.cross(u);if(h>=0==c>=0){let m=At(n,r,e.tangent_end),x=At(r,n,e.tangent_start);return Math.max(m,x)<=s.inv_res_scale_squared?1:0}return h/=o,h>h-1?(t==0&&(e.quad[1].x=n.x*(1-h)+e.tangent_start.x*h,e.quad[1].y=n.y*(1-h)+e.tangent_start.y*h),2):(e.opposite_tangents=l.dot(a)<0,1)}addDegenerateLine(t){const e=this;e.stroke_type==1?e.outer.lineTo(t.quad[2].x,t.quad[2].y):e.inner.lineTo(t.quad[2].x,t.quad[2].y)}setCubicEndNormal(t,e,s,n,r){let l=this,a=t[1].clone().sub(t[0]),o=t[3].clone().sub(t[2]),u=nt(a),h=nt(o);if(u&&h){n.copy(e),r.copy(s);return}if(u&&(a=t[2].clone().sub(t[0]),u=nt(a)),h&&(o=t[3].clone().sub(t[1]),h=nt(o)),u||h){n.copy(e),r.copy(s);return}return Xn(o,l.radius,n,r)}lineTo(t,e){const s=this;let n=s.prev_pt.equalsEpsilon(t,He*s.inv_res_scale);if(s.capper,ze&&n||n&&(s.join_completed||e&&e.hasValidTangent()))return;let r=f.default(),l=f.default();s.preJoinTo(t,!0,r,l)&&(s.outer.lineTo(t.x+r.x,t.y+r.y),s.inner.lineTo(t.x-r.x,t.y-r.y),s.postJoinTo(t,r,l))}quadraticCurveTo(t,e){const s=this;let n=[s.prev_pt,t,e],[r,l]=jn(n);if(l==0){s.lineTo(e);return}if(l==1){s.lineTo(e);return}if(l==3){s.lineTo(r);let m=s.joiner;s.joiner=Be,s.lineTo(e),s.joiner=m;return}let a=f.default(),o=f.default(),u=f.default(),h=f.default();if(!s.preJoinTo(t,!1,a,o)){s.lineTo(e);return}let c=ne.default();s.initQuad(1,0,1,c),s.quadStroke(n,c),s.initQuad(-1,0,1,c),s.quadStroke(n,c),pi(n[1],n[2],s.res_scale,s.radius,u,h)||(u=a,h=o),s.postJoinTo(e,u,h)}bezierCurveTo(t,e,s){const n=this;let r=[n.prev_pt,t,e,s],l=Array.from({length:3},()=>f.zero()),a=f.zero(),o=Hn(r,l,a);if(o==0){n.lineTo(s);return}if(o==1){n.lineTo(s);return}if(3<=o&&5>=o){n.lineTo(l[0]);let d=n.joiner;n.joiner=Be,4<=o&&n.lineTo(l[1]),o==5&&n.lineTo(l[2]),n.lineTo(s),n.joiner=d;return}let u=f.zero(),h=f.zero(),c=f.zero(),y=f.zero();if(!n.preJoinTo(a,!1,u,h)){n.lineTo(s);return}let m=new Array(3).fill(.5),x=ji(r,m);m=m.slice(0,x);let p=0;for(let d=0,g=m.length;d<=g;d++){let _=Number.isFinite(m[d])?m[d]:1,T=ne.default();n.initQuad(1,p,_,T),n.cubicStroke(r,T),n.initQuad(-1,p,_,T),n.cubicStroke(r,T),p=_}let b=Zi(r);if(b){let d=jt(r,b);n.cusper.addCircle(d.x,d.y,n.radius)}n.setCubicEndNormal(r,u,h,c,y),n.postJoinTo(s,c,y)}cubicStroke(t,e){const s=this;if(!s.found_tangents){let r=s.tangentsMeet(t,e);if(r!=2){let l=Ie(e.quad[0],e.quad[2],s.inv_res_scale);if((r==1||l)&&s.cubicMidOnLine(t,e))return s.addDegenerateLine(e),!0}else s.found_tangents=!0}if(s.found_tangents){let r=s.compareQuadCubic(t,e);if(r==2){let l=e.quad;return s.stroke_type==1?s.outer.quadTo(l[1].x,l[1].y,l[2].x,l[2].y):s.inner.quadTo(l[1].x,l[1].y,l[2].x,l[2].y),!0}if(r==1&&!e.opposite_tangents)return s.addDegenerateLine(e),!0}if(!Number.isFinite(e.quad[2].x)||!Number.isFinite(e.quad[2].x)||(s.recursion_depth+=1,s.recursion_depth>xi[Number(s.found_tangents)]))return!1;let n=ne.default();return n.initWithStart(e)?s.cubicStroke(t,n)?n.initWithEnd(e)?s.cubicStroke(t,n)?(s.recursion_depth-=1,!0):!1:(s.addDegenerateLine(e),s.recursion_depth-=1,!0):!1:(s.addDegenerateLine(e),s.recursion_depth-=1,!0)}cubicMidOnLine(t,e){let s=this,n=f.zero();return s.cubicQuadMid(t,e,n),At(n,e.quad[0],e.quad[2])<s.inv_res_scale_squared}cubicQuadMid(t,e,s){let n=f.zero();this.cubicPerpRay(t,e.mid_t,n,s)}compareQuadCubic(t,e){let s=this;s.cubicQuadEnds(t,e);let n=s.intersectRay(0,e);if(n!=2)return n;let r=f.zero(),l=f.zero();return s.cubicPerpRay(t,e.mid_t,l,r),s.strokeCloseEnough(e.quad.slice(),[r,l],e)}cubicQuadEnds(t,e){const s=this;if(!e.start_set){let n=f.zero();s.cubicPerpRay(t,e.start_t,n,e.quad[0],e.tangent_start),e.start_set=!0}if(!e.end_set){let n=f.zero();s.cubicPerpRay(t,e.end_t,n,e.quad[2],e.tangent_end),e.end_set=!0}}tangentsMeet(t,e){return this.cubicQuadEnds(t,e),this.intersectRay(1,e)}cubicPerpRay(t,e,s,n,r){let l=this;s.copy(jt(t,e));let a=Oe(t,e),o=Array.from({length:7},()=>f.zero());if(a.x==0&&a.y==0){let u=t;et(e)?a=t[2].clone().sub(t[0]):et(1-e)?a=t[3].clone().sub(t[1]):(Ut(t,o,e),a=o[3].clone().sub(o[2]),a.x==0&&a.y==0&&(a=o[3].clone().sub(o[1]),u=o)),a.x==0&&a.y==0&&(a=u[3].clone().sub(u[0]))}l.setRayPoints(s,a,n,r)}stroke(t,e){return this.strokeInner(t,e.strokeWidth,e.miterLimit,e.lineCap,e.lineJoin,this.res_scale)}strokeInner(t,e,s,n,r,l){const a=this;let o=0;r=="miter"&&(s<=1?r="bevel":o=1/s),r=="miter-clip"&&(o=1/s),a.res_scale=l,a.inv_res_scale=1/(l*4),a.inv_res_scale_squared=a.inv_res_scale**2,a.radius=e*.5,a.inv_miter_limit=o,a.first_normal=f.default(),a.prev_normal=f.default(),a.first_unit_normal=f.default(),a.prev_unit_normal=f.default(),a.first_pt=f.default(),a.prev_pt=f.default(),a.first_outer_pt=f.default(),a.first_outer_pt_index_in_contour=0,a.segment_count=-1,a.prev_is_line=!1,a.capper=Gn[n],a.joiner=$n[r],a.inner.reset(),a.outer.reset(),a.cusper.reset(),a.stroke_type=1,a.recursion_depth=0,a.found_tangents=!1,a.join_completed=!1;let u=!1,h=new Se({path:t,verbIndex:0,pointsIndex:0,isAutoClose:!0});h.setAutoClose(!0);for(let c of h)switch(c.type){case S.kMove:a.moveTo(c.p0);break;case S.kLine:a.lineTo(c.p0,h),u=!0;break;case S.kQuad:a.quadraticCurveTo(c.p1,c.p2),u=!1;break;case S.kCubic:a.bezierCurveTo(c.p1,c.p2,c.p3),u=!1;break;case S.kClose:if(n!="butt"){if(a.hasOnlyMoveTo()){a.lineTo(a.moveToPt),u=!0;continue}if(a.isCurrentContourEmpty()){u=!0;continue}}a.close(u);break}return a.finish(u)}finish(t){return this.finishContour(!1,t),this.outer.clone()}hasOnlyMoveTo(){return this.segment_count==0}isCurrentContourEmpty(){return this.inner.isZeroLengthSincePoint(0)&&this.outer.isZeroLengthSincePoint(this.first_outer_pt_index_in_contour)}}const ir=(i,t)=>i[0]*t[0]+i[1]*t[1],sr=(i,t)=>i[0]*t[1]-i[1]*t[0],bi=(i,t)=>Math.atan2(sr(i,t),ir(i,t));function nr(i,t,e,s,n,r,l,a,o){let u=Math.cos(o),h=Math.sin(o),c=u*(i-e)/2+h*(t-s)/2,y=-h*(i-e)/2+u*(t-s)/2,m=c*c/(l*l)+y*y/(a*a);m>1&&(m=Math.sqrt(m),l*=m,a*=m);let x=n!==r?1:-1,p=(l*l*a*a-l*l*y*y-a*a*c*c)/(l*l*y*y+a*a*c*c);p<0?p=0:p=Math.sqrt(p);let b=x*p*(l*y/a),d=x*p*(-a*c/l),g=u*b-h*d+(i+e)/2,_=h*b+u*d+(t+s)/2,T=bi([1,0],[(c-b)/l,(y-d)/a]),M=bi([(c-b)/l,(y-d)/a],[(-c-b)/l,(-y-d)/a]);!r&&M>0?M-=Math.PI*2:r&&M<0&&(M+=Math.PI*2);let E=T+M;return{rx:l,ry:a,cx:g,cy:_,theta1:T,theta2:E,dtheta:M}}function rr(i,t,e,s,n,r,l){const a=l-r,o=4/3*Math.tan(a/4),u=f.fromRotation(r),h=f.fromRotation(l),c=f.fromPoint(u),y=f.fromPoint(h);return c.translate(-o*u.y,o*u.x),y.translate(o*h.y,-o*h.x),u.scale(e,s).rotate(n).translate(i,t),c.scale(e,s).rotate(n).translate(i,t),y.scale(e,s).rotate(n).translate(i,t),h.scale(e,s).rotate(n).translate(i,t),[u.x,u.y,c.x,c.y,y.x,y.y,h.x,h.y]}function lr(i,t,e,s,n,r,l,a,o,u){const{cx:h,cy:c,theta1:y,dtheta:m,rx:x,ry:p}=nr(i,t,e,s,a,o,n,r,l),b=Math.ceil(Math.abs(m/(Math.PI/2))),d=m/b,g=[];let _=y;for(let T=0;T<b;T++){const M=_+d;let[E,A,w,C,D,lt,at,H]=rr(h,c,x,p,l,_,M);u==null||u(E,A,w,C,D,lt,at,H,T),_=M,g.push(E,A,w,C,D,lt,at,H)}return g}const Si={M:1,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},gi=new Set(Object.keys(Si).concat(Object.keys(Si).map(i=>i.toLowerCase())));function ar(i){return i===" "||i==="	"||i===`
`||i==="\r"}function or(i){return i===" "||i===","}function ur(i,t){let e=0,s=0,n=0,r=0,l=0,a=0,o=0,u=0,h="";for(let c=0,y=t.length;c<y;c++){const m=t[c];switch(m[0]){case"M":i.moveTo(m[1],m[2]),e=m[1],s=m[2],n=e,r=s;break;case"L":i.lineTo(m[1],m[2]),e=m[1],s=m[2];break;case"H":i.lineTo(m[1],s),e=m[1];break;case"V":i.lineTo(e,m[1]),s=m[1];break;case"Q":i.quadraticCurveTo(m[1],m[2],m[3],m[4]),l=m[1],a=m[2],e=m[3],s=m[4];break;case"T":o=e,u=s,(h==="Q"||h==="T")&&(o-=l-e,u-=a-s),i.quadraticCurveTo(o,u,m[1],m[2]),l=o,a=u,e=m[1],s=m[2];break;case"C":i.bezierCurveTo(m[1],m[2],m[3],m[4],m[5],m[6]),l=m[3],a=m[4],e=m[5],s=m[6];break;case"S":o=e,u=s,(h==="C"||h==="S")&&(o-=l-e,u-=a-s),i.bezierCurveTo(o,u,m[1],m[2],m[3],m[4]),l=m[1],a=m[2],e=m[3],s=m[4];break;case"A":{let x=e,p=s,b=m[1],d=m[2],g=m[3],_=!!m[4],T=!!m[5],M=m[6],E=m[7],A=M,w=E;lr(x,p,M,E,b,d,g,_,T,(C,D,lt,at,H,U,ot,Tt,V)=>{i.bezierCurveTo(lt,at,H,U,ot,Tt),A=ot,w=Tt}),e=A,s=w}break;case"Z":i.closePath(),e=n,s=r;break}h=m[0]}}function _i(i,t){const e=hr(t);ur(i,e)}function hr(i){const t=[];let e=0,s=0,n=i.length,r="",l="",a=0,o=0,u=0,h=0,c=0,y=0,m=0,x=0;for(;e<n;){for(s=e,r=i.charAt(s);ar(r);)r=i.charAt(++e);l=r.toUpperCase();const p=r!==l;if(gi.has(l)){r=i.charAt(++e);let b="",d=[];for(;e<n&&!gi.has(r);)or(r)?(b!==""&&d.push(parseFloat(b)),b=""):b+=r,r=i.charAt(++e);switch(b!==""&&d.push(parseFloat(b)),l){case"M":c=p?c+d[0]:d[0],y=p?y+d[1]:d[1],d[0]=c,d[1]=y,m=c,x=y;break;case"L":c=p?c+d[0]:d[0],y=p?y+d[1]:d[1],d[0]=c,d[1]=y;break;case"H":c=p?c+d[0]:d[0],d[0]=c;break;case"V":y=p?y+d[0]:d[0],d[0]=y;break;case"Q":a=p?c+d[0]:d[0],o=p?y+d[1]:d[1],c=p?c+d[2]:d[2],y=p?y+d[3]:d[3],d[0]=a,d[1]=o,d[2]=c,d[3]=y;break;case"T":c=p?c+d[0]:d[0],y=p?y+d[1]:d[1],d[0]=c,d[1]=y;break;case"C":a=p?c+d[0]:d[0],o=p?y+d[1]:d[1],u=p?c+d[2]:d[2],h=p?y+d[3]:d[3],c=p?c+d[4]:d[4],y=p?y+d[5]:d[5],d[0]=a,d[1]=o,d[2]=u,d[3]=h,d[4]=c,d[5]=y;break;case"S":u=p?c+d[0]:d[0],h=p?y+d[1]:d[1],c=p?c+d[2]:d[2],y=p?y+d[3]:d[3],d[0]=u,d[1]=h,d[2]=c,d[3]=y;break;case"A":let g=d[0],_=d[1],T=d[2],M=d[3],E=d[4];c=p?c+d[5]:d[5],y=p?y+d[6]:d[6],d[0]=g,d[1]=_,d[2]=T,d[3]=M,d[4]=E,d[5]=c,d[6]=y;break;case"Z":c=m,y=x;break}t.push([l].concat(d))}}return t}function cr(i){let t={tl:0,tr:0,br:0,bl:0};return typeof i=="number"?t={tl:i,tr:i,br:i,bl:i}:Array.isArray(i)?i.length===1?t={tl:i[0],tr:i[0],br:i[0],bl:i[0]}:i.length===2?t={tl:i[0],tr:i[1],br:i[0],bl:i[1]}:i.length===3?t={tl:i[0],tr:i[1],br:i[2],bl:i[1]}:i.length===4&&(t={tl:i[0],tr:i[1],br:i[2],bl:i[3]}):i&&(t.tl=i.x??0,t.tr=i.y??0,t.bl=i.z??0,t.br=i.w??0),t}function vt(i){for(var t=0;t<i.length;t++)if(i[t]!==void 0&&!Number.isFinite(i[t]))return!1;return!0}function vi(i){return i/Math.PI*180}function fr(i,t){return Math.abs(i-t)<1e-5}function mr(i,t,e,s,n,r,l=!1){ps(i,t,e,s,s,0,n,r,l)}function yr(i,t,e,s,n,r){if(vt([t,e,s,n,r])){if(r<0)throw"radii cannot be negative";i.isEmpty()&&i.moveTo(t,e),i.arcTo(f.create(t,e),f.create(s,n),r)}}function dr(i,t,e,s,n,r,l){vt([t,e,s,n,r,l])&&(i.isEmpty()&&i.moveTo(t,e),i.cubicTo(t,e,s,n,r,l))}function pr(i){if(!i.isEmpty()){var t=i.getBounds();(t.bottom-t.top||t.right-t.left)&&i.close()}}function Ti(i,t,e,s,n,r,l){var a=vi(l-r),o=vi(r),u=N.makeLTRB(t-s,e-n,t+s,e+n);if(fr(Math.abs(a),360)){var h=a/2;i.arcToOval(u,o,h,!1),i.arcToOval(u,o+h,h,!1);return}i.arcToOval(u,o,a,!1)}function ps(i,t,e,s,n,r,l,a,o=!1){if(vt([t,e,s,n,r,l,a])){if(s<0||n<0)throw"radii cannot be negative";var u=2*Math.PI,h=l%u;h<0&&(h+=u);var c=h-l;if(l=h,a+=c,!o&&a-l>=u?a=l+u:o&&l-a>=u?a=l-u:!o&&l>a?a=l+(u-(l-a)%u):o&&l<a&&(a=l-(u-(a-l)%u)),!r){Ti(i,t,e,s,n,l,a);return}var y=rt.fromRotateOrigin(r,t,e),m=rt.fromRotateOrigin(-r,t,e);i.transform(m),Ti(i,t,e,s,n,l,a),i.transform(y)}}function kr(i,t,e){vt([t,e])&&(i.isEmpty()&&i.moveTo(t,e),i.lineTo(t,e))}function xr(i,t,e){vt([t,e])&&i.moveTo(t,e)}function br(i,t,e,s,n){vt([t,e,s,n])&&(i.isEmpty()&&i.moveTo(t,e),i.quadTo(t,e,s,n))}function Sr(i,t,e,s,n){var r=N.makeXYWH(t,e,s,n);vt([r.left,r.top,r.right,r.bottom])&&i.addRect(r)}let gr=class ks{constructor(t){k(this,"_path",_t.default());typeof t=="string"?_i(this,t):t instanceof ks&&this._path.copy(t.getPath())}static default(){return new this}static fromSvgPath(t){return new this(t)}fromSvgPath(t){_i(this,t)}getPath(){return this._path}addPath(t,e){this._path.addPath(t.getPath()),e&&this._path.transform(e)}contains(t,e,s="nonzero"){return this._path.contains(t,e,s)}arc(t,e,s,n,r,l=!1){mr(this._path,t,e,s,n,r,l)}arcTo(t,e,s,n,r){yr(this._path,t,e,s,n,r)}bezierCurveTo(t,e,s,n,r,l){dr(this._path,t,e,s,n,r,l)}closePath(){pr(this._path)}conicTo(t,e,s,n,r){this._path.conicTo(t,e,s,n,r)}ellipseArc(t,e,s,n,r,l,a,o,u){this._path.isEmpty()&&this._path.moveTo(t,e),this._path.arcTo(f.create(r,l),a,Number(o),+!u,f.create(s,n))}roundRect(t,e,s,n,r){let l=cr(r);const a=[f.create(l.tl,l.tl),f.create(l.tr,l.tr),f.create(l.br,l.br),f.create(l.bl,l.bl)];let o=ct.makeEmpty(),u=N.makeXYWH(t,e,s,n);o.setRectRadii(u,a),this._path.addRRect(o)}ellipse(t,e,s,n,r,l,a,o=!1){ps(this._path,t,e,s,n,r,l,a,o)}lineTo(t,e){kr(this._path,t,e)}moveTo(t,e){xr(this._path,t,e)}quadraticCurveTo(t,e,s,n){br(this._path,t,e,s,n)}rect(t,e,s,n){Sr(this._path,t,e,s,n)}toCanvas(t){return this._path.toCanvas(t)}toPath2D(){return this._path.toPath2D()}toSvgPath(){return this._path.toSvgPath()}};exports.FillRule=ms;exports.FloatPoint=v;exports.LineCap=fs;exports.LineJoin=cs;exports.Matrix2D=rt;exports.PI=we;exports.Path2D=gr;exports.PathBuilder=_t;exports.PathSegmentsIter=Se;exports.PathStroker=er;exports.Point=f;exports.Point3D=Yt;exports.PointerArray=F;exports.RRect=ct;exports.Rect=N;exports.Ref=L;exports.SK_Scalar1=B;exports.SK_ScalarHalf=ft;exports.SK_ScalarInfinity=zs;exports.SK_ScalarMax=Ri;exports.SK_ScalarMin=Qs;exports.SK_ScalarNaN=Vs;exports.SK_ScalarNearlyZero=de;exports.SK_ScalarNegativeInfinity=Bs;exports.SK_ScalarPI=tt;exports.SK_ScalarRoot2Over2=oe;exports.SK_ScalarSinCosNearlyZero=De;exports.SK_ScalarSqrt2=Ws;exports.SK_ScalarTanPIOver8=qs;exports.Size=Lt;exports.SkBezierCubic=ws;exports.SkChopCubicAtHalf=yn;exports.SkChopCubicAtXExtrema=xn;exports.SkChopCubicAtYExtrema=je;exports.SkChopCubicAt_3=Ut;exports.SkChopCubicAt_4=Yi;exports.SkChopCubicAt_5=Xe;exports.SkChopQuadAt=zi;exports.SkChopQuadAtYExtrema=Bi;exports.SkComputeConicExtremas=Hi;exports.SkComputeCubicExtremas=Ki;exports.SkComputeQuadExtremas=Ui;exports.SkConic=Q;exports.SkCubicType=Qi;exports.SkCubics=Et;exports.SkDegreesToRadians=Ae;exports.SkDoubleToScalar=Bt;exports.SkEvalCubicAt=Ye;exports.SkEvalCubicPosAt=jt;exports.SkEvalCubicTangentAt=Oe;exports.SkEvalQuadAt=gt;exports.SkEvalQuadTangentAt=pe;exports.SkFindBisector=ke;exports.SkFindCubicCusp=Zi;exports.SkFindCubicExtrema=Zt;exports.SkFindCubicInflections=ji;exports.SkFindCubicMaxCurvature=Ze;exports.SkFindCubicMidTangent=kn;exports.SkFindQuadExtrema=qe;exports.SkFindQuadMaxCurvature=Vi;exports.SkFindQuadMidTangent=cn;exports.SkFindUnitQuadRoots=it;exports.SkFloatToScalar=Ys;exports.SkIntToFloat=Ds;exports.SkIntToScalar=Ii;exports.SkQuadCoeff=dt;exports.SkQuads=zt;exports.SkRadiansToDegrees=sn;exports.SkRotationDirection=Nt;exports.SkScalarACos=Ni;exports.SkScalarASin=Js;exports.SkScalarATan2=Ee;exports.SkScalarAbs=Y;exports.SkScalarAve=Le;exports.SkScalarCeilToInt=Ei;exports.SkScalarCeilToScalar=js;exports.SkScalarCopySign=Ks;exports.SkScalarCos=mt;exports.SkScalarCosSnapToZero=Dt;exports.SkScalarExp=$s;exports.SkScalarFloorToInt=Zs;exports.SkScalarFloorToScalar=Ve;exports.SkScalarFraction=en;exports.SkScalarHalf=J;exports.SkScalarInterp=$;exports.SkScalarInterpFunc=ln;exports.SkScalarInvert=he;exports.SkScalarIsFinite=yt;exports.SkScalarIsInt=nn;exports.SkScalarIsNaN=Fi;exports.SkScalarLog=Gs;exports.SkScalarLog2=tn;exports.SkScalarMod=Hs;exports.SkScalarNearlyEqual=Z;exports.SkScalarNearlyZero=et;exports.SkScalarPow=Li;exports.SkScalarRoundToInt=Us;exports.SkScalarRoundToScalar=re;exports.SkScalarSignAsInt=Ne;exports.SkScalarSignAsScalar=rn;exports.SkScalarSin=ue;exports.SkScalarSinSnapToZero=Vt;exports.SkScalarSqrt=K;exports.SkScalarSquare=wt;exports.SkScalarTan=Ai;exports.SkScalarToDouble=Xs;exports.SkScalarToFloat=Os;exports.SkScalarTruncToScalar=wi;exports.SkScalarsAreFinite=ye;exports.SkScalarsAreFiniteArray=Wi;exports.SkScalarsEqual=Fe;exports.VectorIterator=vs;exports.clamp=ht;exports.copysign=Ci;exports.fabs=Pi;exports.isFinite=Rs;exports.kMaxConicToQuadPOW2=We;exports.kMaxConicsForArc=qi;exports.lerp=X;exports.magnitudeAlt=Is;exports.max=Ps;exports.min=Ms;exports.nearly_equal=Qt;exports.pointInPath=hs;exports.sk_double_nearly_zero=q;exports.sk_double_to_float=Cs;exports.sk_doubles_nearly_equal_ulps=bt;exports.sk_ieee_double_divide=le;exports.sk_ieee_float_divide=Xt;exports.sqrt=Mi;exports.swap=Ts;exports.tangent_conic=Wn;exports.tangent_cubic=os;exports.tangent_line=ls;exports.tangent_quad=as;exports.winding_conic=Fn;exports.winding_cubic=ss;exports.winding_line=Gi;exports.winding_quad=is;
